"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[1770],{82592:function(e,t,s){s.d(t,{m:function(){return l}});var r=s(98503),n=s(45121),o=s(63600),i=s(55532),u=s(26772);const h=(0,r.bO)();class l{constructor(e){this.geometryInfo=e,this._boundsStore=new o.o,this._featuresById=new Map,this.events=new r.bP,this.featureAdapter=u.o}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,s,r,n]=this.fullBounds;return{xmin:t,ymin:s,xmax:r,ymax:n,spatialReference:(0,i.h)(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(e){const t=e.map((e=>this._upsert(e)));return this._emitChanged(),t.filter(r.bQ)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged()}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const s of e){const e=this._boundsStore.get(s.objectId);e&&t((0,r.bR)(h,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}_emitChanged(){this.events.emit("changed",void 0)}_add(e){if(!e)return;const t=e.objectId;if(null==t)return void r.n.getLogger("esri.layers.graphics.data.FeatureStore").error(new r.s("featurestore:invalid-feature","feature id is missing",{feature:e}));const s=this._featuresById.get(t);let o;if(s?(e.displayId=s.displayId,o=this._boundsStore.get(t),this._boundsStore.delete(t)):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(t,null),void this._featuresById.set(t,e);o=(0,n.g)(o??(0,r.bS)(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=o&&this._boundsStore.set(t,o),this._featuresById.set(t,e)}_upsert(e){const t=e?.objectId;if(null==t)return r.n.getLogger("esri.layers.graphics.data.FeatureStore").error(new r.s("featurestore:invalid-feature","feature id is missing",{feature:e})),null;const s=this._featuresById.get(t);if(!s)return this._add(e),e;const{geometry:o,attributes:i}=e;for(const r in i)s.attributes[r]=i[r];return o&&(s.geometry=o,this._boundsStore.set(t,(0,n.g)((0,r.bS)(),o,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),s}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._boundsStore.delete(t),this._featuresById.delete(t),e}}},81519:function(e,t,s){s.d(t,{e:function(){return l}});var r=s(98503);const n=-3,o=n-1;var i;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(i||(i={}));class u{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new r.bX,this._users=new r.bX}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){return this._db.get(e.id+t)?.size??0}put(e,t,s,r,u){t=e.id+t;const l=this._db.get(t);if(l&&(this._size-=l.size,e.size-=l.size,this._db.delete(t),l.entry!==s&&this._notifyRemove(t,l.entry,l.size,i.ALL)),r>this._maxSize)return void this._notifyRemove(t,s,r,i.ALL);if(void 0===s)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return console.warn(`Refusing to cache entry with size ${r} for key ${t}`),void this._notifyRemove(t,s,0,i.ALL);const c=1+Math.max(u,o)-n;this._db.set(t,new h(s,r,c)),this._size+=r,e.size+=r,this._checkSize()}updateSize(e,t,s,r){t=e.id+t;const n=this._db.get(t);if(n&&n.entry===s){for(this._size-=n.size,e.size-=n.size;r>this._maxSize;){const e=this._notifyRemove(t,s,r,i.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);r=e}n.size=r,this._size+=r,e.size+=r,this._checkSize()}}pop(e,t){t=e.id+t;const s=this._db.get(t);if(s)return this._size-=s.size,e.size-=s.size,this._db.delete(t),++this._hit,s.entry;++this._miss}get(e,t){t=e.id+t;const s=this._db.get(t);if(void 0!==s)return this._db.delete(t),s.lives=s.lifetime,this._db.set(t,s),++this._hit,s.entry;++this._miss}peek(e,t){const s=this._db.get(e.id+t);return s?++this._hit:++this._miss,s?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},s=new Array;this._db.forEach(((e,r)=>{const n=e.lifetime;s[n]=(s[n]||0)+e.size,this._users.forAll((s=>{const{id:n,name:o}=s;if(r.startsWith(n)){const s=t[o]||0;t[o]=s+e.size}}))}));const r={};this._users.forAll((e=>{const s=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const n=t[s]||0;t[s]=n,r[s]=Math.round(100*e.hitRate)+"%"}else r[s]="0%"}));const o=Object.keys(t);o.sort(((e,s)=>t[s]-t[e])),o.forEach((s=>e[s]=Math.round(t[s]/2**20)+"MB / "+r[s]));for(let i=s.length-1;i>=0;--i){const t=s[i];t&&(e["Priority "+(i+n-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,s)=>{s.startsWith(t)&&(this._size-=e.size,this._db.delete(s),this._notifyRemove(s,e.entry,e.size,i.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,i.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,s,r){let n;return this._removeFuncs.some((o=>{if(e.startsWith(o[0])){const e=o[1](t,r,s);return"number"==typeof e&&(n=e),!0}return!1})),n}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const s=e?.id;let r=!0;for(;r;){r=!1;for(const[n,o]of this._db)if(0===o.lifetime&&(!s||n.startsWith(s))){if(this._purgeItem(n,o,e),t.size<=.9*t.maxSize)return;r||=this._db.has(n)}}for(const[n,o]of this._db)if((!s||n.startsWith(s))&&(this._purgeItem(n,o,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t,s=this._users.find((t=>e.startsWith(t.id)))){if(this._db.delete(e),t.lives<=1){this._size-=t.size,s&&(s.size-=t.size);const r=this._notifyRemove(e,t.entry,t.size,i.SOME);null!=r&&r>0&&(this._size+=r,s&&(s.size+=r),t.lives=t.lifetime,t.size=r,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class h{constructor(e,t,s){this.entry=e,this.size=t,this.lifetime=s,this.lives=s}}class l{constructor(e,t){this._storage=new u,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,s=1){this._storage.put(this,e,t,s,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},75934:function(e,t,s){s.d(t,{a:function(){return o},e:function(){return n},s:function(){return r}});let r=class e{constructor(e=[],t=[]){this.lengths=e??[],this.coords=t??[]}static fromJSON(t){return new e(t.lengths,t.coords)}static fromRect(t){const[s,r,n,o]=t,i=n-s,u=o-r;return new e([5],[s,r,i,0,0,u,-i,0,0,-u])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let s=0;s<this.lengths.length;s++){const r=this.lengths[s];for(let s=0;s<r;s++)e(this.coords[2*(s+t)],this.coords[2*(s+t)+1]);t+=r}}deltaDecode(){const e=this.clone(),{coords:t,lengths:s}=e;let r=0;for(const n of s){for(let e=1;e<n;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=n}return e}clone(t){if(0===this.lengths.length)return new e([],[this.coords[0],this.coords[1]]);const s=2*(0===this.lengths.length?1:this.lengths.reduce(((e,t)=>e+t))),r=this.coords.slice(0,s);return t?(t.set(r),new e(this.lengths,t)):new e(Array.from(this.lengths),Array.from(r))}};class n{constructor(e=null,t={},s,r){this.geometry=e,this.attributes=t,this.centroid=s,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}static fromJSON(e,t){const s=e.geometry?r.fromJSON(e.geometry):null,o=e.centroid?r.fromJSON(e.centroid):null,i=e.attributes[t];return new n(s,e.attributes,o,i)}weakClone(){const e=new n(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}clone(){const e=this.geometry?.clone(),t=new n(e,{...this.attributes},this.centroid?.clone(),this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function o(e){return!!e.geometry?.coords?.length}},83258:function(e,t,s){s.d(t,{e:function(){return r}});class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},45121:function(e,t,s){s.d(t,{$:function(){return Z},H:function(){return j},I:function(){return he},K:function(){return C},N:function(){return g},O:function(){return G},P:function(){return _},Q:function(){return q},U:function(){return R},a:function(){return se},b:function(){return ce},c:function(){return K},e:function(){return D},f:function(){return te},g:function(){return ie},h:function(){return re},i:function(){return ee},l:function(){return Q},n:function(){return W},o:function(){return $},p:function(){return ue},r:function(){return H},t:function(){return X},w:function(){return m}});var r=s(98503),n=s(75934),o=s(83258);function i(e,t){return e?t?4:3:t?3:2}const u=()=>r.n.getLogger("esri.layers.graphics.featureConversionUtils"),h={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},l=(e,t,s,r,n,o)=>{e[s]=n,e[s+1]=o},c=(e,t,s,r,n,o)=>{e[s]=n,e[s+1]=o,e[s+2]=t[r+2]},a=(e,t,s,r,n,o)=>{e[s]=n,e[s+1]=o,e[s+2]=t[r+3]},d=(e,t,s,r,n,o)=>{e[s]=n,e[s+1]=o,e[s+2]=t[r+2],e[s+3]=t[r+3]};function f(e,t,s,r){if(e){if(s)return t&&r?d:c;if(t&&r)return a}else if(t&&r)return c;return l}function g({scale:e,translate:t},s){return Math.round((s-t[0])/e[0])}function m({scale:e,translate:t},s){return Math.round((t[1]-s)/e[1])}function y({scale:e,translate:t},s,r){return s*e[r]+t[r]}function _(e,t,s){return e?t?s?v(e):I(e):s?w(e):p(e):null}function p(e){const t=e.coords;return{x:t[0],y:t[1]}}function b(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function I(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function z(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function w(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function F(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function v(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function M(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function S(e,t,s,r){let n=p;s&&r?n=v:s?n=I:r&&(n=w);for(const o of t){const{geometry:t,attributes:s}=o,r=null!=t?n(t):null;e.push({attributes:s,geometry:r})}return e}function T(e,t){return e&&t?M:e?z:t?F:b}function x(e,t,s,r,o){const i=T(s,r);for(const{geometry:u,attributes:h}of t){const t=null!=u?i(new n.s,u):null;e.push(new n.e(t,h,null,o?h[o]:void 0))}return e}function G(e,t,s=T(null!=t.z,null!=t.m)){return s(e,t)}function N(e,t,s,r){for(const{geometry:n,attributes:o}of t)e.push({attributes:o,geometry:null!=n?R(n,s,r):null});return e}function R(e,t,s){if(null==e)return null;const r=i(t,s),n=[];for(let o=0;o<e.coords.length;o+=r){const t=[];for(let s=0;s<r;s++)t.push(e.coords[o+s]);n.push(t)}return t?s?{points:n,hasZ:t,hasM:s}:{points:n,hasZ:t}:s?{points:n,hasM:s}:{points:n}}function L(e,t,s,r,o){const u=i(s,r);for(const{geometry:i,attributes:h}of t){const t=null!=i?B(new n.s,i,u):null;e.push(new n.e(t,h,null,o?h[o]:void 0))}return e}function B(e,t,s=i(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let n=0;for(const o of t.points)for(let e=0;e<s;e++)r[n++]=o[e];return e}function P(e,t,s,r){for(const{geometry:n,attributes:o}of t)e.push({attributes:o,geometry:null!=n?Z(n,s,r):null});return e}function Z(e,t,s){if(!e)return null;const r=i(t,s),{coords:n,lengths:o}=e,u=[];let h=0;for(const i of o){const e=[];for(let t=0;t<i;t++){const t=[];for(let e=0;e<r;e++)t.push(n[h++]);e.push(t)}u.push(e)}return t?s?{paths:u,hasZ:t,hasM:s}:{paths:u,hasZ:t}:s?{paths:u,hasM:s}:{paths:u}}function k(e,t,s,r,o){const u=i(s,r);for(const{geometry:i,attributes:h,centroid:l}of t){const t=null!=i?A(new n.s,i,u):null,s=null!=l?G(new n.s,l):null;e.push(new n.e(t,h,s,o?h[o]:void 0))}return e}function A(e,t,s=i(t.hasZ,t.hasM)){const{lengths:r,coords:n}=e;let o=0;for(const i of t.paths){for(const e of i)for(let t=0;t<s;t++)n[o++]=e[t];r.push(i.length)}return e}function E(e,t,s,r){for(const{geometry:n,attributes:o,centroid:i}of t){const t=null!=n?j(n,s,r):null;if(null!=i){const s=p(i);e.push({attributes:o,centroid:s,geometry:t})}else e.push({attributes:o,geometry:t})}return e}function j(e,t,s){if(!e)return null;const r=i(t,s),{coords:n,lengths:o}=e,u=[];let h=0;for(const i of o){const e=[];for(let t=0;t<i;t++){const t=[];for(let e=0;e<r;e++)t.push(n[h++]);e.push(t)}u.push(e)}return t?s?{rings:u,hasZ:t,hasM:s}:{rings:u,hasZ:t}:s?{rings:u,hasM:s}:{rings:u}}function O(e,t,s,r,o){for(const{geometry:i,centroid:u,attributes:h}of t){const t=null!=i?C(new n.s,i,s,r):null,l=o?h[o]:void 0;null!=u?e.push(new n.e(t,h,b(new n.s,u),l)):e.push(new n.e(t,h,null,l))}return e}function C(e,t,s=t.hasZ,r=t.hasM){return q(e,t.rings,s,r)}function q(e,t,s,r){const n=i(s,r),{lengths:o,coords:u}=e;let h=0;ae(e);for(const i of t){for(const e of i)for(let t=0;t<n;t++)u[h++]=e[t];o.push(i.length)}return e}const Y=[],U=[];function X(e,t,s,r,n){Y[0]=e;const[o]=D(U,Y,t,s,r,n);return de(Y),de(U),o}function D(e,t,s,o,i,h){if(de(e),!s){for(const s of t){const t=h?s.attributes[h]:void 0;e.push(new n.e(null,s.attributes,null,t))}return e}switch(s){case"esriGeometryPoint":return x(e,t,o,i,h);case"esriGeometryMultipoint":return L(e,t,o,i,h);case"esriGeometryPolyline":return k(e,t,o,i,h);case"esriGeometryPolygon":case"esriGeometryMultiPatch":return O(e,t,o,i,h);default:u().error("convertToFeatureSet:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${s}'`)),de(e)}return e}function W(e,t,s,r){U[0]=e,J(Y,U,t,s,r);const n=Y[0];return de(Y),de(U),n}function $(e,t,s){if(null==e)return null;const o=new n.s;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==s&&(s=e.hasM),(0,r.a8)(e)?T(t??null!=e.z,s??null!=e.m)(o,e):(0,r.a9)(e)?C(o,e,t,s):(0,r.aa)(e)?A(o,e,i(t,s)):(0,r.ab)(e)?B(o,e,i(t,s)):void u().error("convertFromGeometry:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${e}'`))}function H(e,t,s,n){const o=e&&("coords"in e?e:e.geometry);if(null==o)return null;switch(t){case"esriGeometryPoint":{let e=p;return s&&n?e=v:s?e=I:n&&(e=w),e(o)}case"esriGeometryMultipoint":return R(o,s,n);case"esriGeometryPolyline":return Z(o,s,n);case"esriGeometryPolygon":return j(o,s,n);default:return u().error("convertToGeometry:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${t}'`)),null}}function V(e,t){for(const s of t)e.push({attributes:s.attributes});return e}function J(e,t,s,n,o){if(de(e),null==s)return V(e,t);switch(s){case"esriGeometryPoint":return S(e,t,n,o);case"esriGeometryMultipoint":return N(e,t,n,o);case"esriGeometryPolyline":return P(e,t,n,o);case"esriGeometryPolygon":return E(e,t,n,o);default:u().error("convertToFeatureSet:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${s}'`))}return e}function Q(e){const{objectIdFieldName:t,spatialReference:s,transform:r,fields:n,hasM:o,hasZ:i,features:u,geometryType:h,exceededTransferLimit:l,uniqueIdField:c,queryGeometry:a,queryGeometryType:d}=e,f={features:J([],u,h,i,o),fields:n,geometryType:h,objectIdFieldName:t,spatialReference:s,uniqueIdField:c,queryGeometry:H(a,d,!1,!1)};return r&&(f.transform=r),l&&(f.exceededTransferLimit=l),o&&(f.hasM=o),i&&(f.hasZ=i),f}function K(e,t){const s=new o.e,{hasM:n,hasZ:i,features:h,objectIdFieldName:l,spatialReference:c,geometryType:a,exceededTransferLimit:d,transform:f,fields:g}=e;return g&&(s.fields=g),s.geometryType=a??null,s.objectIdFieldName=l??t??null,s.spatialReference=c??null,s.objectIdFieldName?(h&&D(s.features,h,a,i,n,s.objectIdFieldName),d&&(s.exceededTransferLimit=d),n&&(s.hasM=n),i&&(s.hasZ=i),f&&(s.transform=f),s):(u().error(new r.s("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),s)}function ee(e){const{transform:t,features:s,hasM:r,hasZ:n}=e;if(!t)return e;for(const o of s)null!=o.geometry&&ue(o.geometry,o.geometry,r,n,t),null!=o.centroid&&ue(o.centroid,o.centroid,r,n,t);return e.transform=null,e}function te(e,t){const{geometryType:s,features:r,hasM:o,hasZ:i}=t;if(!e)return t;for(let u=0;u<r.length;u++){const t=r[u],h=t.weakClone();h.geometry=new n.s,se(h.geometry,t.geometry,o,i,s,e),t.centroid&&(h.centroid=new n.s,se(h.centroid,t.centroid,o,i,"esriGeometryPoint",e)),r[u]=h}return t.transform=e,t}function se(e,t,s,r,n,o,u=s,l=r){if(ae(e),!t?.coords.length)return null;const c=h[n],{coords:a,lengths:d}=t,y=i(s,r),_=i(s&&u,r&&l),p=f(s,r,u,l);if(!d.length)return p(e.coords,a,0,0,g(o,a[0]),m(o,a[1])),ae(e,y,0),e;let b,I,z,w,F=0,v=0,M=v;for(const i of d){if(i<c)continue;let t=0;v=M,z=b=g(o,a[F]),w=I=m(o,a[F+1]),p(e.coords,a,v,F,z,w),t++,F+=y,v+=_;for(let s=1;s<i;s++,F+=y)z=g(o,a[F]),w=m(o,a[F+1]),z===b&&w===I||(p(e.coords,a,v,F,z-b,w-I),v+=_,t++,b=z,I=w);t>=c&&(e.lengths.push(t),M=v)}return de(e.coords,M),e.coords.length?e:null}function re(e,t,s,r,n,o,u=s,l=r){if(ae(e),!t?.coords.length)return null;const c=h[n],{coords:a,lengths:d}=t,g=i(s,r),m=i(s&&u,r&&l),y=f(s,r,u,l);if(!d.length)return y(e.coords,a,0,0,a[0],a[1]),ae(e,g,0),e;let _=0;const p=o*o;for(const i of d){if(i<c){_+=i*g;continue}const t=e.coords.length/m,s=_,r=_+(i-1)*g;y(e.coords,a,e.coords.length,s,a[s],a[s+1]),oe(e.coords,a,g,p,y,s,r),y(e.coords,a,e.coords.length,r,a[r],a[r+1]);const n=e.coords.length/m-t;n>=c?e.lengths.push(n):de(e.coords,t*m),_+=i*g}return e.coords.length?e:null}function ne(e,t,s,r){const n=e[t],o=e[t+1],i=e[s],u=e[s+1],h=e[r],l=e[r+1];let c=i,a=u,d=h-c,f=l-a;if(0!==d||0!==f){const e=((n-c)*d+(o-a)*f)/(d*d+f*f);e>1?(c=h,a=l):e>0&&(c+=d*e,a+=f*e)}return d=n-c,f=o-a,d*d+f*f}function oe(e,t,s,r,n,o,i){let u,h=r,l=0;for(let c=o+s;c<i;c+=s)u=ne(t,c,o,i),u>h&&(l=c,h=u);h>r&&(l-o>s&&oe(e,t,s,r,n,o,l),n(e,t,e.length,l,t[l],t[l+1]),i-l>s&&oe(e,t,s,r,n,l,i))}function ie(e,t,s,n){if(!t?.coords?.length)return null;const o=i(s,n);let u=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=o){const s=e[t],r=e[t+1];u=Math.min(u,s),l=Math.max(l,s),h=Math.min(h,r),c=Math.max(c,r)}}return(0,r.ac)(e)?(0,r.ad)(e,u,h,l,c):(0,r.ae)(u,h,l,c,e),e}function ue(e,t,s,n,o){const{coords:u,lengths:h}=t,l=i(s,n);if(!u.length)return e!==t&&ae(e),e;(0,r.af)(o);const{originPosition:c,scale:a,translate:d}=o,f=fe;f.originPosition=c;const g=f.scale;g[0]=a[0]??1,g[1]=-(a[1]??1),g[2]=a[2]??1,g[3]=a[3]??1;const m=f.translate;if(m[0]=d[0]??0,m[1]=d[1]??0,m[2]=d[2]??0,m[3]=d[3]??0,!h.length){for(let t=0;t<l;++t)e.coords[t]=y(f,u[t],t);return e!==t&&ae(e,l,0),e}let _=0;for(let r=0;r<h.length;r++){const t=h[r];e.lengths[r]=t;for(let r=0;r<l;++r)e.coords[_+r]=y(f,u[_+r],r);let s=e.coords[_],n=e.coords[_+1];_+=l;for(let r=1;r<t;r++,_+=l){s+=u[_]*g[0],n+=u[_+1]*g[1],e.coords[_]=s,e.coords[_+1]=n;for(let t=2;t<l;++t)e.coords[_+t]=y(f,u[_+t],t)}}return e!==t&&ae(e,u.length,h.length),e}function he(e,t,s,r,n,o){if(ae(e),e.lengths.push(...t.lengths),s===n&&r===o)for(let i=0;i<t.coords.length;i++)e.coords.push(t.coords[i]);else{const u=i(s,r),h=f(s,r,n,o),l=t.coords;for(let t=0;t<l.length;t+=u)h(e.coords,l,e.coords.length,t,l[t],l[t+1])}return e}function le(e,t,s,r){let n=0,o=e[r*t],i=e[r*(t+1)];for(let u=1;u<s;u++){const s=o+e[r*(t+u)],h=i+e[r*(t+u)+1],l=(s-o)*(h+i);o=s,i=h,n+=l}return.5*n}function ce(e,t){const{coords:s,lengths:r}=e;let n=0,o=0;for(let i=0;i<r.length;i++){const e=r[i];o+=le(s,n,e,t),n+=e}return Math.abs(o)}function ae(e,t=0,s=0){de(e.lengths,s),de(e.coords,t)}function de(e,t=0){e.length!==t&&(e.length=t)}const fe={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},22555:function(e,t,s){s.d(t,{i:function(){return n}});var r=s(98503);const n=new r.ax({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},26772:function(e,t,s){s.d(t,{o:function(){return o}});var r=s(55532),n=s(75934);const o={getObjectId:e=>e.objectId,getAttributes:e=>e.attributes,getAttribute:(e,t)=>e.attributes[t],cloneWithGeometry:(e,t)=>new n.e(t,e.attributes,null,e.objectId),getGeometry:e=>e.geometry,getCentroid:(e,t)=>(null==e.centroid&&(e.centroid=(0,r.n)(new n.s,e.geometry,t.hasZ,t.hasM)),e.centroid)}}}]);
//# sourceMappingURL=1770.2134cc9b.js.map