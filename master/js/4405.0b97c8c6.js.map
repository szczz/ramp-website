{"version":3,"file":"js/4405.0b97c8c6.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/ArcGISCachedService-D6dqtD4g.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/TileInfoTilemapCache-D7QMO-5M.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/TileLayer-BgqkYlfX.js"],"sourcesContent":["import{k as t,o,u as m,B as v,A as x}from\"./main-I34c1W55.js\";import{z as d}from\"./TileInfo-DyHyB1GX.js\";import{e as S}from\"./TileInfoTilemapCache-D7QMO-5M.js\";import{T as I}from\"./TilemapCache-ByBYsHUV.js\";const O=f=>{let e=class extends f{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(s,l){return l.minLOD!=null&&l.maxLOD!=null?s:0}readMaxScale(s,l){return l.minLOD!=null&&l.maxLOD!=null?s:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(s,l,h){const y=l.capabilities?.includes(\"Tilemap\");let{minLOD:i,maxLOD:r,minScale:p,maxScale:c}=l;if(i==null&&r==null&&p!==0&&c!==0){const a=n=>Math.round(1e4*n)/1e4;p=a(p||l.tileInfo.lods[0].scale),c=a(c||l.tileInfo.lods[l.tileInfo.lods.length-1].scale);for(const n of l.tileInfo.lods){const u=a(n.scale);i=u>=p?n.level:i,r=u>=c?n.level:r}}if(y)return new I({layer:this,minLOD:i,maxLOD:r});if(l.tileInfo){const a=new d;return a.read(l.tileInfo,h),new S(a,i,r)}return null}};return t([o({json:{read:{source:\"copyrightText\"}}})],e.prototype,\"copyright\",void 0),t([o()],e.prototype,\"minScale\",void 0),t([m(\"service\",\"minScale\")],e.prototype,\"readMinScale\",null),t([o()],e.prototype,\"maxScale\",void 0),t([m(\"service\",\"maxScale\")],e.prototype,\"readMaxScale\",null),t([o({type:v})],e.prototype,\"spatialReference\",void 0),t([o({readOnly:!0})],e.prototype,\"supportsBlankTile\",null),t([o({type:d})],e.prototype,\"tileInfo\",void 0),t([o()],e.prototype,\"tilemapCache\",void 0),t([m(\"service\",\"tilemapCache\",[\"capabilities\",\"tileInfo\"])],e.prototype,\"readTilemapCache\",null),t([o()],e.prototype,\"version\",void 0),e=t([x(\"esri.layers.mixins.ArcGISCachedService\")],e),e};export{O as p};\n","import{O as n,s as h,E as r}from\"./main-I34c1W55.js\";class c{constructor(t,e=0,i=t.lods[t.lods.length-1].level){this.tileInfo=t,this.minLOD=e,this.maxLOD=i,t.lodAt(e)||(this.minLOD=t.lods[0].level),t.lodAt(i)||(this.maxLOD=t.lods[t.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(t,e,i){const l=this.tileInfo?.lodAt(t);return!l||t<this.minLOD||t>this.maxLOD?\"unavailable\":l.cols&&l.rows?i>=l.cols[0]&&i<=l.cols[1]&&e>=l.rows[0]&&e<=l.rows[1]?\"unknown\":\"unavailable\":\"unknown\"}async fetchAvailability(t,e,i,l){await n(l);const s=this.getAvailability(t,e,i);if(s===\"unavailable\")throw new h(\"tile-map:tile-unavailable\",\"Tile is not available\",{level:t,row:e,col:i});return s}async fetchAvailabilityUpsample(t,e,i,l,s){await n(s),l.level=t,l.row=e,l.col=i;const o=this.tileInfo;return o.updateTileInfo(l),this.fetchAvailability(t,e,i,s).catch(a=>{if(r(a))throw a;if(o.upsampleTile(l))return this.fetchAvailabilityUpsample(l.level,l.row,l.col,l,s);throw a})}}export{c as e};\n","import{G as _,B as f,I as S,U as u,bw as T,s as h,bx as b,k as i,o,u as w,q as O,by as R,A as U}from\"./main-I34c1W55.js\";import{t as W}from\"./loadAll-DRnwCM1i.js\";import{S as P}from\"./MultiOriginJSONSupport-DsYvNMb2.js\";import{f as j}from\"./Layer-CYh3Ux8v.js\";import{i as A}from\"./APIKeyMixin-QZjXDE8U.js\";import{p as L}from\"./ArcGISCachedService-D6dqtD4g.js\";import{m as B,f as M,t as k}from\"./SublayersOwner-CTaQEEec.js\";import{l as I}from\"./ArcGISService-BY6uXmrc.js\";import{l as N}from\"./BlendLayer-DPdNbUGL.js\";import{e as C}from\"./CustomParametersMixin-C1rOrKc_.js\";import{b as D}from\"./OperationalLayer-DhLn_F27.js\";import{j as J}from\"./PortalLayer-BC1AAJpi.js\";import{f as q}from\"./RefreshableLayer-DjbX8EP7.js\";import{t as G}from\"./ScaleRangeLayer-kD9VKvAo.js\";import{d as $,g as V,p as x}from\"./arcgisLayerUrl-BTWijBPh.js\";import{y as E}from\"./commonProperties-s5Ra1orv.js\";import{o as m}from\"./imageBitmapUtils-CpVorAnt.js\";var y;const v=[\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Elevation/World_Hillshade\",\"Elevation/World_Hillshade_Dark\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Ocean_Basemap\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Boundaries_and_Places_Alternate\",\"Reference/World_Transportation\",\"World_Imagery\",\"World_Street_Map\",\"World_Topo_Map\"];let s=y=class extends N(G(B(L(M(D(J(I(P(q(A(C(j)))))))))))){constructor(...e){super(...e),this.listMode=\"show\",this.isReference=null,this.operationalLayerType=\"ArcGISTiledMapServiceLayer\",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type=\"tile\",this.url=null}normalizeCtorArgs(e,r){return typeof e==\"string\"?{url:e,...r}:e}load(e){const r=e!=null?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).catch(_).then(()=>this._fetchService(r))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,r){return(e=e||r.tileInfo?.spatialReference)&&f.fromJSON(e)}writeSublayers(e,r,t,a){if(!this.loaded||!e)return;const n=e.slice().reverse().flatten(({sublayers:p})=>p&&p.toArray().reverse()).toArray(),l=[],c={writeSublayerStructure:!1,...a};n.forEach(p=>{const d=p.write({},c);l.push(d)}),l.some(p=>Object.keys(p).length>1)&&(r.layers=l)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map(r=>S(r).path):null}fetchTile(e,r,t,a={}){const{signal:n}=a,l=this.getTileUrl(e,r,t),c={responseType:\"image\",signal:n,query:{...this.refreshParameters}};return u(l,c).then(p=>p.data)}async fetchImageBitmapTile(e,r,t,a={}){const{signal:n}=a;if(this.fetchTile!==y.prototype.fetchTile){const d=await this.fetchTile(e,r,t,a);return m(d,e,r,t,n)}const l=this.getTileUrl(e,r,t),c={responseType:\"blob\",signal:n,query:{...this.refreshParameters}},{data:p}=await u(l,c);return m(p,e,r,t,n)}getTileUrl(e,r,t){const a=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,n=T({...this.parsedUrl?.query,blankTile:!a&&null,...this.customParameters,token:this.apiKey}),l=this.tileServers;return`${l&&l.length?l[r%l.length]:this.parsedUrl?.path}/tile/${e}/${r}/${t}${n?\"?\"+n:\"\"}`}loadAll(){return W(this,e=>{e(this.allSublayers)})}_fetchService(e){return new Promise((r,t)=>{if(this.sourceJSON){if(this.sourceJSON.bandCount!=null&&this.sourceJSON.pixelSizeX!=null)throw new h(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");return void r({data:this.sourceJSON})}if(!this.parsedUrl)throw new h(\"tile-layer:undefined-url\",\"layer's url is not defined\");const a=$(this.parsedUrl.path);if(a!=null&&a.serverType===\"ImageServer\")throw new h(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");u(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then(r,t)}).then(r=>{let t=this.url;if(r.ssl&&(t=this.url=t.replace(/^http:/i,\"https:\")),this.sourceJSON=r.data,this.read(r.data,{origin:\"service\",url:this.parsedUrl}),this.version===10.1&&!V(t))return this._fetchServerVersion(t,e).then(a=>{this.read({currentVersion:a})}).catch(()=>{})})}_fetchServerVersion(e,r){if(!x(e))return Promise.reject();const t=e.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";return u(t,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:r}).then(a=>{if(a.data&&a.data.currentVersion)return a.data.currentVersion;throw new h(\"tile-layer:version-not-available\")})}_getMapName(e){const r=e.match(/^(?:https?:)?\\/\\/(server\\.arcgisonline\\.com|services\\.arcgisonline\\.com|ibasemaps-api\\.arcgis\\.com)\\/arcgis\\/rest\\/services\\/([^/]+(\\/[^/]+)*)\\/mapserver/i);return r?r[2]:void 0}_getDefaultAttribution(e){if(e==null)return null;let r;e=e.toLowerCase();for(let t=0,a=v.length;t<a;t++)if(r=v[t],r.toLowerCase().includes(e))return b(\"//static.arcgis.com/attribution/\"+r);return null}_getDefaultTileServers(e){if(e==null)return[];const r=e.search(/^(?:https?:)?\\/\\/server\\.arcgisonline\\.com/i)!==-1,t=e.search(/^(?:https?:)?\\/\\/services\\.arcgisonline\\.com/i)!==-1;return r||t?[e,e.replace(r?/server\\.arcgisonline/i:/services\\.arcgisonline/i,r?\"services.arcgisonline\":\"server.arcgisonline\")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[g]}};i([o({readOnly:!0})],s.prototype,\"attributionDataUrl\",null),i([o({type:[\"show\",\"hide\",\"hide-children\"]})],s.prototype,\"listMode\",void 0),i([o({json:{read:!0,write:!0}})],s.prototype,\"blendMode\",void 0),i([o({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],s.prototype,\"isReference\",void 0),i([o({readOnly:!0,type:[\"ArcGISTiledMapServiceLayer\"]})],s.prototype,\"operationalLayerType\",void 0),i([o({type:Boolean})],s.prototype,\"resampling\",void 0),i([o()],s.prototype,\"sourceJSON\",void 0),i([o({type:f})],s.prototype,\"spatialReference\",void 0),i([w(\"spatialReference\",[\"spatialReference\",\"tileInfo\"])],s.prototype,\"readSpatialReference\",null),i([o({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],s.prototype,\"path\",void 0),i([o({readOnly:!0})],s.prototype,\"sublayers\",void 0),i([O(\"sublayers\",{layers:{type:[k]}})],s.prototype,\"writeSublayers\",null),i([o({json:{read:!1,write:!1}})],s.prototype,\"popupEnabled\",void 0),i([o()],s.prototype,\"tileServers\",null),i([R(\"tileServers\")],s.prototype,\"castTileServers\",null),i([o({readOnly:!0,json:{read:!1}})],s.prototype,\"type\",void 0),i([o(E)],s.prototype,\"url\",void 0),s=y=i([U(\"esri.layers.TileLayer\")],s);const g=Symbol(\"default-fetch-tile\");s.prototype.fetchTile[g]=!0;const K=s;export{K as default};\n"],"names":["O","f","e","constructor","super","arguments","this","copyright","minScale","maxScale","spatialReference","tileInfo","tilemapCache","destroy","readMinScale","s","l","minLOD","maxLOD","readMaxScale","supportsBlankTile","version","readTilemapCache","h","y","capabilities","includes","i","r","p","c","a","n","Math","round","lods","scale","length","u","level","layer","read","o","json","source","prototype","type","readOnly","t","lodAt","effectiveMinLOD","effectiveMaxLOD","getAvailability","cols","rows","fetchAvailability","row","col","fetchAvailabilityUpsample","updateTileInfo","catch","upsampleTile","v","listMode","isReference","operationalLayerType","resampling","sourceJSON","path","sublayers","url","normalizeCtorArgs","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","then","_fetchService","Promise","resolve","attributionDataUrl","parsedUrl","toLowerCase","_getDefaultAttribution","_getMapName","readSpatialReference","fromJSON","writeSublayers","loaded","slice","reverse","flatten","toArray","writeSublayerStructure","forEach","d","write","push","some","Object","keys","layers","tileServers","_getDefaultTileServers","castTileServers","Array","isArray","map","fetchTile","getTileUrl","responseType","query","refreshParameters","data","fetchImageBitmapTile","operations","supportsTileMap","blankTile","customParameters","token","apiKey","loadAll","allSublayers","bandCount","pixelSizeX","serverType","ssl","replace","origin","_fetchServerVersion","currentVersion","reject","match","search","hasOverriddenFetchTile","g","Boolean","enabled","overridePolicy","String","origins","Symbol","K"],"sourceRoot":""}