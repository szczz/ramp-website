{"version":3,"file":"js/6996.b0230c4d.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/imageryUtils-BBX5wIyv.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/jsonContext-Cs3DKlwE.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/multiOriginJSONSupportUtils-DGETddQl.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/originUtils-BLsWtgV9.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/saveUtils-5YmoVD4N.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/utils-Dgmsa-EC.js"],"sourcesContent":["import{P as m,$ as o}from\"./utils-Dgmsa-EC.js\";import{l as c,a as p,u,f as s}from\"./portalItemUtils-B5LG5xsT.js\";const i=\"Image Service\",f=\"imagery-layer-save\",g=\"imagery-layer-save-as\",v=\"imagery-tile-layer-save\",d=\"imagery-tile-layer-save-as\";function y(r){if(r.type===\"imagery\")return{isValid:!0};const{raster:e}=r,t=e?.datasetFormat===\"Function\"?e.primaryRasters?.rasters[0]:e;return{isValid:t?.datasetFormat===\"RasterTileServer\"&&(t.tileType===\"Raster\"||t.tileType===\"Map\"),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function l(r){const e=r.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}async function T(r,e){const{parsedUrl:t,title:a,fullExtent:n}=r;e.url=t.path,e.title||=a;try{e.extent=await c(n)}catch{e.extent=void 0}p(e,s.METADATA),u(e,s.TILED_IMAGERY,r.type===\"imagery-tile\")}async function I(r,e){const t=r.type===\"imagery\"?f:v;return m({layer:r,itemType:i,validateLayer:y,createItemData:l,errorNamePrefix:t},e)}async function x(r,e,t){const a=r.type===\"imagery\"?g:d;return o({layer:r,itemType:i,validateLayer:y,createItemData:l,errorNamePrefix:a,newItem:e,setItemProperties:T},t)}export{I as save,x as saveAs};\n","import{I as o,b as s}from\"./main-I34c1W55.js\";function a(e,r){return{...l(e,r),readResourcePaths:[]}}function i(e,r,n){const t=o(e.itemUrl);return{...l(e,r),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:t?{rootPath:t.path,writtenUrls:[]}:null,resources:n?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function l(e,r){return{origin:r,url:o(e.itemUrl),portal:e.portal||s.getDefault(),portalItem:e}}export{a as e,i as o};\n","function n(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{n as i};\n","import{i as o}from\"./multiOriginJSONSupportUtils-DGETddQl.js\";function n(t){t?.writtenProperties&&t.writtenProperties.forEach(({target:r,propName:e,newOrigin:i})=>{o(r)&&i&&r.originOf(e)!==i&&r.updateOrigin(e,i)})}export{n as i};\n","import{s as l}from\"./main-I34c1W55.js\";async function i(t){const s=[];for(const o of t.allLayers)if(\"beforeSave\"in o&&typeof o.beforeSave==\"function\"){const e=o.beforeSave();e&&s.push(e)}await Promise.allSettled(s)}const u=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function d(t,s,o){let e=(t.messages??[]).filter(({type:r})=>r===\"error\").map(({name:r,message:a,details:p})=>new l(r,a,p));if(t.blockedRelativeUrls&&(e=e.concat(t.blockedRelativeUrls.map(r=>new l(\"url:unsupported\",`Relative url '${r}' is not supported`)))),o){const{ignoreUnsupported:r,supplementalUnsupportedErrors:a=[],requiredPropertyChecksDisabled:p}=o;r&&(e=e.filter(({name:n})=>!(u.has(n)||a.includes(n)))),p&&(e=e.filter(n=>n.name!==\"web-document-write:property-required\"))}if(e.length>0)throw new l(s.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:e})}export{i as r,d as t};\n","import{s as c,b as P}from\"./main-I34c1W55.js\";import{i as u}from\"./originUtils-BLsWtgV9.js\";import h from\"./PortalItem-CH5hihzj.js\";import{o as x}from\"./jsonContext-Cs3DKlwE.js\";import{i as N,f as b}from\"./portalItemUtils-B5LG5xsT.js\";import{t as S}from\"./saveUtils-5YmoVD4N.js\";function g(t,a,r){const e=r(t);if(!e.isValid)throw new c(`${a}:invalid-parameters`,e.errorMessage,{layer:t})}async function d(t){const{layer:a,errorNamePrefix:r,validateLayer:e}=t;await a.load(),g(a,r,e)}function y(t,a){return`Layer (title: ${t.title}, id: ${t.id}) of type '${t.declaredClass}' ${a}`}function w(t){const{item:a,errorNamePrefix:r,layer:e,validateItem:i}=t;if(O(t),i){const n=i(a);if(!n.isValid)throw new c(`${r}:invalid-parameters`,n.errorMessage,{layer:e})}}function O(t){const{item:a,itemType:r,additionalItemType:e,errorNamePrefix:i,layer:n}=t,s=[r];if(e&&s.push(e),!s.includes(a.type)){const p=s.map(o=>`'${o}'`).join(\", \");throw new c(`${i}:portal-item-wrong-type`,`Portal item type should be one of: \"${p}\"`,{item:a,layer:n})}}function J(t){const{layer:a,errorNamePrefix:r}=t,{portalItem:e}=a;if(!e)throw new c(`${r}:portal-item-not-set`,y(a,\"requires the portalItem property to be set\"));if(!e.loaded)throw new c(`${r}:portal-item-not-loaded`,y(a,\"cannot be saved to a portal item that does not exist or is inaccessible\"));w({...t,item:e})}function E(t){const{newItem:a,itemType:r}=t;let e=h.from(a);return e.id&&(e=e.clone(),e.id=null),e.type??=r,e.portal??=P.getDefault(),w({...t,item:e}),e}function I(t){return x(t,\"portal-item\")}async function $(t,a,r){\"beforeSave\"in t&&typeof t.beforeSave==\"function\"&&await t.beforeSave();const e=t.write({},a);return await Promise.all(a.resources?.pendingOperations??[]),S(a,{errorName:\"layer-write:unsupported\"},r),e}function v(t){N(t,b.JSAPI),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter((a,r,e)=>e.indexOf(a)===r))}async function U(t,a,r){const e=t.portal;await e.signIn(),await e.user.addItem({item:t,data:a,folder:r?.folder})}async function C(t,a){const{layer:r,createItemData:e,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=t;await d(t),J(t);const o=r.portalItem,l=i?i(o):I(o),f=await $(r,l,{...a,supplementalUnsupportedErrors:p}),m=await e({layer:r,layerJSON:f},o);return await n?.(r,o,m),v(o),await o.update({data:m}),u(l),await s?.(o,l),o}async function D(t,a){const{layer:r,createItemData:e,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=t;await d(t);const o=E(t),l=i?i(o):I(o),f=await $(r,l,{...a,supplementalUnsupportedErrors:p}),m=await e({layer:r,layerJSON:f},o);return await n(r,o,m),v(o),await U(o,m,a),r.portalItem=o,u(l),await s?.(o,l),o}export{D as $,C as P};\n"],"names":["i","f","g","v","d","y","r","type","isValid","raster","e","t","datasetFormat","primaryRasters","rasters","tileType","errorMessage","l","layerJSON","Promise","resolve","Object","keys","length","async","T","parsedUrl","title","a","fullExtent","n","url","path","extent","METADATA","u","TILED_IMAGERY","I","layer","itemType","validateLayer","createItemData","errorNamePrefix","x","newItem","setItemProperties","readResourcePaths","itemUrl","messages","writtenProperties","blockedRelativeUrls","verifyItemRelativeUrls","rootPath","writtenUrls","resources","toAdd","toUpdate","toKeep","pendingOperations","origin","portal","getDefault","portalItem","forEach","target","propName","newOrigin","originOf","updateOrigin","s","o","allLayers","beforeSave","push","allSettled","Set","filter","map","name","message","details","p","concat","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","has","includes","errorName","errors","load","id","declaredClass","w","item","validateItem","O","additionalItemType","join","J","loaded","E","from","clone","$","write","all","JSAPI","typeKeywords","indexOf","U","signIn","user","addItem","data","folder","C","createJSONContext","saveResources","m","update","D"],"sourceRoot":""}