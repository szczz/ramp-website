{"version":3,"file":"js/4162.a5560142.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/LineOfSightLayer-HjMR66Kg.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/elevationInfoUtils-DHjfhxT_.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/multiOriginJSONSupportUtils-DGETddQl.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/uuid-Dj9mdEVg.js"],"sourcesContent":["import{d9 as m,a_ as A,fr as y,k as t,o as s,bv as x,A as h,aD as T,g0 as P,V as f,cX as F,aE as b,f1 as w,cW as O,gF as H,gG as C,gH as N}from\"./main-I34c1W55.js\";import{c as V}from\"./Analysis-B8xrUAQu.js\";import{c as L,b as E}from\"./featureReferenceUtils-CAbwBDY3.js\";import{j as g}from\"./persistable-Tla5PeX5.js\";import{h as R}from\"./ElevationInfo-DaT_W4CX.js\";import{V as k}from\"./projection-CWCxBqta.js\";import{i as D}from\"./elevationInfoUtils-DHjfhxT_.js\";import{S as G}from\"./MultiOriginJSONSupport-DsYvNMb2.js\";import{f as M}from\"./Layer-CYh3Ux8v.js\";import{b as W}from\"./OperationalLayer-DhLn_F27.js\";let a=class extends m(A(T)){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return y(this.position,e.position)&&y(this.elevationInfo,e.elevationInfo)&&L(this.feature,e.feature)}};t([s({type:x,json:{write:{isRequired:!0}}})],a.prototype,\"position\",void 0),t([s({type:R}),g()],a.prototype,\"elevationInfo\",void 0),t([s(E)],a.prototype,\"feature\",void 0),a=t([h(\"esri.analysis.LineOfSightAnalysisObserver\")],a);const j=a;let l=class extends m(P){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return y(this.position,e.position)&&y(this.elevationInfo,e.elevationInfo)&&L(this.feature,e.feature)}};t([s({type:x}),g()],l.prototype,\"position\",void 0),t([s({type:R}),g()],l.prototype,\"elevationInfo\",void 0),t([s(E)],l.prototype,\"feature\",void 0),l=t([h(\"esri.analysis.LineOfSightAnalysisTarget\")],l);const I=l,v=f.ofType(I);let r=class extends V{constructor(e){super(e),this.type=\"line-of-sight\",this.observer=null,this.extent=null}initialize(){this.addHandles(b(()=>this._computeExtent(),e=>{e?.pending==null&&this._set(\"extent\",e!=null?e.extent:null)},w))}get targets(){return this._get(\"targets\")||new v}set targets(e){this._set(\"targets\",O(e,this.targets,v))}get spatialReference(){return this.observer?.position!=null?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}async waitComputeExtent(){const e=this._computeExtent();return e!=null?e.pending:Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(this.observer?.position==null||e==null)return null;const n=p=>D(p.position,p.elevationInfo)===\"absolute-height\",o=this.observer.position,c=H(o.x,o.y,o.z,o.x,o.y,o.z);for(const p of this.targets)if(p.position!=null){const u=k(p.position,e);if(u.pending!=null)return{pending:u.pending,extent:null};if(u.geometry!=null){const{x:S,y:_,z:q}=u.geometry;C(c,[S,_,q])}}const d=N(c,e);return n(this.observer)&&this.targets.every(n)||(d.zmin=void 0,d.zmax=void 0),{pending:null,extent:d}}clear(){this.observer=null,this.targets.removeAll()}};t([s({type:[\"line-of-sight\"]})],r.prototype,\"type\",void 0),t([s({type:j,json:{read:!0,write:!0}})],r.prototype,\"observer\",void 0),t([s({cast:F,type:v,nonNullable:!0,json:{read:!0,write:!0}})],r.prototype,\"targets\",null),t([s({value:null,readOnly:!0})],r.prototype,\"extent\",void 0),t([s({readOnly:!0})],r.prototype,\"spatialReference\",null),t([s({readOnly:!0})],r.prototype,\"requiredPropertiesForEditing\",null),r=t([h(\"esri.analysis.LineOfSightAnalysis\")],r);const z=r,X=f.ofType(I);let i=class extends W(G(M)){constructor(e){super(e),this.type=\"line-of-sight\",this.operationalLayerType=\"LineOfSightLayer\",this.analysis=new z,this.opacity=1}initialize(){this.addHandles(b(()=>this.analysis,(e,n)=>{n!=null&&n.parent===this&&(n.parent=null),e!=null&&(e.parent=this)},w))}async load(){return this.analysis!=null&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return this.analysis?.observer}set observer(e){const{analysis:n}=this;n&&(n.observer=e)}get targets(){return this.analysis!=null?this.analysis.targets:new f}set targets(e){O(e,this.analysis?.targets)}get fullExtent(){return this.analysis!=null?this.analysis.extent:null}get spatialReference(){return this.analysis!=null?this.analysis.spatialReference:null}releaseAnalysis(e){this.analysis===e&&(this.analysis=new z)}};t([s({json:{read:!1},readOnly:!0})],i.prototype,\"type\",void 0),t([s({type:[\"LineOfSightLayer\"]})],i.prototype,\"operationalLayerType\",void 0),t([s({type:j,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],i.prototype,\"observer\",null),t([s({type:X,json:{read:!0,write:{ignoreOrigin:!0}}})],i.prototype,\"targets\",null),t([s({nonNullable:!0,json:{read:!1,write:!1}})],i.prototype,\"analysis\",void 0),t([s({readOnly:!0})],i.prototype,\"fullExtent\",null),t([s({readOnly:!0})],i.prototype,\"spatialReference\",null),t([s({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},\"portal-item\":{read:!1,write:!1},\"web-document\":{read:!1,write:!1}}}})],i.prototype,\"opacity\",void 0),t([s({type:[\"show\",\"hide\"]})],i.prototype,\"listMode\",void 0),i=t([h(\"esri.layers.LineOfSightLayer\")],i);const $=i;export{$ as default};\n","import{d6 as h,a1 as p}from\"./main-I34c1W55.js\";import{n as E}from\"./ElevationInfo-DaT_W4CX.js\";function d(e){return e?m:A}function b(e,n){return n?.mode?n.mode:d(e).mode}function x(e,n){return n??d(e)}function l(e,n){return b(e==null||(e.hasZ??!1),n)}function y(e){const n=v(e);return l(e.geometry,n)}function I(e){const n=v(e),t=l(e.geometry,n),o=n!=null&&t!==\"on-the-ground\"?q(n):0,r=n?.featureExpressionInfo;return{mode:t,offset:o,featureExpressionInfo:r}}function v(e){return e.layer&&\"elevationInfo\"in e.layer?e.layer.elevationInfo:null}function c(e,n){if(!e?.offset)return 0;const{offset:t,unit:o}=e;if(o===\"decimal-degrees\")return 0;const r=o!==\"unknown\"&&o?o:\"meters\",s=h(n);return s?p(t,r,s):0}function Z(e,n,t){if(!t?.mode)return;const o=e.hasZ?e.z:0,r=c(t,e.spatialReference);switch(t.mode){case\"absolute-height\":return o-r;case\"on-the-ground\":return 0;case\"relative-to-ground\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"ground\")??0)+r);case\"relative-to-scene\":return o-((n.elevationProvider.getElevation(e.x,e.y,o,e.spatialReference,\"scene\")??0)+r)}}function P(e,n,t,o=null){return f(e,n.x,n.y,n.hasZ?n.z:0,n.spatialReference,t,o)}function w(e,n,t,o,r=null){return f(e,n[0],n[1],n.length>2?n[2]:0,t,o,r)}function f(e,n,t,o,r,s,a=null){if(s==null)return;const u=a!=null?a.mode:\"absolute-height\";if(u===\"on-the-ground\")return 0;const{absoluteZ:i}=g(n,t,o,r,e,s);return $(i,n,t,o,r,e,a,u)}function g(e,n,t,o,r,s){const a=c(s,o);switch(s.mode){case\"absolute-height\":return{absoluteZ:t+a,elevation:0};case\"on-the-ground\":{const u=r.elevationProvider.getElevation(e,n,0,o,\"ground\")??0;return{absoluteZ:u,elevation:u}}case\"relative-to-ground\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"ground\")??0;return{absoluteZ:t+u+a,elevation:u}}case\"relative-to-scene\":{const u=r.elevationProvider.getElevation(e,n,t,o,\"scene\")??0;return{absoluteZ:t+u+a,elevation:u}}}}function $(e,n,t,o,r,s,a,u){const i=c(a,r);switch(u){case\"absolute-height\":return e-i;case\"relative-to-ground\":return e-((s.elevationProvider.getElevation(n,t,o,r,\"ground\")??0)+i);case\"relative-to-scene\":return e-((s.elevationProvider.getElevation(n,t,o,r,\"scene\")??0)+i)}}function R(e,n,t){return t&&t.mode!==n?`${e} only support ${n} elevation mode`:null}function z(e,n,t){return t?.mode===n?`${e} do not support ${n} elevation mode`:null}function j(e,n){return n?.featureExpressionInfo!=null&&n.featureExpressionInfo.expression!==\"0\"?`${e} do not support featureExpressionInfo`:null}function k(e,n){n&&e.warn(\".elevationInfo=\",n)}function q(e){return(e?.offset??0)*E(e?.unit)}const m={mode:\"absolute-height\",offset:0},A={mode:\"on-the-ground\",offset:null};export{k as $,f as E,z as P,R as Z,I as a,g as b,l as i,m as j,y as l,P as m,Z as p,x as u,j as w,w as x};\n","function n(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{n as i};\n","const e=\"randomUUID\"in crypto;function r(){if(e)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const n=o=>t[o].toString(16).padStart(4,\"0\");return n(0)+n(1)+\"-\"+n(2)+\"-\"+n(3)+\"-\"+n(4)+\"-\"+n(5)+n(6)+n(7)}function a(){return`{${r().toUpperCase()}}`}function c(){return`{${r()}}`}function s(t){const n=t.toUpperCase();return t[0]!==\"{\"?`{${n}}`:n}export{s as e,r as n,c as o,a as r};\n"],"names":["a","constructor","e","super","this","position","elevationInfo","feature","equals","type","json","write","isRequired","prototype","j","l","I","v","ofType","r","observer","extent","initialize","addHandles","_computeExtent","pending","_set","targets","_get","spatialReference","requiredPropertiesForEditing","waitComputeExtent","Promise","resolve","n","p","o","c","x","y","z","u","geometry","S","_","q","d","every","zmin","zmax","clear","removeAll","read","cast","nonNullable","value","readOnly","X","i","operationalLayerType","analysis","opacity","parent","load","addResolvingPromise","fullExtent","releaseAnalysis","ignoreOrigin","origins","service","$","m","A","b","mode","hasZ","t","featureExpressionInfo","offset","layer","unit","s","Z","elevationProvider","getElevation","P","f","w","length","absoluteZ","g","elevation","R","expression","k","warn","crypto","randomUUID","getRandomValues","Uint16Array","toString","padStart","toUpperCase"],"sourceRoot":""}