"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3567,5948],{5948:function(e,r,t){t.d(r,{C:function(){return m},S:function(){return w},b:function(){return S},d:function(){return c},g:function(){return d},h:function(){return f},m:function(){return v},p:function(){return a},w:function(){return p},y:function(){return h}});var n=t(98503);const s={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},u=Object.values(s),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),i=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${u.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),o=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function a(e){return l.test(e)}function c(e){if(null==e)return null;const r=(0,n.I)(e),t=r?.path.match(l)||r?.path.match(i);if(!t)return null;const[,u,o,a,c]=t,f=o.indexOf("/");return{title:v(-1!==f?o.slice(f+1):o),serverType:s[a.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:u}}}function f(e){const r=(0,n.I)(e).path.match(o);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function v(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function p(e,r){const t=[];if(e){const r=c(e);null!=r&&r.title&&t.push(r.title)}if(r){const e=v(r);t.push(e)}if(2===t.length){if(t[0].toLowerCase().includes(t[1].toLowerCase()))return t[0];if(t[1].toLowerCase().includes(t[0].toLowerCase()))return t[1]}return t.join(" - ")}function d(e){let r=(0,n.X)(e,!0);return!!r&&(r=r.toLowerCase(),r.endsWith(".arcgis.com")&&(r.startsWith("services")||r.startsWith("tiles")||r.startsWith("features")))}function h(e,r){return e&&(0,n.Q)((0,n.S)(e,r))}function w(e){let{url:r}=e;if(!r)return{url:r};r=(0,n.S)(r,e.logger);const t=(0,n.I)(r),s=c(t.path);let u;if(null!=s)null!=s.sublayer&&null==e.layer.layerId&&(u=s.sublayer),r=s.url.path;else if(e.nonStandardUrlAllowed){const e=f(t.path);null!=e&&(r=e.serviceUrl,u=e.sublayerId)}return{url:(0,n.Q)(r),layerId:u}}function m(e,r,t,s,u){(0,n.T)(r,s,"url",u),s.url&&null!=e.layerId&&(s.url=(0,n.Z)(s.url,t,e.layerId.toString()))}function S(e){if(!e)return!1;const r=e.toLowerCase(),t=r.includes("/services/"),n=r.includes("/mapserver/wmsserver"),s=r.includes("/imageserver/wmsserver"),u=r.includes("/wmsserver");return t&&(n||s||u)}}}]);
//# sourceMappingURL=3567.543f1155.js.map