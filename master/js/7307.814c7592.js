"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3297,7307],{7524:function(e,t,n){n.d(t,{n:function(){return s}});var r=n(98503);let i=class extends r.V{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles((0,r.ay)((()=>this._refresh()),r.az))}destroy(){this.getCollections=null}_refresh(){const e=null!=this.getCollections?this.getCollections():null;if(null==e)return void this.removeAll();let t=0;for(const n of e)null!=n&&(t=this._processCollection(t,n));this.splice(t,this.length)}_createNewInstance(e){return new r.V(e)}_processCollection(e,t){if(!t)return e;const n=this.itemFilterFunction??(e=>!!e);for(const r of t)if(r){if(n(r)){const t=this.indexOf(r,e);t>=0?t!==e&&this.reorder(r,e):this.add(r,e),++e}if(this.getChildrenFunction){const t=this.getChildrenFunction(r);if(Array.isArray(t))for(const n of t)e=this._processCollection(e,n);else e=this._processCollection(e,t)}}return e}};(0,r.k)([(0,r.o)()],i.prototype,"getCollections",void 0),(0,r.k)([(0,r.o)()],i.prototype,"getChildrenFunction",void 0),(0,r.k)([(0,r.o)()],i.prototype,"itemFilterFunction",void 0),i=(0,r.k)([(0,r.A)("esri.core.CollectionFlattener")],i);const s=i},82188:function(e,t,n){n.d(t,{a:function(){return s}});var r=n(98503);const i={visible:"visibleSublayers"};let s=class extends r.aD{constructor(e){super(e),this.scale=0}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.sublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("wms-sublayer-update",(e=>this.notifyChange(i[e.propertyName])))],"layer"))}get layers(){return this.visibleSublayers.filter((({name:e})=>e)).map((({name:e})=>e)).join()}get version(){this.commitProperty("layers");const e=this.layer;return e&&e.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:e,scale:t}=this,n=e?.sublayers,r=[],i=e=>{const{minScale:n,maxScale:s,sublayers:l,visible:o}=e;o&&(0===t||(0===n||t<=n)&&(0===s||t>=s))&&(l?l.forEach(i):r.push(e))};return n?.forEach(i),r}toJSON(){const{layer:e,layers:t}=this,{imageFormat:n,imageTransparency:r,version:i}=e;return{format:n,request:"GetMap",service:"WMS",styles:"",transparent:r?"TRUE":"FALSE",version:i,layers:t}}};(0,r.k)([(0,r.o)()],s.prototype,"layer",null),(0,r.k)([(0,r.o)({readOnly:!0})],s.prototype,"layers",null),(0,r.k)([(0,r.o)({type:Number})],s.prototype,"scale",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],s.prototype,"version",null),(0,r.k)([(0,r.o)({readOnly:!0})],s.prototype,"visibleSublayers",null),s=(0,r.k)([(0,r.A)("esri.layers.support.ExportWMSImageParameters")],s)},50293:function(e,t,n){n.d(t,{j:function(){return l}});var r=n(98503),i=n(2031),s=n(83297);const l=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,r.C)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,n){if(t.itemId)return new i["default"]({id:t.itemId,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:i}=await Promise.all([n.e(3338),n.e(1128)]).then(n.bind(n,21128));return(0,r.D)(t),await i({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(i){throw(0,r.E)(i)||r.n.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${i}`),i}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,r.G)(e),!0))))}async setUserPrivileges(e,t){if(!r.H.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",i)}catch(n){(0,r.G)(n)}}async _fetchUserPrivileges(e,t){let n=this.portalItem;if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t);const l=e===n.id;if(l&&n.portal.user)return(0,s.E)(n);let o,a;if(l)o=n.portal.url;else try{o=await(0,r.J)(this.url,t)}catch(p){(0,r.G)(p)}if(!o||!(0,r.W)(o,n.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;a=await(r.K?.getCredential(`${o}/sharing`,{prompt:!1,signal:e}))}catch(p){(0,r.G)(p)}const u=!0,c=!1,f=!1;if(!a)return{features:{edit:u,fullEdit:c},content:{updateItem:f}};try{if(l?await n.reload():(n=new i["default"]({id:e,portal:{url:o}}),await n.load(t)),n.portal.user)return(0,s.E)(n)}catch(p){(0,r.G)(p)}return{features:{edit:u,fullEdit:c},content:{updateItem:f}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(n){(0,r.G)(n)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?r.K?.findCredential(this.url):null;if(!t)return!0;const n=o.credential===t?o.user:await this._fetchEditingUser(e);return o.credential=t,o.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const n=r.K?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const i=`${n.owningSystemUrl}/sharing/rest`,s=r.b.getDefault();if(s&&s.loaded&&(0,r.L)(s.restUrl)===(0,r.L)(i))return s.user;const l=`${i}/community/self`,o=null!=e?e.signal:null,a=await(0,r._)((0,r.U)(l,{authMode:"no-prompt",query:{f:"json"},signal:o}));return a.ok?r.M.fromJSON(a.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const n=t?.portal,i=this.portalItem?.id&&(this.portalItem.portal||r.b.getDefault());return n&&i&&!(0,r.N)(i.restUrl,n.restUrl)?(t.messages&&t.messages.push(new r.s("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r.k)([(0,r.o)({type:i["default"]})],t.prototype,"portalItem",null),(0,r.k)([(0,r.u)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r.k)([(0,r.q)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r.k)([(0,r.o)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.PortalLayer")],t),t},o={credential:null,user:null}},47603:function(e,t,n){n.d(t,{f:function(){return o},l:function(){return a}});var r=n(98503),i=n(20014),s=n(75863),l=n(50257);const o={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:i.a}}},a=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const n=t.timeInfo.exportOptions;if(!n)return null;const r=n.timeOffset,i=s.e.fromJSON(n.timeOffsetUnits);return r&&i?new s.l({value:r,unit:i}):null}set timeInfo(e){(0,r.aZ)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,r.k)([(0,r.o)({type:l.p,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,r.k)([(0,r.o)({type:s.l})],t.prototype,"timeOffset",void 0),(0,r.k)([(0,r.u)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,r.k)([(0,r.o)({value:null,type:s.d,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,r.k)([(0,r.o)(o)],t.prototype,"useViewTime",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.TemporalLayer")],t),t}},75863:function(e,t,n){n.d(t,{d:function(){return c},e:function(){return s},l:function(){return o}});var r=n(98503),i=n(50257);const s=(0,r.g)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let l=class extends((0,r.a_)(r.v)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,i.m)(this.value,this.unit,"milliseconds")}};(0,r.k)([(0,r.bk)(s,{nonNullable:!0})],l.prototype,"unit",void 0),(0,r.k)([(0,r.o)({type:Number,json:{write:!0},nonNullable:!0})],l.prototype,"value",void 0),l=(0,r.k)([(0,r.A)("esri.time.TimeInterval")],l);const o=l;function a(e,t){return o.fromJSON({value:e,unit:t})}let u=class extends((0,r.a_)(r.v)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?i.p.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?a(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?a(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,r.k)([(0,r.o)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],u.prototype,"cumulative",void 0),(0,r.k)([(0,r.o)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"endField",void 0),(0,r.k)([(0,r.o)({type:i.p,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"fullTimeExtent",void 0),(0,r.k)([(0,r.u)("fullTimeExtent",["timeExtent"])],u.prototype,"readFullTimeExtent",null),(0,r.k)([(0,r.q)("fullTimeExtent")],u.prototype,"writeFullTimeExtent",null),(0,r.k)([(0,r.o)({type:Boolean,json:{write:!0}})],u.prototype,"hasLiveData",void 0),(0,r.k)([(0,r.o)({type:o,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"interval",void 0),(0,r.k)([(0,r.u)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],u.prototype,"readInterval",null),(0,r.k)([(0,r.q)("interval")],u.prototype,"writeInterval",null),(0,r.k)([(0,r.o)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"startField",void 0),(0,r.k)([(0,r.o)((0,r.bo)("timeReference",!0))],u.prototype,"timeZone",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"trackIdField",void 0),(0,r.k)([(0,r.o)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],u.prototype,"useTime",void 0),(0,r.k)([(0,r.o)({type:[Date],json:{read:!1}})],u.prototype,"stops",void 0),u=(0,r.k)([(0,r.A)("esri.layers.support.TimeInfo")],u);const c=u},97307:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var r,i=n(98503),s=n(7524),l=n(88012),o=n(82047),a=n(28252),u=n(50027),c=n(20784),f=n(50293),p=n(63125),d=n(83424),h=n(47603),m=n(4706),y=n(5948),g=n(20014),E=n(82188),S=n(98153);let C=0,R=r=class extends((0,i.da)(l.m)){constructor(e){super(e),this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.legendUrl=null,this.legendEnabled=!0,this.layer=null,this.maxScale=0,this.minScale=0,this.name=null,this.parent=null,this.popupEnabled=!1,this.queryable=!1,this.sublayers=null,this.spatialReferences=null,this.title=null,this.addHandles([(0,i.aG)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=this,e.layer=this.layer}),i.az),(0,i.aG)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),i.az),(0,i.aE)((()=>this.sublayers),((e,t)=>{if(t)for(const n of t)n.layer=n.parent=null;if(e)for(const n of e)n.parent=this,n.layer=this.layer}),i.az),(0,i.aE)((()=>this.layer),(e=>{if(this.sublayers)for(const t of this.sublayers)t.layer=e}),i.az)])}get id(){return this._get("id")??C++}set id(e){this._set("id",e)}readLegendUrl(e,t){return t.legendUrl??t.legendURL??null}get effectiveScaleRange(){const{minScale:e,maxScale:t}=this;return{minScale:e,maxScale:t}}castSublayers(e){return(0,i.ef)(i.V.ofType(r),e)}set visible(e){this._setAndNotifyLayer("visible",e)}clone(){const e=new r;return this.hasOwnProperty("description")&&(e.description=this.description),this.hasOwnProperty("fullExtent")&&(e.fullExtent=this.fullExtent.clone()),this.hasOwnProperty("fullExtents")&&(e.fullExtents=this.fullExtents?.map((e=>e.clone()))??null),this.hasOwnProperty("legendUrl")&&(e.legendUrl=this.legendUrl),this.hasOwnProperty("legendEnabled")&&(e.legendEnabled=this.legendEnabled),this.hasOwnProperty("layer")&&(e.layer=this.layer),this.hasOwnProperty("name")&&(e.name=this.name),this.hasOwnProperty("parent")&&(e.parent=this.parent),this.hasOwnProperty("queryable")&&(e.queryable=this.queryable),this.hasOwnProperty("sublayers")&&(e.sublayers=this.sublayers?.map((e=>e.clone()))),this.hasOwnProperty("spatialReferences")&&(e.spatialReferences=this.spatialReferences?.map((e=>e))),this.hasOwnProperty("visible")&&(e.visible=this.visible),this.hasOwnProperty("title")&&(e.title=this.title),e}_setAndNotifyLayer(e,t){const n=this.layer;this._get(e)!==t&&(this._set(e,t),n&&n.emit("wms-sublayer-update",{propertyName:e,id:this.id}))}};(0,i.k)([(0,i.o)()],R.prototype,"description",void 0),(0,i.k)([(0,i.o)({readOnly:!0})],R.prototype,"dimensions",void 0),(0,i.k)([(0,i.o)({type:i.au,json:{name:"extent"}})],R.prototype,"fullExtent",void 0),(0,i.k)([(0,i.o)()],R.prototype,"fullExtents",void 0),(0,i.k)([(0,i.o)({type:Number,json:{write:{enabled:!1,overridePolicy:()=>({ignoreOrigin:!0,enabled:!0})}}})],R.prototype,"id",null),(0,i.k)([(0,i.o)({type:String,json:{name:"legendUrl",write:{ignoreOrigin:!0}}})],R.prototype,"legendUrl",void 0),(0,i.k)([(0,i.u)("legendUrl",["legendUrl","legendURL"])],R.prototype,"readLegendUrl",null),(0,i.k)([(0,i.o)({type:Boolean,json:{name:"showLegend",origins:{"web-map":{read:!1,write:!1},"web-scene":{read:!1,write:!1}}}})],R.prototype,"legendEnabled",void 0),(0,i.k)([(0,i.o)()],R.prototype,"layer",void 0),(0,i.k)([(0,i.o)()],R.prototype,"maxScale",void 0),(0,i.k)([(0,i.o)()],R.prototype,"minScale",void 0),(0,i.k)([(0,i.o)({readOnly:!0})],R.prototype,"effectiveScaleRange",null),(0,i.k)([(0,i.o)({type:String,json:{write:{ignoreOrigin:!0}}})],R.prototype,"name",void 0),(0,i.k)([(0,i.o)()],R.prototype,"parent",void 0),(0,i.k)([(0,i.o)({type:Boolean,json:{read:{source:"showPopup"},write:{ignoreOrigin:!0,target:"showPopup"}}})],R.prototype,"popupEnabled",void 0),(0,i.k)([(0,i.o)({type:Boolean,json:{write:{ignoreOrigin:!0}}})],R.prototype,"queryable",void 0),(0,i.k)([(0,i.o)()],R.prototype,"sublayers",void 0),(0,i.k)([(0,i.by)("sublayers")],R.prototype,"castSublayers",null),(0,i.k)([(0,i.o)({type:[Number],json:{read:{source:"spatialReferences"}}})],R.prototype,"spatialReferences",void 0),(0,i.k)([(0,i.o)({type:String,json:{write:{ignoreOrigin:!0}}})],R.prototype,"title",void 0),(0,i.k)([(0,i.o)({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"}}})],R.prototype,"visible",null),R=r=(0,i.k)([(0,i.A)("esri.layers.support.WMSSublayer")],R);const _=R,v={84:4326,83:4269,27:4267};function w(e){if(!e)return null;const t={idCounter:-1};"string"==typeof e&&(e=(new DOMParser).parseFromString(e,"text/xml"));const n=e.documentElement;if("ServiceExceptionReport"===n.nodeName){const e=Array.prototype.slice.call(n.childNodes).map((e=>e.textContent)).join("\r\n");throw new i.s("wmslayer:wms-capabilities-xml-is-not-valid","The server returned errors when the WMS capabilities were requested.",e)}const r=N("Capability",n),s=N("Service",n),l=r&&N("Request",r);if(!r||!s||!l)return null;const o=N("Layer",r);if(!o)return null;const a="WMS_Capabilities"===n.nodeName||"WMT_MS_Capabilities"===n.nodeName?n.getAttribute("version"):"1.3.0",u=M("Title",s,"")||M("Name",s,""),c=M("AccessConstraints",s,""),f=/^none$/i.test(c)?"":c,p=M("Abstract",s,""),d=parseInt(M("MaxWidth",s,"5000"),10),h=parseInt(M("MaxHeight",s,"5000"),10),m=F(l,"GetMap"),y=k(l,"GetMap"),g=G(o,a,t);if(!g)return null;let E,S=0;const C=Array.prototype.slice.call(r.childNodes),R=g.sublayers??[],_=e=>{null!=e&&R.push(e)};C.forEach((e=>{"Layer"===e.nodeName&&(0===S?E=e:(1===S&&g.name&&(g.name="",_(G(E,a,t))),_(G(e,a,t))),S++)}));let v=g.sublayers,w=g.extent;const b=g.fullExtents??[];if(v||(v=[]),0===v.length&&v.push(g),!w){const e=new i.au(v[0].extent);g.extent=e.toJSON(),w=g.extent}const A=g.spatialReferences.length>0?g.spatialReferences:P(g),O=k(l,"GetFeatureInfo"),x=O?F(l,"GetFeatureInfo"):null,L=I(v),T=g.minScale||0,W=g.maxScale||0,j=g.dimensions??[],B=L.reduce(((e,t)=>e.concat(t.dimensions??[])),[]),q=j.concat(B).filter(H);let K=null;if(q.length){const e=q.map((e=>{const{extent:t}=e;return U(t)?t.map((e=>e.getTime())):t?.map((e=>[e.min.getTime(),e.max.getTime()]))})).flat(2).filter(i.bQ);K={startTimeField:null,endTimeField:null,trackIdField:void 0,timeExtent:[Math.min(...e),Math.max(...e)]}}return{copyright:f,description:p,dimensions:j,extent:w,fullExtents:b,featureInfoFormats:x,featureInfoUrl:O,mapUrl:y,maxWidth:d,maxHeight:h,maxScale:W,minScale:T,layers:L,spatialReferences:A,supportedImageFormatTypes:m,timeInfo:K,title:u,version:a}}function b(e){const t=e.filter((e=>e.popupEnabled&&e.name&&e.queryable));return t.length?t.map((({name:e})=>e)).join():null}function P(e){if(e.spatialReferences.length>0)return e.spatialReferences;if(e.sublayers)for(const t of e.sublayers){const e=P(t);if(e.length>0)return e}return[]}function I(e){let t=[];for(const n of e)t.push(n),n.sublayers?.length&&(t=t.concat(I(n.sublayers)),delete n.sublayers);return t}function A(e,t,n){return t.getAttribute(e)??n}function O(e,t,n,r){const i=N(e,n);return i?A(t,i,r):r}function N(e,t){for(let n=0;n<t.childNodes.length;n++){const r=t.childNodes[n];if(W(r)&&r.nodeName===e)return r}return null}function x(e,t){if(null==t)return[];const n=[];for(let r=0;r<t.childNodes.length;r++){const i=t.childNodes[r];W(i)&&i.nodeName===e&&n.push(i)}return n}function M(e,t,n){return N(e,t)?.textContent??n}function L(e,t,n){if(!e)return null;const r=parseFloat(e.getAttribute("minx")),s=parseFloat(e.getAttribute("miny")),l=parseFloat(e.getAttribute("maxx")),o=parseFloat(e.getAttribute("maxy"));let a,u,c,f;n?(a=isNaN(s)?-Number.MAX_VALUE:s,u=isNaN(r)?-Number.MAX_VALUE:r,c=isNaN(o)?Number.MAX_VALUE:o,f=isNaN(l)?Number.MAX_VALUE:l):(a=isNaN(r)?-Number.MAX_VALUE:r,u=isNaN(s)?-Number.MAX_VALUE:s,c=isNaN(l)?Number.MAX_VALUE:l,f=isNaN(o)?Number.MAX_VALUE:o);const p=new i.B({wkid:t});return new i.au({xmin:a,ymin:u,xmax:c,ymax:f,spatialReference:p})}function k(e,t){const n=N(t,e);if(n){const e=N("DCPType",n);if(e){const t=N("HTTP",e);if(t){const e=N("Get",t);if(e){let t=O("OnlineResource","xlink:href",e,null);if(t){const e=t.indexOf("&");return-1!==e&&e===t.length-1&&(t=t.slice(0,-1)),B(t,["service","request"])}}}}}return null}function F(e,t){const n=x("Operation",e);if(!n.length)return x("Format",N(t,e)).map((({textContent:e})=>e)).filter(i.bQ);const r=[];for(const i of n)if(i.getAttribute("name")===t){const e=x("Format",i);for(const{textContent:t}of e)null!=t&&r.push(t)}return r}function T(e,t,n){const r=N(t,e);if(!r)return n;const{textContent:i}=r;if(null==i||""===i)return n;const s=Number(i);return isNaN(s)?n:s}function G(e,t,n){if(!e)return null;const r={id:n.idCounter++,fullExtents:[],parentLayerId:null,queryable:"1"===e.getAttribute("queryable"),spatialReferences:[],sublayers:null},s=N("LatLonBoundingBox",e),l=N("EX_GeographicBoundingBox",e);let o=null;s&&(o=L(s,4326)),l&&(o=new i.au(0,0,0,0,new i.B({wkid:4326})),o.xmin=parseFloat(M("westBoundLongitude",l,"0")),o.ymin=parseFloat(M("southBoundLatitude",l,"0")),o.xmax=parseFloat(M("eastBoundLongitude",l,"0")),o.ymax=parseFloat(M("northBoundLatitude",l,"0"))),s||l||(o=new i.au(-180,-90,180,90,new i.B({wkid:4326}))),r.minScale=T(e,"MaxScaleDenominator",0),r.maxScale=T(e,"MinScaleDenominator",0);const a=["1.0.0","1.1.0","1.1.1"].includes(t)?"SRS":"CRS";return Array.prototype.slice.call(e.childNodes).forEach((e=>{if("Name"===e.nodeName)r.name=e.textContent||"";else if("Title"===e.nodeName)r.title=e.textContent||"";else if("Abstract"===e.nodeName)r.description=e.textContent||"";else if("BoundingBox"===e.nodeName){const n=e.getAttribute(a);if(n&&0===n.indexOf("EPSG:")){const r=parseInt(n.slice(5),10);0===r||isNaN(r)||o||(o="1.3.0"===t?L(e,r,(0,m.o)(r)):L(e,r))}const i=n?.indexOf(":");if(i&&i>-1){let s=parseInt(n.slice(i+1),10);0===s||isNaN(s)||(s=v[s]??s);const l="1.3.0"===t?L(e,s,(0,m.o)(s)):L(e,s);l&&r.fullExtents&&r.fullExtents.push(l)}}else if(e.nodeName===a)(e.textContent?.split(" ")??[]).forEach((e=>{let t=NaN;if(e.includes(":")){const[n,r]=e.toUpperCase().split(":");"CRS"!==n&&"EPSG"!==n||(t=parseInt(r,10))}else t=parseInt(e,10);if(0!==t&&!isNaN(t)){const e=v[t]??t;r.spatialReferences.includes(e)||r.spatialReferences.push(e)}}));else if("Style"!==e.nodeName||r.legendUrl){if("Layer"===e.nodeName){const i=G(e,t,n);i&&(i.parentLayerId=r.id,r.sublayers||(r.sublayers=[]),r.sublayers.push(i))}}else{const t=N("LegendURL",e);if(t){const e=N("OnlineResource",t);e&&(r.legendUrl=e.getAttribute("xlink:href"))}}})),r.extent=o?.toJSON(),r.dimensions=x("Dimension",e).filter((e=>e.getAttribute("name")&&e.getAttribute("units")&&e.textContent)).map((e=>{const t=e.getAttribute("name"),n=e.getAttribute("units"),r=e.textContent,i=e.getAttribute("unitSymbol")??void 0,s=e.getAttribute("default")??void 0,l="0"!==A("default",e,"0"),o="0"!==A("nearestValue",e,"0"),a="0"!==A("current",e,"0");return H({name:t,units:n})?{name:"time",units:"ISO8601",extent:D(r),default:D(s),multipleValues:l,nearestValue:o,current:a}:j({name:t,units:n})?{name:"elevation",units:n,extent:q(r),unitSymbol:i,default:q(s),multipleValues:l,nearestValue:o}:{name:t,units:n,extent:K(r),unitSymbol:i,default:K(s),multipleValues:l,nearestValue:o}})),r}function U(e){return Array.isArray(e)&&e.length>0&&e[0]instanceof Date}function W(e){return e.nodeType===Node.ELEMENT_NODE}function j(e){return/^elevation$/i.test(e.name)&&/^(epsg|crs):\d+$/i.test(e.units)}function H(e){return/^time$/i.test(e.name)&&/^iso8601$/i.test(e.units)}function B(e,t){const n=[],r=(0,i.I)(e);for(const i in r.query)r.query.hasOwnProperty(i)&&(t.includes(i.toLowerCase())||n.push(i+"="+r.query[i]));return r.path+(n.length?"?"+n.join("&"):"")}function q(e){if(!e)return;const t=e.includes("/"),n=e.split(",");return t?n.map((e=>{const t=e.split("/");return t.length<2?null:{min:parseFloat(t[0]),max:parseFloat(t[1]),resolution:t.length>=3&&"0"!==t[2]?parseFloat(t[2]):void 0}})).filter(i.bQ):n.map((e=>parseFloat(e)))}function K(e){if(!e)return;const t=e.includes("/"),n=e.split(",");return t?n.map((e=>{const t=e.split("/");return t.length<2?null:{min:t[0],max:t[1],resolution:t.length>=3&&"0"!==t[2]?t[2]:void 0}})).filter(i.bQ):n}function D(e){if(!e)return;const t=e.includes("/"),n=e.split(",");return t?n.map((e=>{const t=e.split("/");return t.length<2?null:{min:z(t[0]),max:z(t[1]),resolution:t.length>=3&&"0"!==t[2]?V(t[2]):void 0}})).filter(i.bQ):n.map((e=>z(e)))}function z(e){return i.at.fromISO(e,{zone:i.an.utcInstance}).toJSDate()}function V(e){const t=/(?:p(\d+y|\d+(?:\.|,)\d+y)?(\d+m|\d+(?:\.|,)\d+m)?(\d+d|\d+(?:\.|,)\d+d)?)?(?:t(\d+h|\d+(?:\.|,)\d+h)?(\d+m|\d+(?:\.|,)\d+m)?(\d+s|\d+(?:\.|,)\d+s)?)?/i,n=e.match(t);return n?{years:$(n[1]),months:$(n[2]),days:$(n[3]),hours:$(n[4]),minutes:$(n[5]),seconds:$(n[6])}:null}function $(e){if(!e)return 0;const t=/(?:\d+(?:\.|,)\d+|\d+)/,n=e.match(t);if(!n)return 0;const r=n[0].replace(",",".");return Number(r)}function Z(e){return e.toISOString().replace(/\.[0-9]{3}/,"")}const J="0000-01-01T00:00:00Z",X="9999-12-31T23:59:59Z";function Q(e){if(!e||e.isAllTime||e.isEmpty)return;const{start:t,end:n}=e;return t&&n&&t.getTime()===n.getTime()?`${Z(t)}`:`${t?Z(t):J}/${n?Z(n):X}`}const Y=new Set([102100,3857,102113,900913]),ee=new Set([3395,54004]);function te(e,t){let n=e.wkid;return null==t?n:(null!=n&&t.includes(n)||!e.latestWkid||(n=e.latestWkid),null!=n&&Y.has(n)?t.find((e=>Y.has(e)))||t.find((e=>ee.has(e)))||102100:n)}const ne=new i.ax({bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},{ignoreUnknown:!1});function re(e){return"text/html"===e}function ie(e){return"text/plain"===e}let se=class extends((0,u.l)((0,h.l)((0,p.f)((0,d.t)((0,c.b)((0,f.j)((0,l.S)(a.f)))))))){constructor(...e){super(...e),this.allSublayers=new s.n({getCollections:()=>[this.sublayers],getChildrenFunction:e=>e.sublayers}),this.customParameters=null,this.customLayerParameters=null,this.copyright=null,this.description=null,this.dimensions=null,this.fullExtent=null,this.fullExtents=null,this.featureInfoFormats=null,this.featureInfoUrl=null,this.fetchFeatureInfoFunction=null,this.imageFormat=null,this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.legendEnabled=!0,this.mapUrl=null,this.isReference=null,this.operationalLayerType="WMS",this.spatialReference=null,this.spatialReferences=null,this.sublayers=null,this.type="wms",this.version=null,this.addHandles([(0,i.aG)((()=>this.sublayers),"after-add",(({item:e})=>{e.parent=e.layer=this}),i.az),(0,i.aG)((()=>this.sublayers),"after-remove",(({item:e})=>{e.layer=e.parent=null}),i.az),(0,i.aE)((()=>this.sublayers),((e,t)=>{if(t)for(const n of t)n.layer=n.parent=null;if(e)for(const n of e)n.parent=n.layer=this}),i.az)])}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}destroy(){this.allSublayers.destroy()}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["WMS"]},e).catch(i.G).then((()=>this._fetchService(t))).then((()=>this._checkLayerValidity()))),Promise.resolve(this)}readFullExtentFromItemOrMap(e,t){const n=t.extent;return n?new i.au({xmin:n[0][0],ymin:n[0][1],xmax:n[1][0],ymax:n[1][1]}):null}writeFullExtent(e,t){t.extent=[[e.xmin,e.ymin],[e.xmax,e.ymax]]}get featureInfoFormat(){return null==this.featureInfoFormats?null:this.featureInfoFormats.find(re)??this.featureInfoFormats.find(ie)??null}set featureInfoFormat(e){null==e?(this.revert("featureInfoFormat","service"),this._clearOverride("featureInfoFormat")):(re(e)||ie(e))&&this._override("featureInfoFormat",e)}readImageFormat(e,t){const n=t.supportedImageFormatTypes;return n&&n.includes("image/png")?"image/png":n&&n[0]}readSpatialReferenceFromItemOrDocument(e,t){return new i.B(t.spatialReferences[0])}writeSpatialReferences(e,t){const n=this.spatialReference?.wkid;e&&n?(t.spatialReferences=e.filter((e=>e!==n)),t.spatialReferences.unshift(n)):t.spatialReferences=e}readSublayersFromItemOrMap(e,t,n){return oe(t.layers,n,t.visibleLayers)}readSublayers(e,t,n){return oe(t.layers,n)}writeSublayers(e,t,n,r){t.layers=[];const i=new Map,s=e.flatten((({sublayers:e})=>e??[]));for(const l of s)if("number"==typeof l.parent?.id){const e=i.get(l.parent.id);null!=e?e.push(l.id):i.set(l.parent.id,[l.id])}for(const l of s){const e={sublayer:l,...r},n=l.write({parentLayerId:"number"==typeof l.parent?.id?l.parent.id:-1},e);if(i.has(l.id)&&(n.sublayerIds=i.get(l.id)),!l.sublayers&&l.name){const n=l.write({},e);delete n.id,t.layers.push(n)}}t.visibleLayers=s.filter((({visible:e,sublayers:t})=>e&&!t)).map((({name:e})=>e)).toArray()}set url(e){if(!e)return void this._set("url",e);const{path:t,query:n}=(0,i.I)(e);for(const i in n)/^(request|service)$/i.test(i)&&delete n[i];const r=(0,i.cn)(t,n??{});this._set("url",r)}createExportImageParameters(e,t,n,r){const i=r?.pixelRatio??1,s=(0,o.i)({extent:e,width:t})*i,l=new E.a({layer:this,scale:s}),{xmin:a,ymin:u,xmax:c,ymax:f,spatialReference:p}=e,d=te(p,this.spatialReferences),h="1.3.0"===this.version&&(0,m.o)(d)?`${u},${a},${f},${c}`:`${a},${u},${c},${f}`,y=l.toJSON(),g="1.3.0"===this.version?"crs":"srs";return{bbox:h,[g]:null==d||isNaN(d)?void 0:"EPSG:"+d,...y}}async fetchImage(e,t,n,r){const s=this.mapUrl,l=this.createExportImageParameters(e,t,n,r);if(!l.layers){const e=document.createElement("canvas");return e.width=t,e.height=n,e}const o=Q(r?.timeExtent),a={responseType:"image",query:this._mixCustomParameters({width:t,height:n,...l,time:o,...this.refreshParameters}),signal:r?.signal};return(0,i.U)(s??"",a).then((e=>e.data))}async fetchImageBitmap(e,t,n,r){const s=this.mapUrl??"",l=this.createExportImageParameters(e,t,n,r);if(!l.layers){const e=document.createElement("canvas");return e.width=t,e.height=n,e}const o=Q(r?.timeExtent),a={responseType:"blob",query:this._mixCustomParameters({width:t,height:n,...l,time:o,...this.refreshParameters}),signal:r?.signal},{data:u}=await(0,i.U)(s,a);return(0,S.t)(u,s,r?.signal)}fetchFeatureInfo(e,t,n,r,s){const l=(0,o.i)({extent:e,width:t}),a=new E.a({layer:this,scale:l}),u=b(a.visibleSublayers);if(null==this.featureInfoUrl||null==u)return Promise.resolve([]);if(null==this.fetchFeatureInfoFunction&&null==this.featureInfoFormat)return Promise.resolve([]);const c="1.3.0"===this.version?{I:r,J:s}:{x:r,y:s},f={query_layers:u,request:"GetFeatureInfo",info_format:this.featureInfoFormat,feature_count:25,width:t,height:n,...c},p={...this.createExportImageParameters(e,t,n),...f},d=this._mixCustomParameters(p);return null!=this.fetchFeatureInfoFunction?this.fetchFeatureInfoFunction(d):this._defaultFetchFeatureInfoFunction((0,i.cn)(this.featureInfoUrl,d))}findSublayerById(e){return this.allSublayers.find((t=>t.id===e))}findSublayerByName(e){return this.allSublayers.find((t=>t.name===e))}serviceSupportsSpatialReference(e){return(0,y.b)(this.url)||null!=this.spatialReferences&&this.spatialReferences.some((t=>{const n=900913===t?i.B.WebMercator:new i.B({wkid:t});return(0,i.bh)(n,e)}))}_defaultFetchFeatureInfoFunction(e){const t=document.createElement("iframe");t.src=(0,i.d4)(e),t.style.border="none",t.style.margin="0",t.style.width="100%",t.setAttribute("sandbox","");const n=new i.b4({title:this.title,content:t}),r=new i.b1({sourceLayer:this,popupTemplate:n});return Promise.resolve([r])}async _fetchService(e){if(!this.resourceInfo&&this.parsedUrl?.path){const{path:t,query:n}=this.parsedUrl,{data:r}=await(0,i.U)(t,{query:{SERVICE:"WMS",REQUEST:"GetCapabilities",...n,...this.customParameters},responseType:"xml",signal:e});this.resourceInfo=w(r)}if(this.parsedUrl){const e=new i.es(this.parsedUrl.path),{httpsDomains:t}=i.H.request;"https"!==e.scheme||e.port&&"443"!==e.port||!e.host||t.includes(e.host)||t.push(e.host)}this.read(this.resourceInfo,{origin:"service"})}_checkLayerValidity(){if(!this.allSublayers.length)throw new i.s("wmslayer:empty-layer","The layer doesn't have any sublayer")}_mixCustomParameters(e){if(!this.customLayerParameters&&!this.customParameters)return e;const t={...this.customParameters,...this.customLayerParameters};for(const n in t)e[n.toLowerCase()]=t[n];return e}};function le(e,t){return e.some((e=>{for(const n in e)if((0,i.dI)(e,n,null,t))return!0;return!1}))}function oe(e,t,n){e=e??[];const r=new Map;e.every((e=>null==e.id))&&(e=(0,i.f)(e)).forEach(((e,t)=>e.id=t));for(const i of e){const e=new _;e.read(i,t),n&&!n.includes(e.name)&&(e.visible=!1),r.set(e.id,e)}const s=[];for(const l of e){const e=null!=l.id?r.get(l.id):null;if(e)if(null!=l.parentLayerId&&l.parentLayerId>=0){const t=r.get(l.parentLayerId);if(!t)continue;t.sublayers||(t.sublayers=new i.V),t.sublayers.push(e)}else s.push(e)}return s}(0,i.k)([(0,i.o)({readOnly:!0})],se.prototype,"allSublayers",void 0),(0,i.k)([(0,i.o)({json:{type:Object,write:!0}})],se.prototype,"customParameters",void 0),(0,i.k)([(0,i.o)({json:{type:Object,write:!0}})],se.prototype,"customLayerParameters",void 0),(0,i.k)([(0,i.o)({type:String,json:{write:!0}})],se.prototype,"copyright",void 0),(0,i.k)([(0,i.o)()],se.prototype,"description",void 0),(0,i.k)([(0,i.o)({readOnly:!0})],se.prototype,"dimensions",void 0),(0,i.k)([(0,i.o)({json:{type:[[Number]],read:{source:"extent"},write:{target:"extent"},origins:{"web-document":{write:{ignoreOrigin:!0}},"portal-item":{write:{ignoreOrigin:!0}}}}})],se.prototype,"fullExtent",void 0),(0,i.k)([(0,i.u)(["web-document","portal-item"],"fullExtent",["extent"])],se.prototype,"readFullExtentFromItemOrMap",null),(0,i.k)([(0,i.q)(["web-document","portal-item"],"fullExtent",{extent:{type:[[Number]]}})],se.prototype,"writeFullExtent",null),(0,i.k)([(0,i.o)()],se.prototype,"fullExtents",void 0),(0,i.k)([(0,i.o)({type:String,json:{write:{ignoreOrigin:!0}}})],se.prototype,"featureInfoFormat",null),(0,i.k)([(0,i.o)({type:[String],readOnly:!0})],se.prototype,"featureInfoFormats",void 0),(0,i.k)([(0,i.o)({type:String,json:{write:{ignoreOrigin:!0}}})],se.prototype,"featureInfoUrl",void 0),(0,i.k)([(0,i.o)()],se.prototype,"fetchFeatureInfoFunction",void 0),(0,i.k)([(0,i.o)({type:String,json:{origins:{"web-document":{default:"image/png",type:ne.jsonValues,read:{reader:ne.read,source:"format"},write:{writer:ne.write,target:"format"}}}}})],se.prototype,"imageFormat",void 0),(0,i.k)([(0,i.u)("imageFormat",["supportedImageFormatTypes"])],se.prototype,"readImageFormat",null),(0,i.k)([(0,i.o)({type:Number,json:{read:{source:"maxHeight"},write:{target:"maxHeight"}}})],se.prototype,"imageMaxHeight",void 0),(0,i.k)([(0,i.o)({type:Number,json:{read:{source:"maxWidth"},write:{target:"maxWidth"}}})],se.prototype,"imageMaxWidth",void 0),(0,i.k)([(0,i.o)()],se.prototype,"imageTransparency",void 0),(0,i.k)([(0,i.o)(g.d)],se.prototype,"legendEnabled",void 0),(0,i.k)([(0,i.o)({type:["show","hide","hide-children"]})],se.prototype,"listMode",void 0),(0,i.k)([(0,i.o)({type:String,json:{write:{ignoreOrigin:!0}}})],se.prototype,"mapUrl",void 0),(0,i.k)([(0,i.o)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],se.prototype,"isReference",void 0),(0,i.k)([(0,i.o)({type:["WMS"]})],se.prototype,"operationalLayerType",void 0),(0,i.k)([(0,i.o)()],se.prototype,"resourceInfo",void 0),(0,i.k)([(0,i.o)({type:i.B,json:{origins:{service:{read:{source:"extent.spatialReference"}}},write:!1}})],se.prototype,"spatialReference",void 0),(0,i.k)([(0,i.u)(["web-document","portal-item"],"spatialReference",["spatialReferences"])],se.prototype,"readSpatialReferenceFromItemOrDocument",null),(0,i.k)([(0,i.o)({type:[i.bp],json:{read:!1,origins:{service:{read:!0},"web-document":{read:!1,write:{ignoreOrigin:!0}},"portal-item":{read:!1,write:{ignoreOrigin:!0}}}}})],se.prototype,"spatialReferences",void 0),(0,i.k)([(0,i.q)(["web-document","portal-item"],"spatialReferences")],se.prototype,"writeSpatialReferences",null),(0,i.k)([(0,i.o)({type:i.V.ofType(_),json:{write:{target:"layers",overridePolicy(e,t,n){if(le(this.allSublayers,n))return{ignoreOrigin:!0}}}}})],se.prototype,"sublayers",void 0),(0,i.k)([(0,i.u)(["web-document","portal-item"],"sublayers",["layers","visibleLayers"])],se.prototype,"readSublayersFromItemOrMap",null),(0,i.k)([(0,i.u)("service","sublayers",["layers"])],se.prototype,"readSublayers",null),(0,i.k)([(0,i.q)("sublayers",{layers:{type:[_]},visibleLayers:{type:[String]}})],se.prototype,"writeSublayers",null),(0,i.k)([(0,i.o)({json:{read:!1},readOnly:!0,value:"wms"})],se.prototype,"type",void 0),(0,i.k)([(0,i.o)(g.y)],se.prototype,"url",null),(0,i.k)([(0,i.o)({type:String,json:{write:{ignoreOrigin:!0}}})],se.prototype,"version",void 0),se=(0,i.k)([(0,i.A)("esri.layers.WMSLayer")],se);const ae=se},4706:function(e,t,n){n.d(t,{o:function(){return i}});const r=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function i(e){return null!=e&&r.some((([t,n])=>e>=t&&e<=n))}},83297:function(e,t,n){n.d(t,{E:function(){return d},a:function(){return u},c:function(){return a},f:function(){return p},i:function(){return l},l:function(){return f},s:function(){return o},u:function(){return c}});var r=n(49555),i=n(98503);async function s(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,i.a0)(e);const n=i.B.WGS84;return await(0,r.N)(t,n),(0,r.K)(e,n)}function l(e,t){if(!o(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function o(e,t){return!!e.typeKeywords?.includes(t)}function a(e){return o(e,p.HOSTED_SERVICE)}function u(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function c(e,t,n){n?l(e,t):u(e,t)}async function f(e){const t=e.clone().normalize();let n;if(t.length>1)for(const r of t)n?r.width>n.width&&(n=r):n=r;else n=t[0];return s(n)}const p={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function d(e){const{portal:t,isOrgItem:n,itemControl:r}=e,i=t.user?.privileges;let s=!i||i.includes("features:user:edit"),l=!!n&&!!i?.includes("features:user:fullEdit");const o="update"===r||"admin"===r;return o?l=s=!0:l&&(s=!0),{features:{edit:s,fullEdit:l},content:{updateItem:o}}}},85502:function(e,t,n){n.r(t),n.d(t,{E:function(){return V},F:function(){return d},G:function(){return p},L:function(){return f},N:function(){return c},d:function(){return u},e:function(){return z},i:function(){return i},l:function(){return D},n:function(){return te},p:function(){return ne},t:function(){return s}});var r=n(98503);const i=Math.PI/180,s=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,l=r.a3.radius,o=r.a3.eccentricitySquared,a={a1:l*o,a2:l*o*l*o,a3:l*o*o/2,a4:l*o*l*o*2.5,a5:l*o+l*o*o/2,a6:1-o},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a3.radius,f:r.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.fs.radius,f:r.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.ft.radius,f:r.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var c;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(c||(c={}));const f={[c.WGS84]:{[c.CGCS2000]:h,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:h,[c.SPHERICAL_ECEF]:x,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:C,[c.WGS84]:h,[c.WGS84_ECEF]:W},[c.CGCS2000]:{[c.CGCS2000]:h,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:h,[c.SPHERICAL_ECEF]:x,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:C,[c.WGS84]:h,[c.WGS84_ECEF]:W},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:h,[c.GCSMOON2000]:null,[c.LON_LAT]:h,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:N,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:h,[c.LON_LAT]:h,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:O,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:m,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:m,[c.SPHERICAL_ECEF]:y,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:h,[c.PLATE_CARREE]:_,[c.WGS84]:m,[c.WGS84_ECEF]:g},[c.WGS84_ECEF]:{[c.CGCS2000]:j,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:j,[c.SPHERICAL_ECEF]:H,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:B,[c.PLATE_CARREE]:v,[c.WGS84]:j,[c.WGS84_ECEF]:h},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:F,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:F,[c.SPHERICAL_ECEF]:h,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:T,[c.PLATE_CARREE]:w,[c.WGS84]:F,[c.WGS84_ECEF]:G},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:k,[c.GCSMOON2000]:null,[c.LON_LAT]:k,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:h,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:L,[c.LON_LAT]:L,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:h,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:h,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:h,[c.GCSMARS2000]:h,[c.GCSMOON2000]:h,[c.LON_LAT]:h,[c.SPHERICAL_ECEF]:x,[c.SPHERICAL_MARS_PCPF]:N,[c.SPHERICAL_MOON_PCPF]:O,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:C,[c.WGS84]:h,[c.WGS84_ECEF]:W},[c.PLATE_CARREE]:{[c.CGCS2000]:R,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:R,[c.SPHERICAL_ECEF]:b,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:P,[c.PLATE_CARREE]:h,[c.WGS84]:R,[c.WGS84_ECEF]:I}};function p(e,t,n=K()){return null==e||null==t?null:q(e,t,n).projector}function d(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,r.bq)(e,1)),(0,r.fv)(e)?t.spatialReferenceId=c.SPHERICAL_ECEF:(0,r.cb)(e)?t.spatialReferenceId=c.WGS84:(0,r.cL)(e)?t.spatialReferenceId=c.WEB_MERCATOR:(0,r.fw)(e)?t.spatialReferenceId=c.PLATE_CARREE:e.wkt===r.c4.wkt?t.spatialReferenceId=c.WGS84_ECEF:e.wkid===r.fx.CGCS2000?t.spatialReferenceId=c.CGCS2000:e.wkt===r.c2.wkt?t.spatialReferenceId=c.SPHERICAL_MARS_PCPF:e.wkt===r.c3.wkt?t.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,r.eD)(e)?t.spatialReferenceId=c.GCSMARS2000:(0,r.eE)(e)?t.spatialReferenceId=c.GCSMOON2000:t.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function h(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function m(e,t,n,r){n[r]=Z*(e[t]/Q),n[r+1]=Z*(X-2*Math.atan(Math.exp(-e[t+1]/Q))),n[r+2]=e[t+2]}function y(e,t,n,r){const i=e[t]/Q,s=X-2*Math.atan(Math.exp(-e[t+1]/Q)),l=Q+e[t+2],o=Math.cos(s)*l;n[r]=Math.cos(i)*o,n[r+1]=Math.sin(i)*o,n[r+2]=Math.sin(s)*l}function g(e,t,n,r){m(e,t,n,r),W(n,r,n,r)}function E(e,t,n,i,s){const l=.4999999*J,o=(0,r.aP)($*e[t+1],-l,l),a=Math.sin(o);n[i++]=$*e[t]*s.radius,n[i++]=s.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[i]=e[t+2]}function S(e,t,n,i){E(e,t,n,i,r.a3)}function C(e,t,n,r){n[r]=e[t]*Y,n[r+1]=e[t+1]*Y,n[r+2]=e[t+2]}function R(e,t,n,r){n[r]=e[t]*ee,n[r+1]=e[t+1]*ee,n[r+2]=e[t+2]}function _(e,t,n,r){m(e,t,n,r),C(n,r,n,r)}function v(e,t,n,r){j(e,t,n,r),C(n,r,n,r)}function w(e,t,n,r){F(e,t,n,r),C(n,r,n,r)}function b(e,t,n,r){R(e,t,n,r),x(n,r,n,r)}function P(e,t,n,r){R(e,t,n,r),S(n,r,n,r)}function I(e,t,n,r){R(e,t,n,r),W(n,r,n,r)}function A(e,t,n,r,i){const s=i+e[t+2],l=$*e[t+1],o=$*e[t],a=Math.cos(l)*s;n[r]=Math.cos(o)*a,n[r+1]=Math.sin(o)*a,n[r+2]=Math.sin(l)*s}function O(e,t,n,i){A(e,t,n,i,r.fs.radius)}function N(e,t,n,i){A(e,t,n,i,r.ft.radius)}function x(e,t,n,i){A(e,t,n,i,r.a3.radius)}function M(e,t,n,i,s){const l=e[t],o=e[t+1],a=e[t+2],u=Math.sqrt(l*l+o*o+a*a),c=(0,r.fu)(a/(0===u?1:u)),f=Math.atan2(o,l);n[i++]=Z*f,n[i++]=Z*c,n[i]=u-s}function L(e,t,n,i){M(e,t,n,i,r.fs.radius)}function k(e,t,n,i){M(e,t,n,i,r.ft.radius)}function F(e,t,n,i){M(e,t,n,i,r.a3.radius)}function T(e,t,n,r){F(e,t,n,r),S(n,r,n,r)}function G(e,t,n,r){F(e,t,n,r),W(n,r,n,r)}function U(e,t,n,r,i){const s=$*e[t],l=$*e[t+1],o=e[t+2],a=Math.sin(l),u=Math.cos(l),c=i.radius/Math.sqrt(1-i.eccentricitySquared*a*a);n[r++]=(c+o)*u*Math.cos(s),n[r++]=(c+o)*u*Math.sin(s),n[r++]=(c*(1-i.eccentricitySquared)+o)*a}function W(e,t,n,i){U(e,t,n,i,r.a3)}function j(e,t,n,i){const s=a,l=e[t],o=e[t+1],u=e[t+2];let c,f,p,d,h,m,y,g,E,S,C,R,_,v,w,b,P,I,A,O,N;c=Math.abs(u),f=l*l+o*o,p=Math.sqrt(f),d=f+u*u,h=Math.sqrt(d),O=Math.atan2(o,l),m=u*u/d,y=f/d,v=s.a2/h,w=s.a3-s.a4/h,y>.3?(g=c/h*(1+y*(s.a1+v+m*w)/h),A=Math.asin(g),S=g*g,E=Math.sqrt(1-S)):(E=p/h*(1-m*(s.a5-v-y*w)/h),A=Math.acos(E),S=1-E*E,g=Math.sqrt(S)),C=1-r.a3.eccentricitySquared*S,R=r.a3.radius/Math.sqrt(C),_=s.a6*R,v=p-R*E,w=c-_*g,P=E*v+g*w,b=E*w-g*v,I=b/(_/C+P),A+=I,N=P+b*I/2,u<0&&(A=-A),n[i++]=Z*O,n[i++]=Z*A,n[i]=N}function H(e,t,n,r){j(e,t,n,r),x(n,r,n,r)}function B(e,t,n,r){j(e,t,n,r),S(n,r,n,r)}function q(e,t,n){if(null==e||null==t||n.source.spatialReference===e&&n.dest.spatialReference===t)return n;const i=d(e,n.source),s=d(t,n.dest);return i===c.UNKNOWN&&s===c.UNKNOWN?(0,r.bh)(e,t)?n.projector=h:n.projector=null:n.projector=f[i][s],n}function K(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:h}}const D={spatialReference:null,spatialReferenceId:c.UNKNOWN},z={spatialReference:null,spatialReferenceId:c.UNKNOWN},V=K(),$=(0,r.eI)(1),Z=(0,r.dg)(1),J=Math.PI,X=.5*J,Q=r.a3.radius,Y=Q*J/180,ee=180/(Q*J);function te(e,t,n,r,i,s,l=Math.floor(e.length/3)){const o=p(t,i,V);if(null==o)return!1;if(o===h){if(e===r&&n===s)return!0;const t=n+3*l;for(let i=n,l=s;i<t;i++,l++)r[l]=e[i];return!0}const a=n+3*l;for(let u=n,c=s;u<a;u+=3,c+=3)o(e,u,r,c);return!0}const ne=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:te},Symbol.toStringTag,{value:"Module"}))},49555:function(e,t,n){n.r(t),n.d(t,{B:function(){return v},H:function(){return F},J:function(){return G},K:function(){return P},L:function(){return U},N:function(){return W},O:function(){return I},Q:function(){return j},V:function(){return A},W:function(){return b},X:function(){return O},Y:function(){return N},_:function(){return R},a:function(){return V},o:function(){return c},p:function(){return Y},s:function(){return u}});var r=n(98503),i=n(85502);function s(e,t,n,r,s,o){return l[0]=e,l[1]=t,l[2]=n,(0,i.n)(l,r,0,s,o,0)}const l=(0,r.aA)();let o=0;class a{static fromGE(e){const t=new a;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=o++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=o++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=o++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=o++}getInverse(){const e=new a;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let u=class e{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(t){const n=new e;let r="";for(const e of t.steps){const t=a.fromGE(e);n.steps.push(t),r+=t.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof a?this.steps.push(t):this.steps.push(new a({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const t=new e;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const n=this.steps[e];t.steps.push(n.getInverse())}return t}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(t,n,r){this._cachedProjection[e.cacheKey(t,n)]=r}getCachedGeTransformation(t,n){let r="";for(const e of this.steps)r+=e.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const i=this._cachedProjection[e.cacheKey(t,n)];return void 0===i?null:i}};function c(e,t,n){if(null==t||null==n||n.vcsWkid||(0,r.bh)(t,n)||(0,r.gK)(t)||(0,r.gK)(n))return null;const i=(0,r.bg)(t)/(0,r.bg)(n);if(1===i)return null;switch(e){case"point":case"esriGeometryPoint":return e=>f(e,i);case"polyline":case"esriGeometryPolyline":return e=>d(e,i);case"polygon":case"esriGeometryPolygon":return e=>p(e,i);case"multipoint":case"esriGeometryMultipoint":return e=>h(e,i);case"extent":case"esriGeometryEnvelope":return e=>m(e,i);default:return null}}function f(e,t){null!=e?.z&&(e.z*=t)}function p(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}function d(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}function h(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function m(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}let y=null,g=null,E=null,S={};const C=new r.aQ;function R(){return!!y&&(0,r.gN)()}function _(){return!!R()||((0,r.aR)(C),b(),!1)}function v(e,t){return!e||!t||G(e,t)||_()}function w(e,t){return!G(e,t)&&!R()}function b(e){return null==E&&(E=Promise.all([(0,r.gL)(),Promise.all([n.e(916),n.e(2020)]).then(n.bind(n,90916)).then((e=>e.g)),n.e(6582).then(n.bind(n,6582))])),E.then((([,t,{hydratedAdapter:n}])=>{(0,r.D)(e),g=n,y=t.default,y._enableProjection(r.gM),C.notify()}))}function P(e,t,n=null,r=null){return Array.isArray(e)?0===e.length?[]:I(g,e,e[0].spatialReference,t,n,r):I(g,[e],e.spatialReference,t,n,r)[0]}function I(e,t,n,i,s=null,l=null){if(null==n||null==i)return t;if(G(n,i,s))return t.map((e=>j(e,n,i)));if(null==s&&(0,r.fv)(n))return t.map((e=>j(e,n,r.B.WGS84))).map((e=>F(e,i)));if(null==s&&(0,r.fv)(i))return t.map((e=>F(e,r.B.WGS84))).map((e=>j(e,r.B.WGS84,i)));if(null==s){const e=u.cacheKey(n,i);void 0!==S[e]?s=S[e]:(null==(s=N(n,i,void 0))&&(s=new u),S[e]=s)}if(null==y||null==e)throw new M;return null!=l?y._project(e,t,n,i,s,l):y._project(e,t,n,i,s)}function A(e,t){const n=O([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function O(e,t){if(!R())for(const n of e)if(null!=n&&!(0,r.bh)(n.spatialReference,t)&&(0,r.cg)(n.spatialReference)&&(0,r.cg)(t)&&!G(n.spatialReference,t))return(0,r.aR)(C),{pending:b(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,r.bh)(e.spatialReference,t)?e:(0,r.cg)(e.spatialReference)&&(0,r.cg)(t)?F(e,t):null))}}function N(e,t,n=null){if(null==e||null==t)return null;if(null==y||null==g)throw new M;const r=y._getTransformation(g,e,t,n,n?.spatialReference);return null!==r?u.fromGE(r):null}function x(e,t,n=null){if(null==y||null==g)throw new M;const r=y._getTransformationBySuitability(g,e,t,n,n?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(u.fromGE(t));return e}return[]}class M extends r.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function L(){y=null,g=null,E=null,S={}}const k={get loadPromise(){return E}};function F(e,t){try{const n=P(e,t);return null==n?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),c(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof M))throw n;return null}}async function T(e,t,n){const r=e.spatialReference;return null!=r&&null!=t&&await W(r,t,null,n),F(e,t)}function G(e,t,n){return!n&&(!!(0,r.bh)(e,t)||(0,r.cg)(e)&&(0,r.cg)(t)&&!!(0,i.G)(e,t,i.E))}function U(e,t){if((0,r.bh)(e,t))return!0;if(!(0,r.cg)(e)||!(0,r.cg)(t))return!1;const n=(0,r.cb)(e)||(0,r.cL)(e)||(0,r.eC)(e),i=(0,r.cb)(t)||(0,r.cL)(t)||(0,r.eC)(t);return n&&i}async function W(e,t,n,i){if(R())return(0,r.O)(i);if(Array.isArray(e)){for(const{source:r,dest:s,geographicTransformation:l}of e)if(r&&s&&!G(r,s,l))return b(i)}else if(e&&t&&!G(e,t,n))return b(i);return(0,r.O)(i)}function j(e,t,n){return e?"x"in e?B(e,t,new r.bv,n,0):"xmin"in e?J(e,t,new r.au,n,0):"rings"in e?$(e,t,new r.bC,n,0):"paths"in e?z(e,t,new r.aT,n,0):"points"in e?K(e,t,new r.bD,n,0):null:null}function H(e,t,n=t.spatialReference,r=0){return null!=n&&null!=e.spatialReference&&null!=B(e,e.spatialReference,t,n,r)}function B(e,t,n,s,l){Q[0]=e.x,Q[1]=e.y;const o=e.z;return Q[2]=void 0!==o?o:l,(0,i.n)(Q,t,0,Q,s,0)?(n.x=Q[0],n.y=Q[1],n.spatialReference=s,void 0!==o||(0,r.gK)(s)?(n.z=Q[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function q(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=K(e,e.spatialReference,t,n,r)}function K(e,t,n,s,l){const{points:o,hasZ:a,hasM:u}=e,c=[],f=o.length,p=[];for(const r of o)p.push(r[0],r[1],a?r[2]:l);if(!(0,i.n)(p,t,0,p,s,0,f))return null;const d=a||(0,r.gK)(s);for(let r=0;r<f;++r){const e=3*r,t=p[e],n=p[e+1];d&&u?c.push([t,n,p[e+2],o[r][3]]):d?c.push([t,n,p[e+2]]):u?c.push([t,n,o[r][2]]):c.push([t,n])}return n.points=c,n.spatialReference=s,n.hasZ=a,n.hasM=u,n}function D(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=z(e,e.spatialReference,t,n,r)}function z(e,t,n,i,s){const{paths:l,hasZ:o,hasM:a}=e,u=[];if(!X(l,o??!1,a??!1,t,u,i,s))return null;const c=o||(0,r.gK)(i);return n.paths=u,n.spatialReference=i,n.hasZ=c,n.hasM=a,n}function V(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=$(e,e.spatialReference,t,n,r)}function $(e,t,n,i,s){const{rings:l,hasZ:o,hasM:a}=e,u=[];if(!X(l,o??!1,a??!1,t,u,i,s))return null;const c=o||(0,r.gK)(i);return n.rings=u,n.spatialReference=i,n.hasZ=c,n.hasM=a,n}function Z(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=J(e,e.spatialReference,t,n,r)}function J(e,t,n,i,l){const{xmin:o,ymin:a,xmax:u,ymax:c,hasZ:f,hasM:p}=e,d=f?e.zmin:l;if(!s(o,a,d,t,Q,i))return null;const h=f||(0,r.gK)(i);n.xmin=Q[0],n.ymin=Q[1],h&&(n.zmin=Q[2]);const m=f?e.zmax:l;return s(u,c,m,t,Q,i)?(n.xmax=Q[0],n.ymax=Q[1],h&&(n.zmax=Q[2]),p&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=i,n):null}function X(e,t,n,s,l,o,a=0){const u=new Array;for(const r of e)for(const e of r)u.push(e[0],e[1],t?e[2]:a);if(!(0,i.n)(u,s,0,u,o,0))return!1;let c=0;l.length=0;const f=t||(0,r.gK)(o);for(const r of e){const e=new Array;for(const t of r)f&&n?e.push([u[c++],u[c++],u[c++],t[3]]):f?e.push([u[c++],u[c++],u[c++]]):n?(e.push([u[c++],u[c++],t[2]]),c++):(e.push([u[c++],u[c++]]),c++);l.push(e)}return!0}const Q=(0,r.aA)(),Y=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:G,getTransformation:N,getTransformations:x,initializeProjection:W,isEqualBaseGCS:U,isLoaded:R,isLoadedOrLoad:_,isLoadedOrLoadFor:v,load:b,project:P,projectExtent:Z,projectMany:I,projectMultipoint:q,projectOrLoad:A,projectOrLoadMany:O,projectPoint:H,projectPolygon:V,projectPolyline:D,projectWithZConversion:T,projectWithoutEngine:j,requiresLoad:w,test:k,tryProjectWithZConversion:F,unload:L},Symbol.toStringTag,{value:"Module"}))},82047:function(e,t,n){n.d(t,{d:function(){return o},i:function(){return s},o:function(){return l}});var r=n(98503);const i=96;function s(e,t){const n=e.extent,s=e.width,l=(0,r.bq)(n?.spatialReference);return n&&s?n.width/s*l*r.br*i:0}function l(e,t){return e/((0,r.bq)(t)*r.br*i)}function o(e,t,n){return a(e,t)&&u(e,n)}function a(e,t){return 0===t||(0,r.bs)(e,t)||e<t}function u(e,t){return 0===t||(0,r.bs)(e,t)||e>t}}}]);
//# sourceMappingURL=7307.814c7592.js.map