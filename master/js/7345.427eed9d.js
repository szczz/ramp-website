"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3297,7345],{50293:function(e,t,n){n.d(t,{j:function(){return s}});var r=n(98503),l=n(2031),i=n(83297);const s=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,r.C)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,n){if(t.itemId)return new l["default"]({id:t.itemId,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:l}=await Promise.all([n.e(3338),n.e(1128)]).then(n.bind(n,21128));return(0,r.D)(t),await l({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(l){throw(0,r.E)(l)||r.n.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${l}`),l}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,r.G)(e),!0))))}async setUserPrivileges(e,t){if(!r.H.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:l}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",l)}catch(n){(0,r.G)(n)}}async _fetchUserPrivileges(e,t){let n=this.portalItem;if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t);const s=e===n.id;if(s&&n.portal.user)return(0,i.E)(n);let o,a;if(s)o=n.portal.url;else try{o=await(0,r.J)(this.url,t)}catch(p){(0,r.G)(p)}if(!o||!(0,r.W)(o,n.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;a=await(r.K?.getCredential(`${o}/sharing`,{prompt:!1,signal:e}))}catch(p){(0,r.G)(p)}const u=!0,c=!1,f=!1;if(!a)return{features:{edit:u,fullEdit:c},content:{updateItem:f}};try{if(s?await n.reload():(n=new l["default"]({id:e,portal:{url:o}}),await n.load(t)),n.portal.user)return(0,i.E)(n)}catch(p){(0,r.G)(p)}return{features:{edit:u,fullEdit:c},content:{updateItem:f}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(n){(0,r.G)(n)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?r.K?.findCredential(this.url):null;if(!t)return!0;const n=o.credential===t?o.user:await this._fetchEditingUser(e);return o.credential=t,o.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const n=r.K?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const l=`${n.owningSystemUrl}/sharing/rest`,i=r.b.getDefault();if(i&&i.loaded&&(0,r.L)(i.restUrl)===(0,r.L)(l))return i.user;const s=`${l}/community/self`,o=null!=e?e.signal:null,a=await(0,r._)((0,r.U)(s,{authMode:"no-prompt",query:{f:"json"},signal:o}));return a.ok?r.M.fromJSON(a.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const n=t?.portal,l=this.portalItem?.id&&(this.portalItem.portal||r.b.getDefault());return n&&l&&!(0,r.N)(l.restUrl,n.restUrl)?(t.messages&&t.messages.push(new r.s("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r.k)([(0,r.o)({type:l["default"]})],t.prototype,"portalItem",null),(0,r.k)([(0,r.u)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r.k)([(0,r.q)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r.k)([(0,r.o)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.PortalLayer")],t),t},o={credential:null,user:null}},9949:function(e,t,n){n.d(t,{p:function(){return o},z:function(){return f}});var r,l=n(98503),i=n(81728);let s=r=class extends l.v{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new r({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}};(0,l.k)([(0,l.o)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],s.prototype,"cols",void 0),(0,l.k)([(0,l.o)({type:l.bp,json:{write:!0}})],s.prototype,"level",void 0),(0,l.k)([(0,l.o)({type:String,json:{write:!0}})],s.prototype,"levelValue",void 0),(0,l.k)([(0,l.o)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],s.prototype,"origin",void 0),(0,l.k)([(0,l.o)({type:Number,json:{write:!0}})],s.prototype,"resolution",void 0),(0,l.k)([(0,l.o)({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],s.prototype,"rows",void 0),(0,l.k)([(0,l.o)({type:Number,json:{write:!0}})],s.prototype,"scale",void 0),s=r=(0,l.k)([(0,l.A)("esri.layers.support.LOD")],s);const o=s;var a;const u=new l.ax({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});let c=a=class extends l.v{static create(e={}){const{resolutionFactor:t=1,scales:n,size:r=256,spatialReference:i=l.B.WebMercator,numLODs:s=24}=e;if(!(0,l.cg)(i)){const e=[];if(n)for(let t=0;t<n.length;t++){const r=n[t];e.push(new o({level:t,scale:r,resolution:r}))}else{let t=5e-4;for(let n=s-1;n>=0;n--)e.unshift(new o({level:n,scale:t,resolution:t})),t*=2}return new a({dpi:96,lods:e,origin:new l.bv(0,0,i),size:[r,r],spatialReference:i})}const u=(0,l.bF)(i),c=e.origin?new l.bv({x:e.origin.x,y:e.origin.y,spatialReference:i}):new l.bv(u?{x:u.origin[0],y:u.origin[1],spatialReference:i}:{x:0,y:0,spatialReference:i}),f=96,p=1/(39.37*(0,l.bq)(i)*f),h=[];if(n)for(let l=0;l<n.length;l++){const e=n[l],t=e*p;h.push(new o({level:l,scale:e,resolution:t}))}else{let e=(0,l.cK)(i)?512/r*591657527.5917094:256/r*591657527.591555;const n=Math.ceil(s/t);h.push(new o({level:0,scale:e,resolution:e*p}));for(let r=1;r<n;r++){const n=e/2**t,l=n*p;h.push(new o({level:r,scale:n,resolution:l})),e=n}}return new a({dpi:f,lods:h,origin:c,size:[r,r],spatialReference:i})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:t}=this;if(e&&t){const n=(0,l.bF)(e);return e.isWrappable&&!!n&&Math.abs(n.origin[0]-t.x)<=n.dx}return!1}readOrigin(e,t){return l.bv.fromJSON({spatialReference:t.spatialReference,...e})}set lods(e){let t=0,n=0;const r=[],l=this._levelToLOD={};e&&(t=-1/0,n=1/0,e.forEach((e=>{r.push(e.scale),t=e.scale>t?e.scale:t,n=e.scale<n?e.scale:n,l[e.level]=e}))),this._set("scales",r),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,t){return[t.cols,t.rows]}writeSize(e,t){t.cols=e[0],t.rows=e[1]}zoomToScale(e){const t=this.scales;if(e<=0)return t[0];if(e>=t.length-1)return t[t.length-1];const n=Math.floor(e),r=n+1;return t[n]/(t[n]/t[r])**(e-n)}scaleToZoom(e){const t=this.scales,n=t.length-1;let r=0;for(;r<n;r++){const n=t[r],l=t[r+1];if(n<=e)return r;if(l===e)return r+1;if(n>e&&l<e)return r+Math.log(n/e)/Math.log(n/l)}return r}tileAt(e,t,n,r){const s=this.lodAt(e);if(!s)return null;let o,a;if("number"==typeof t)o=t,a=n;else if((0,l.bh)(t.spatialReference,this.spatialReference))o=t.x,a=t.y,r=n;else{const e=(0,l.co)(t,this.spatialReference);if(null==e)return null;o=e.x,a=e.y,r=n}const u=s.resolution*this.size[0],c=s.resolution*this.size[1];return r||(r=new i.t(null,0,0,0,(0,l.bS)())),r.level=e,r.row=Math.floor((this.origin.y-a)/c+.001),r.col=Math.floor((o-this.origin.x)/u+.001),this.updateTileInfo(r),r}updateTileInfo(e,t=a.ExtrapolateOptions.NONE){let n=this.lodAt(e.level);if(!n&&t===a.ExtrapolateOptions.POWER_OF_TWO){const t=this.lods[this.lods.length-1];t.level<e.level&&(n=t)}if(!n)return;const r=e.level-n.level,i=n.resolution*this.size[0]/2**r,s=n.resolution*this.size[1]/2**r;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=(0,l.bS)()),e.extent[0]=this.origin.x+e.col*i,e.extent[1]=this.origin.y-(e.row+1)*s,e.extent[2]=e.extent[0]+i,e.extent[3]=e.extent[1]+s}upsampleTile(e){const t=this._upsampleLevels[e.level];return!(!t||-1===t.parentLevel)&&(e.level=t.parentLevel,e.row=Math.floor(e.row/t.factor+.001),e.col=Math.floor(e.col/t.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,t){const n=this.lodAt(t.level);if(null==n)return null;const{resolution:r}=n,l=r*this.size[0],i=r*this.size[1];return e[0]=this.origin.x+t.col*l,e[1]=this.origin.y-(t.row+1)*i,e[2]=e[0]+l,e[3]=e[1]+i,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return a.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||256===this.size[0]&&512===e)return null;const t=(512===this.size[0]&&256===e?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&0===t)return this;const n=[],r=this.lods.length-t;for(let l=0;l<r;l++){const e=l+t,{scale:r,resolution:i}=e>=0?this.lods[e]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};n.push(new o({level:l,scale:r,resolution:i}))}return new a({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:n})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let t=null;for(let n=0;n<e.length;n++){const r=e[n];this._upsampleLevels[r.level]={parentLevel:t?t.level:-1,factor:t?t.resolution/r.resolution:0},t=r}}};(0,l.k)([(0,l.o)({type:Number,json:{write:!0}})],c.prototype,"compressionQuality",void 0),(0,l.k)([(0,l.o)({type:Number,json:{write:!0}})],c.prototype,"dpi",void 0),(0,l.k)([(0,l.o)({type:String,json:{read:u.read,write:u.write,origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"format",void 0),(0,l.k)([(0,l.o)({readOnly:!0})],c.prototype,"isWrappable",null),(0,l.k)([(0,l.o)({type:l.bv,json:{write:!0}})],c.prototype,"origin",void 0),(0,l.k)([(0,l.u)("origin")],c.prototype,"readOrigin",null),(0,l.k)([(0,l.o)({type:[o],value:null,json:{write:!0}})],c.prototype,"lods",null),(0,l.k)([(0,l.o)({readOnly:!0})],c.prototype,"scales",void 0),(0,l.k)([(0,l.o)({cast:e=>Array.isArray(e)?e:"number"==typeof e?[e,e]:[256,256]})],c.prototype,"size",void 0),(0,l.k)([(0,l.u)("size",["rows","cols"])],c.prototype,"readSize",null),(0,l.k)([(0,l.q)("size",{cols:{type:l.bp},rows:{type:l.bp}})],c.prototype,"writeSize",null),(0,l.k)([(0,l.o)({type:l.B,json:{write:!0}})],c.prototype,"spatialReference",void 0),c=a=(0,l.k)([(0,l.A)("esri.layers.support.TileInfo")],c),function(e){var t;(t=e.ExtrapolateOptions||(e.ExtrapolateOptions={}))[t.NONE=0]="NONE",t[t.POWER_OF_TWO=1]="POWER_OF_TWO"}(c||(c={}));const f=c},81728:function(e,t,n){n.d(t,{t:function(){return r}});class r{constructor(e,t,n,r,l=void 0){this.id=e,this.level=t,this.row=n,this.col=r,this.extent=l}}},27345:function(e,t,n){n.r(t),n.d(t,{I:function(){return R},W:function(){return g},p:function(){return d}});var r,l=n(98503),i=n(88012),s=n(28252),o=n(50027),a=n(20784),u=n(50293),c=n(63125),f=n(83424),p=n(98153),h=n(9949);let d=r=class extends l.v{constructor(e){super(e)}clone(){return new r({customLayerParameters:(0,l.f)(this.customLayerParameters),customParameters:(0,l.f)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};var E;(0,l.k)([(0,l.o)({json:{type:Object,write:!0}})],d.prototype,"customLayerParameters",void 0),(0,l.k)([(0,l.o)({json:{type:Object,write:!0}})],d.prototype,"customParameters",void 0),(0,l.k)([(0,l.o)({type:String,json:{write:!0}})],d.prototype,"layerIdentifier",void 0),(0,l.k)([(0,l.o)({type:String,json:{write:!0}})],d.prototype,"tileMatrixSet",void 0),(0,l.k)([(0,l.o)({type:String,json:{write:!0}})],d.prototype,"url",void 0),d=r=(0,l.k)([(0,l.A)("esri.layers.support.WMTSLayerInfo")],d);let y=E=class extends((0,o.l)((0,c.f)((0,f.t)((0,a.b)((0,u.j)((0,i.S)(s.f))))))){constructor(...e){super(...e),this.copyright="",this.fullExtent=new l.au(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,l.B.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=l.B.WebMercator,this.subDomains=null,this.tileInfo=new h.z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new l.bv({x:-20037508.342787,y:20037508.342787,spatialReference:l.B.WebMercator}),spatialReference:l.B.WebMercator,lods:[new h.p({level:0,scale:591657527.591555,resolution:156543.033928}),new h.p({level:1,scale:295828763.795777,resolution:78271.5169639999}),new h.p({level:2,scale:147914381.897889,resolution:39135.7584820001}),new h.p({level:3,scale:73957190.948944,resolution:19567.8792409999}),new h.p({level:4,scale:36978595.474472,resolution:9783.93962049996}),new h.p({level:5,scale:18489297.737236,resolution:4891.96981024998}),new h.p({level:6,scale:9244648.868618,resolution:2445.98490512499}),new h.p({level:7,scale:4622324.434309,resolution:1222.99245256249}),new h.p({level:8,scale:2311162.217155,resolution:611.49622628138}),new h.p({level:9,scale:1155581.108577,resolution:305.748113140558}),new h.p({level:10,scale:577790.554289,resolution:152.874056570411}),new h.p({level:11,scale:288895.277144,resolution:76.4370282850732}),new h.p({level:12,scale:144447.638572,resolution:38.2185141425366}),new h.p({level:13,scale:72223.819286,resolution:19.1092570712683}),new h.p({level:14,scale:36111.909643,resolution:9.55462853563415}),new h.p({level:15,scale:18055.954822,resolution:4.77731426794937}),new h.p({level:16,scale:9027.977411,resolution:2.38865713397468}),new h.p({level:17,scale:4513.988705,resolution:1.19432856685505}),new h.p({level:18,scale:2256.994353,resolution:.597164283559817}),new h.p({level:19,scale:1128.497176,resolution:.298582141647617}),new h.p({level:20,scale:564.248588,resolution:.14929107082380833}),new h.p({level:21,scale:282.124294,resolution:.07464553541190416}),new h.p({level:22,scale:141.062147,resolution:.03732276770595208}),new h.p({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(e,t){return"string"==typeof e?{urlTemplate:e,...t}:e}load(e){const t=this.loadFromPortal({supportedTypes:["WMTS"]},e).then((()=>{let e="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const t=new l.es(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&t.authority?.includes("{subDomain}")&&(e="is missing 'subDomains' property")}else e="spatialReference must match tileInfo.spatialReference";else e="is missing the required 'urlTemplate' property value";if(e)throw new l.s("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${e}`)}));return this.addResolvingPromise(t),Promise.resolve(this)}get levelValues(){const e=[];if(!this.tileInfo)return null;for(const t of this.tileInfo.lods)e[t.level]=t.levelValue||t.level;return e}readSpatialReference(e,t){return e||l.B.fromJSON(t.fullExtent?.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const e=[],{urlTemplate:t,subDomains:n}=this,r=new l.es(t),i=r.scheme?r.scheme+"://":"//",s=i+r.authority+"/",o=r.authority;if(o?.includes("{subDomain}")){if(n&&n.length>0&&o.split(".").length>1)for(const l of n)e.push(i+o.replaceAll(/\{subDomain\}/gi,l)+"/")}else e.push(s);return e.map(l.et)}get urlPath(){if(!this.urlTemplate)return null;const e=this.urlTemplate,t=new l.es(e),n=(t.scheme?t.scheme+"://":"//")+t.authority+"/";return e.slice(n.length)}readUrlTemplate(e,t){return e||t.templateUrl}writeUrlTemplate(e,t){(0,l.eu)(e)&&(e="https:"+e),e&&(e=e.replaceAll(/\{z\}/gi,"{level}").replaceAll(/\{x\}/gi,"{col}").replaceAll(/\{y\}/gi,"{row}"),e=(0,l.L)(e)),t.templateUrl=e}fetchTile(e,t,n,r={}){const{signal:i}=r,s=this.getTileUrl(e,t,n),o={responseType:"image",signal:i,query:{...this.refreshParameters}};return(0,l.U)(s,o).then((e=>e.data))}async fetchImageBitmapTile(e,t,n,r={}){const{signal:i}=r;if(this.fetchTile!==E.prototype.fetchTile){const l=await this.fetchTile(e,t,n,r);return(0,p.o)(l,e,t,n,i)}const s=this.getTileUrl(e,t,n),o={responseType:"blob",signal:i,query:{...this.refreshParameters}},{data:a}=await(0,l.U)(s,o);return(0,p.o)(a,e,t,n,i)}getTileUrl(e,t,n){const{levelValues:r,tileServers:i,urlPath:s}=this;if(!r||!i||!s)return"";const o=r[e];return i[t%i.length]+(0,l.r)(s,{level:o,z:o,col:n,x:n,row:t,y:t})}};(0,l.k)([(0,l.o)({type:String,value:"",json:{write:!0}})],y.prototype,"copyright",void 0),(0,l.k)([(0,l.o)({type:l.au,json:{write:!0},nonNullable:!0})],y.prototype,"fullExtent",void 0),(0,l.k)([(0,l.o)({readOnly:!0,json:{read:!1,write:!1}})],y.prototype,"legendEnabled",void 0),(0,l.k)([(0,l.o)({type:["show","hide"]})],y.prototype,"listMode",void 0),(0,l.k)([(0,l.o)({json:{read:!0,write:!0}})],y.prototype,"blendMode",void 0),(0,l.k)([(0,l.o)()],y.prototype,"levelValues",null),(0,l.k)([(0,l.o)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],y.prototype,"isReference",void 0),(0,l.k)([(0,l.o)({type:["WebTiledLayer"],value:"WebTiledLayer"})],y.prototype,"operationalLayerType",void 0),(0,l.k)([(0,l.o)({readOnly:!0,json:{read:!1,write:!1}})],y.prototype,"popupEnabled",void 0),(0,l.k)([(0,l.o)({type:l.B})],y.prototype,"spatialReference",void 0),(0,l.k)([(0,l.u)("spatialReference",["spatialReference","fullExtent.spatialReference"])],y.prototype,"readSpatialReference",null),(0,l.k)([(0,l.o)({type:[String],json:{write:!0}})],y.prototype,"subDomains",void 0),(0,l.k)([(0,l.o)({type:h.z,json:{write:!0}})],y.prototype,"tileInfo",void 0),(0,l.k)([(0,l.o)({readOnly:!0})],y.prototype,"tileServers",null),(0,l.k)([(0,l.o)({json:{read:!1}})],y.prototype,"type",void 0),(0,l.k)([(0,l.o)()],y.prototype,"urlPath",null),(0,l.k)([(0,l.o)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],y.prototype,"urlTemplate",void 0),(0,l.k)([(0,l.u)("urlTemplate",["urlTemplate","templateUrl"])],y.prototype,"readUrlTemplate",null),(0,l.k)([(0,l.q)("urlTemplate",{templateUrl:{type:String}})],y.prototype,"writeUrlTemplate",null),(0,l.k)([(0,l.o)({type:d,json:{write:!0}})],y.prototype,"wmtsInfo",void 0),y=E=(0,l.k)([(0,l.A)("esri.layers.WebTileLayer")],y);const R=y,g=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}))},83297:function(e,t,n){n.d(t,{E:function(){return h},a:function(){return u},c:function(){return a},f:function(){return p},i:function(){return s},l:function(){return f},s:function(){return o},u:function(){return c}});var r=n(49555),l=n(98503);async function i(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,l.a0)(e);const n=l.B.WGS84;return await(0,r.N)(t,n),(0,r.K)(e,n)}function s(e,t){if(!o(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function o(e,t){return!!e.typeKeywords?.includes(t)}function a(e){return o(e,p.HOSTED_SERVICE)}function u(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function c(e,t,n){n?s(e,t):u(e,t)}async function f(e){const t=e.clone().normalize();let n;if(t.length>1)for(const r of t)n?r.width>n.width&&(n=r):n=r;else n=t[0];return i(n)}const p={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function h(e){const{portal:t,isOrgItem:n,itemControl:r}=e,l=t.user?.privileges;let i=!l||l.includes("features:user:edit"),s=!!n&&!!l?.includes("features:user:fullEdit");const o="update"===r||"admin"===r;return o?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:o}}}},85502:function(e,t,n){n.r(t),n.d(t,{E:function(){return V},F:function(){return h},G:function(){return p},L:function(){return f},N:function(){return c},d:function(){return u},e:function(){return q},i:function(){return l},l:function(){return D},n:function(){return te},p:function(){return ne},t:function(){return i}});var r=n(98503);const l=Math.PI/180,i=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,s=r.a3.radius,o=r.a3.eccentricitySquared,a={a1:s*o,a2:s*o*s*o,a3:s*o*o/2,a4:s*o*s*o*2.5,a5:s*o+s*o*o/2,a6:1-o},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a3.radius,f:r.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.fs.radius,f:r.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.ft.radius,f:r.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var c;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(c||(c={}));const f={[c.WGS84]:{[c.CGCS2000]:d,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:_,[c.PLATE_CARREE]:m,[c.WGS84]:d,[c.WGS84_ECEF]:x},[c.CGCS2000]:{[c.CGCS2000]:d,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:_,[c.PLATE_CARREE]:m,[c.WGS84]:d,[c.WGS84_ECEF]:x},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:d,[c.GCSMOON2000]:null,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:L,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:d,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:I,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:E,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:E,[c.SPHERICAL_ECEF]:y,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:d,[c.PLATE_CARREE]:C,[c.WGS84]:E,[c.WGS84_ECEF]:R},[c.WGS84_ECEF]:{[c.CGCS2000]:H,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:H,[c.SPHERICAL_ECEF]:U,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:z,[c.PLATE_CARREE]:P,[c.WGS84]:H,[c.WGS84_ECEF]:d},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:k,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:k,[c.SPHERICAL_ECEF]:d,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:W,[c.PLATE_CARREE]:w,[c.WGS84]:k,[c.WGS84_ECEF]:F},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:b,[c.GCSMOON2000]:null,[c.LON_LAT]:b,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:d,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:G,[c.LON_LAT]:G,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:d,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:d,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:d,[c.GCSMARS2000]:d,[c.GCSMOON2000]:d,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:L,[c.SPHERICAL_MOON_PCPF]:I,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:_,[c.PLATE_CARREE]:m,[c.WGS84]:d,[c.WGS84_ECEF]:x},[c.PLATE_CARREE]:{[c.CGCS2000]:S,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:S,[c.SPHERICAL_ECEF]:v,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:A,[c.PLATE_CARREE]:d,[c.WGS84]:S,[c.WGS84_ECEF]:O}};function p(e,t,n=B()){return null==e||null==t?null:K(e,t,n).projector}function h(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,r.bq)(e,1)),(0,r.fv)(e)?t.spatialReferenceId=c.SPHERICAL_ECEF:(0,r.cb)(e)?t.spatialReferenceId=c.WGS84:(0,r.cL)(e)?t.spatialReferenceId=c.WEB_MERCATOR:(0,r.fw)(e)?t.spatialReferenceId=c.PLATE_CARREE:e.wkt===r.c4.wkt?t.spatialReferenceId=c.WGS84_ECEF:e.wkid===r.fx.CGCS2000?t.spatialReferenceId=c.CGCS2000:e.wkt===r.c2.wkt?t.spatialReferenceId=c.SPHERICAL_MARS_PCPF:e.wkt===r.c3.wkt?t.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,r.eD)(e)?t.spatialReferenceId=c.GCSMARS2000:(0,r.eE)(e)?t.spatialReferenceId=c.GCSMOON2000:t.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function d(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function E(e,t,n,r){n[r]=Z*(e[t]/Q),n[r+1]=Z*(Y-2*Math.atan(Math.exp(-e[t+1]/Q))),n[r+2]=e[t+2]}function y(e,t,n,r){const l=e[t]/Q,i=Y-2*Math.atan(Math.exp(-e[t+1]/Q)),s=Q+e[t+2],o=Math.cos(i)*s;n[r]=Math.cos(l)*o,n[r+1]=Math.sin(l)*o,n[r+2]=Math.sin(i)*s}function R(e,t,n,r){E(e,t,n,r),x(n,r,n,r)}function g(e,t,n,l,i){const s=.4999999*J,o=(0,r.aP)($*e[t+1],-s,s),a=Math.sin(o);n[l++]=$*e[t]*i.radius,n[l++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[l]=e[t+2]}function _(e,t,n,l){g(e,t,n,l,r.a3)}function m(e,t,n,r){n[r]=e[t]*X,n[r+1]=e[t+1]*X,n[r+2]=e[t+2]}function S(e,t,n,r){n[r]=e[t]*ee,n[r+1]=e[t+1]*ee,n[r+2]=e[t+2]}function C(e,t,n,r){E(e,t,n,r),m(n,r,n,r)}function P(e,t,n,r){H(e,t,n,r),m(n,r,n,r)}function w(e,t,n,r){k(e,t,n,r),m(n,r,n,r)}function v(e,t,n,r){S(e,t,n,r),N(n,r,n,r)}function A(e,t,n,r){S(e,t,n,r),_(n,r,n,r)}function O(e,t,n,r){S(e,t,n,r),x(n,r,n,r)}function M(e,t,n,r,l){const i=l+e[t+2],s=$*e[t+1],o=$*e[t],a=Math.cos(s)*i;n[r]=Math.cos(o)*a,n[r+1]=Math.sin(o)*a,n[r+2]=Math.sin(s)*i}function I(e,t,n,l){M(e,t,n,l,r.fs.radius)}function L(e,t,n,l){M(e,t,n,l,r.ft.radius)}function N(e,t,n,l){M(e,t,n,l,r.a3.radius)}function T(e,t,n,l,i){const s=e[t],o=e[t+1],a=e[t+2],u=Math.sqrt(s*s+o*o+a*a),c=(0,r.fu)(a/(0===u?1:u)),f=Math.atan2(o,s);n[l++]=Z*f,n[l++]=Z*c,n[l]=u-i}function G(e,t,n,l){T(e,t,n,l,r.fs.radius)}function b(e,t,n,l){T(e,t,n,l,r.ft.radius)}function k(e,t,n,l){T(e,t,n,l,r.a3.radius)}function W(e,t,n,r){k(e,t,n,r),_(n,r,n,r)}function F(e,t,n,r){k(e,t,n,r),x(n,r,n,r)}function j(e,t,n,r,l){const i=$*e[t],s=$*e[t+1],o=e[t+2],a=Math.sin(s),u=Math.cos(s),c=l.radius/Math.sqrt(1-l.eccentricitySquared*a*a);n[r++]=(c+o)*u*Math.cos(i),n[r++]=(c+o)*u*Math.sin(i),n[r++]=(c*(1-l.eccentricitySquared)+o)*a}function x(e,t,n,l){j(e,t,n,l,r.a3)}function H(e,t,n,l){const i=a,s=e[t],o=e[t+1],u=e[t+2];let c,f,p,h,d,E,y,R,g,_,m,S,C,P,w,v,A,O,M,I,L;c=Math.abs(u),f=s*s+o*o,p=Math.sqrt(f),h=f+u*u,d=Math.sqrt(h),I=Math.atan2(o,s),E=u*u/h,y=f/h,P=i.a2/d,w=i.a3-i.a4/d,y>.3?(R=c/d*(1+y*(i.a1+P+E*w)/d),M=Math.asin(R),_=R*R,g=Math.sqrt(1-_)):(g=p/d*(1-E*(i.a5-P-y*w)/d),M=Math.acos(g),_=1-g*g,R=Math.sqrt(_)),m=1-r.a3.eccentricitySquared*_,S=r.a3.radius/Math.sqrt(m),C=i.a6*S,P=p-S*g,w=c-C*R,A=g*P+R*w,v=g*w-R*P,O=v/(C/m+A),M+=O,L=A+v*O/2,u<0&&(M=-M),n[l++]=Z*I,n[l++]=Z*M,n[l]=L}function U(e,t,n,r){H(e,t,n,r),N(n,r,n,r)}function z(e,t,n,r){H(e,t,n,r),_(n,r,n,r)}function K(e,t,n){if(null==e||null==t||n.source.spatialReference===e&&n.dest.spatialReference===t)return n;const l=h(e,n.source),i=h(t,n.dest);return l===c.UNKNOWN&&i===c.UNKNOWN?(0,r.bh)(e,t)?n.projector=d:n.projector=null:n.projector=f[l][i],n}function B(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:d}}const D={spatialReference:null,spatialReferenceId:c.UNKNOWN},q={spatialReference:null,spatialReferenceId:c.UNKNOWN},V=B(),$=(0,r.eI)(1),Z=(0,r.dg)(1),J=Math.PI,Y=.5*J,Q=r.a3.radius,X=Q*J/180,ee=180/(Q*J);function te(e,t,n,r,l,i,s=Math.floor(e.length/3)){const o=p(t,l,V);if(null==o)return!1;if(o===d){if(e===r&&n===i)return!0;const t=n+3*s;for(let l=n,s=i;l<t;l++,s++)r[s]=e[l];return!0}const a=n+3*s;for(let u=n,c=i;u<a;u+=3,c+=3)o(e,u,r,c);return!0}const ne=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:te},Symbol.toStringTag,{value:"Module"}))},49555:function(e,t,n){n.r(t),n.d(t,{B:function(){return P},H:function(){return k},J:function(){return F},K:function(){return A},L:function(){return j},N:function(){return x},O:function(){return O},Q:function(){return H},V:function(){return M},W:function(){return v},X:function(){return I},Y:function(){return L},_:function(){return S},a:function(){return V},o:function(){return c},p:function(){return X},s:function(){return u}});var r=n(98503),l=n(85502);function i(e,t,n,r,i,o){return s[0]=e,s[1]=t,s[2]=n,(0,l.n)(s,r,0,i,o,0)}const s=(0,r.aA)();let o=0;class a{static fromGE(e){const t=new a;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=o++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=o++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=o++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=o++}getInverse(){const e=new a;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let u=class e{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(t){const n=new e;let r="";for(const e of t.steps){const t=a.fromGE(e);n.steps.push(t),r+=t.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof a?this.steps.push(t):this.steps.push(new a({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const t=new e;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const n=this.steps[e];t.steps.push(n.getInverse())}return t}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(t,n,r){this._cachedProjection[e.cacheKey(t,n)]=r}getCachedGeTransformation(t,n){let r="";for(const e of this.steps)r+=e.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const l=this._cachedProjection[e.cacheKey(t,n)];return void 0===l?null:l}};function c(e,t,n){if(null==t||null==n||n.vcsWkid||(0,r.bh)(t,n)||(0,r.gK)(t)||(0,r.gK)(n))return null;const l=(0,r.bg)(t)/(0,r.bg)(n);if(1===l)return null;switch(e){case"point":case"esriGeometryPoint":return e=>f(e,l);case"polyline":case"esriGeometryPolyline":return e=>h(e,l);case"polygon":case"esriGeometryPolygon":return e=>p(e,l);case"multipoint":case"esriGeometryMultipoint":return e=>d(e,l);case"extent":case"esriGeometryEnvelope":return e=>E(e,l);default:return null}}function f(e,t){null!=e?.z&&(e.z*=t)}function p(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}function h(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}function d(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function E(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}let y=null,R=null,g=null,_={};const m=new r.aQ;function S(){return!!y&&(0,r.gN)()}function C(){return!!S()||((0,r.aR)(m),v(),!1)}function P(e,t){return!e||!t||F(e,t)||C()}function w(e,t){return!F(e,t)&&!S()}function v(e){return null==g&&(g=Promise.all([(0,r.gL)(),Promise.all([n.e(916),n.e(2020)]).then(n.bind(n,90916)).then((e=>e.g)),n.e(6582).then(n.bind(n,6582))])),g.then((([,t,{hydratedAdapter:n}])=>{(0,r.D)(e),R=n,y=t.default,y._enableProjection(r.gM),m.notify()}))}function A(e,t,n=null,r=null){return Array.isArray(e)?0===e.length?[]:O(R,e,e[0].spatialReference,t,n,r):O(R,[e],e.spatialReference,t,n,r)[0]}function O(e,t,n,l,i=null,s=null){if(null==n||null==l)return t;if(F(n,l,i))return t.map((e=>H(e,n,l)));if(null==i&&(0,r.fv)(n))return t.map((e=>H(e,n,r.B.WGS84))).map((e=>k(e,l)));if(null==i&&(0,r.fv)(l))return t.map((e=>k(e,r.B.WGS84))).map((e=>H(e,r.B.WGS84,l)));if(null==i){const e=u.cacheKey(n,l);void 0!==_[e]?i=_[e]:(null==(i=L(n,l,void 0))&&(i=new u),_[e]=i)}if(null==y||null==e)throw new T;return null!=s?y._project(e,t,n,l,i,s):y._project(e,t,n,l,i)}function M(e,t){const n=I([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function I(e,t){if(!S())for(const n of e)if(null!=n&&!(0,r.bh)(n.spatialReference,t)&&(0,r.cg)(n.spatialReference)&&(0,r.cg)(t)&&!F(n.spatialReference,t))return(0,r.aR)(m),{pending:v(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,r.bh)(e.spatialReference,t)?e:(0,r.cg)(e.spatialReference)&&(0,r.cg)(t)?k(e,t):null))}}function L(e,t,n=null){if(null==e||null==t)return null;if(null==y||null==R)throw new T;const r=y._getTransformation(R,e,t,n,n?.spatialReference);return null!==r?u.fromGE(r):null}function N(e,t,n=null){if(null==y||null==R)throw new T;const r=y._getTransformationBySuitability(R,e,t,n,n?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(u.fromGE(t));return e}return[]}class T extends r.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function G(){y=null,R=null,g=null,_={}}const b={get loadPromise(){return g}};function k(e,t){try{const n=A(e,t);return null==n?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),c(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof T))throw n;return null}}async function W(e,t,n){const r=e.spatialReference;return null!=r&&null!=t&&await x(r,t,null,n),k(e,t)}function F(e,t,n){return!n&&(!!(0,r.bh)(e,t)||(0,r.cg)(e)&&(0,r.cg)(t)&&!!(0,l.G)(e,t,l.E))}function j(e,t){if((0,r.bh)(e,t))return!0;if(!(0,r.cg)(e)||!(0,r.cg)(t))return!1;const n=(0,r.cb)(e)||(0,r.cL)(e)||(0,r.eC)(e),l=(0,r.cb)(t)||(0,r.cL)(t)||(0,r.eC)(t);return n&&l}async function x(e,t,n,l){if(S())return(0,r.O)(l);if(Array.isArray(e)){for(const{source:r,dest:i,geographicTransformation:s}of e)if(r&&i&&!F(r,i,s))return v(l)}else if(e&&t&&!F(e,t,n))return v(l);return(0,r.O)(l)}function H(e,t,n){return e?"x"in e?z(e,t,new r.bv,n,0):"xmin"in e?J(e,t,new r.au,n,0):"rings"in e?$(e,t,new r.bC,n,0):"paths"in e?q(e,t,new r.aT,n,0):"points"in e?B(e,t,new r.bD,n,0):null:null}function U(e,t,n=t.spatialReference,r=0){return null!=n&&null!=e.spatialReference&&null!=z(e,e.spatialReference,t,n,r)}function z(e,t,n,i,s){Q[0]=e.x,Q[1]=e.y;const o=e.z;return Q[2]=void 0!==o?o:s,(0,l.n)(Q,t,0,Q,i,0)?(n.x=Q[0],n.y=Q[1],n.spatialReference=i,void 0!==o||(0,r.gK)(i)?(n.z=Q[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function K(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=B(e,e.spatialReference,t,n,r)}function B(e,t,n,i,s){const{points:o,hasZ:a,hasM:u}=e,c=[],f=o.length,p=[];for(const r of o)p.push(r[0],r[1],a?r[2]:s);if(!(0,l.n)(p,t,0,p,i,0,f))return null;const h=a||(0,r.gK)(i);for(let r=0;r<f;++r){const e=3*r,t=p[e],n=p[e+1];h&&u?c.push([t,n,p[e+2],o[r][3]]):h?c.push([t,n,p[e+2]]):u?c.push([t,n,o[r][2]]):c.push([t,n])}return n.points=c,n.spatialReference=i,n.hasZ=a,n.hasM=u,n}function D(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=q(e,e.spatialReference,t,n,r)}function q(e,t,n,l,i){const{paths:s,hasZ:o,hasM:a}=e,u=[];if(!Y(s,o??!1,a??!1,t,u,l,i))return null;const c=o||(0,r.gK)(l);return n.paths=u,n.spatialReference=l,n.hasZ=c,n.hasM=a,n}function V(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=$(e,e.spatialReference,t,n,r)}function $(e,t,n,l,i){const{rings:s,hasZ:o,hasM:a}=e,u=[];if(!Y(s,o??!1,a??!1,t,u,l,i))return null;const c=o||(0,r.gK)(l);return n.rings=u,n.spatialReference=l,n.hasZ=c,n.hasM=a,n}function Z(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=J(e,e.spatialReference,t,n,r)}function J(e,t,n,l,s){const{xmin:o,ymin:a,xmax:u,ymax:c,hasZ:f,hasM:p}=e,h=f?e.zmin:s;if(!i(o,a,h,t,Q,l))return null;const d=f||(0,r.gK)(l);n.xmin=Q[0],n.ymin=Q[1],d&&(n.zmin=Q[2]);const E=f?e.zmax:s;return i(u,c,E,t,Q,l)?(n.xmax=Q[0],n.ymax=Q[1],d&&(n.zmax=Q[2]),p&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=l,n):null}function Y(e,t,n,i,s,o,a=0){const u=new Array;for(const r of e)for(const e of r)u.push(e[0],e[1],t?e[2]:a);if(!(0,l.n)(u,i,0,u,o,0))return!1;let c=0;s.length=0;const f=t||(0,r.gK)(o);for(const r of e){const e=new Array;for(const t of r)f&&n?e.push([u[c++],u[c++],u[c++],t[3]]):f?e.push([u[c++],u[c++],u[c++]]):n?(e.push([u[c++],u[c++],t[2]]),c++):(e.push([u[c++],u[c++]]),c++);s.push(e)}return!0}const Q=(0,r.aA)(),X=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:F,getTransformation:L,getTransformations:N,initializeProjection:x,isEqualBaseGCS:j,isLoaded:S,isLoadedOrLoad:C,isLoadedOrLoadFor:P,load:v,project:A,projectExtent:Z,projectMany:O,projectMultipoint:K,projectOrLoad:M,projectOrLoadMany:I,projectPoint:U,projectPolygon:V,projectPolyline:D,projectWithZConversion:W,projectWithoutEngine:H,requiresLoad:w,test:b,tryProjectWithZConversion:k,unload:G},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=7345.427eed9d.js.map