{"version":3,"file":"js/3608.9dc50236.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/resourceUtils-BSTr_g9p.js"],"sourcesContent":["import{Z as d,s as m,U as b,bz as R}from\"./main-I34c1W55.js\";async function x(e,t={},s){await e.load(s);const o=d(e.itemUrl,\"resources\"),{start:c=1,num:f=10,sortOrder:l=\"asc\",sortField:u=\"resource\"}=t,i={query:{start:c,num:f,sortOrder:l,sortField:u,token:e.apiKey},signal:s?.signal},a=await e.portal.request(o,i);return{total:a.total,nextStart:a.nextStart,resources:a.resources.map(({created:n,size:p,resource:r})=>({created:new Date(n),size:p,resource:e.resourceFromPath(r)}))}}async function q(e,t,s,o){const c=new Map;for(const{resource:l,content:u,compress:i,access:a}of t){if(!l.hasPath())throw new m(`portal-item-resource-${s}:invalid-path`,\"Resource does not have a valid path\");const[n,p]=h(l.path),r=`${n}/${i??\"\"}/${a??\"\"}`;c.has(r)||c.set(r,{prefix:n,compress:i,access:a,files:[]}),c.get(r).files.push({fileName:p,content:u})}await e.load(o);const f=d(e.userItemUrl,s===\"add\"?\"addResources\":\"updateResources\");for(const{prefix:l,compress:u,access:i,files:a}of c.values())for(let n=0;n<a.length;n+=25){const p=a.slice(n,n+25),r=new FormData;l&&l!==\".\"&&r.append(\"resourcesPrefix\",l),u&&r.append(\"compress\",\"true\"),i&&r.append(\"access\",i);let g=0;for(const{fileName:y,content:v}of p)r.append(\"file\"+ ++g,v,y);r.append(\"f\",\"json\"),await e.portal.request(f,{method:\"post\",body:r,signal:o?.signal})}}async function P(e,t,s){if(!t.hasPath())throw new m(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(s);const o=d(e.userItemUrl,\"removeResources\");await e.portal.request(o,{method:\"post\",query:{resource:t.path},signal:s?.signal}),t.portalItem=null}async function F(e,t){await e.load(t);const s=d(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function h(e){const t=e.lastIndexOf(\"/\");return t===-1?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function w(e){const[t,s]=I(e),[o,c]=h(t);return[o,c,s]}function I(e){const t=R(e);return t==null?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function U(e){return e.type===\"blob\"?e.blob:e.type===\"json\"?new Blob([e.jsonString],{type:\"application/json\"}):(await b(e.url,{responseType:\"blob\"})).data}function O(e,t){if(!e.hasPath())return null;const[s,,o]=w(e.path);return e.portalItem.resourceFromPath(d(s,t+o))}export{q as addOrUpdateResources,U as contentToBlob,x as fetchResources,O as getSiblingOfSameTypeI,F as removeAllResources,P as removeResource,w as splitPrefixFileNameAndExtension};\n"],"names":["async","x","e","t","s","load","o","itemUrl","start","c","num","f","sortOrder","l","sortField","u","i","query","token","apiKey","signal","a","portal","request","total","nextStart","resources","map","created","n","size","p","resource","r","Date","resourceFromPath","q","Map","content","compress","access","hasPath","h","path","has","set","prefix","files","get","push","fileName","userItemUrl","values","length","slice","FormData","append","g","y","v","method","body","P","portalItem","F","deleteAll","lastIndexOf","w","I","U","type","blob","Blob","jsonString","url","responseType","data","O"],"sourceRoot":""}