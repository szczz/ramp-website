{"version":3,"file":"js/3841.172ff3b8.js","mappings":"+LAA8C,SAASA,EAAEC,EAAEC,GAAG,MAAM,IAAIC,EAAEF,EAAEC,GAAGE,kBAAkB,GAAG,CAAC,SAASC,EAAEJ,EAAEC,EAAEI,GAAG,MAAMC,GAAE,OAAEN,EAAEO,SAAS,MAAM,IAAIL,EAAEF,EAAEC,GAAGO,SAAS,GAAGC,kBAAkB,GAAGC,oBAAoB,GAAGC,uBAAuBL,EAAE,CAACM,SAASN,EAAEO,KAAKC,YAAY,IAAI,KAAKC,UAAUV,EAAE,CAACW,MAAM,GAAGC,SAAS,GAAGC,OAAO,GAAGC,kBAAkB,IAAI,KAAK,CAAC,SAASjB,EAAEF,EAAEC,GAAG,MAAM,CAACmB,OAAOnB,EAAEoB,KAAI,OAAErB,EAAEO,SAASe,OAAOtB,EAAEsB,QAAQ,IAAEC,aAAaC,WAAWxB,EAAE,C,wBCA1b,SAASK,EAAED,GAAG,OAAOA,GAAG,gBAAgBA,GAAG,aAAaA,CAAC,C,sGCAK,SAASC,EAAEC,GAAGA,GAAGG,mBAAmBH,EAAEG,kBAAkBgB,SAAQ,EAAEC,OAAOzB,EAAE0B,SAAS3B,EAAE4B,UAAUxB,OAAM,OAAEH,IAAIG,GAAGH,EAAE4B,SAAS7B,KAAKI,GAAGH,EAAE6B,aAAa9B,EAAEI,EAAC,GAAG,C,8FCA9K2B,eAAe3B,EAAEE,GAAG,MAAM0B,EAAE,GAAG,IAAI,MAAMC,KAAK3B,EAAE4B,UAAU,GAAG,eAAeD,GAAwB,mBAAdA,EAAEE,WAAuB,CAAC,MAAMnC,EAAEiC,EAAEE,aAAanC,GAAGgC,EAAEI,KAAKpC,EAAE,OAAOqC,QAAQC,WAAWN,EAAE,CAAC,MAAMO,EAAE,IAAIC,IAAI,CAAC,oBAAoB,uBAAuB,qBAAqB,2BAA2B,oBAAoB,SAASC,EAAEnC,EAAE0B,EAAEC,GAAG,IAAIjC,GAAGM,EAAEE,UAAU,IAAIkC,QAAO,EAAEC,KAAK1C,KAAS,UAAJA,IAAa2C,KAAI,EAAEC,KAAK5C,EAAE6C,QAAQ/C,EAAEgD,QAAQC,KAAK,IAAI,IAAE/C,EAAEF,EAAEiD,KAAI,GAAG1C,EAAEI,sBAAsBV,EAAEA,EAAEiD,OAAO3C,EAAEI,oBAAoBkC,KAAI3C,GAAG,IAAI,IAAE,kBAAkB,iBAAiBA,2BAA0BgC,EAAE,CAAC,MAAMiB,kBAAkBjD,EAAEkD,8BAA8BpD,EAAE,GAAGqD,+BAA+BJ,GAAGf,EAAEhC,IAAID,EAAEA,EAAE0C,QAAO,EAAEG,KAAKxC,OAAOkC,EAAEc,IAAIhD,IAAIN,EAAEuD,SAASjD,OAAM2C,IAAIhD,EAAEA,EAAE0C,QAAOrC,GAAY,yCAATA,EAAEwC,OAA+C,CAAC,GAAG7C,EAAEuD,OAAO,EAAE,MAAM,IAAI,IAAEvB,EAAEwB,UAAU,2GAA2G,CAACC,OAAOzD,GAAG,C,iHCA91B,MAAMK,EAAE,iBAAiB2C,EAAE,OAAOP,EAAE,oBAAoBiB,EAAE,uBAAuB,SAASxD,EAAEI,GAAG,MAAM,CAACqD,QAAiB,WAATrD,EAAEqC,QAAmBrC,EAAEe,MAAMf,EAAEsD,aAAaC,aAAa,iEAAiE,CAAC,SAASzD,EAAEE,GAAG,MAAMN,EAAEM,EAAEwD,UAAU,OAAOzB,QAAQ0B,QAAQ/D,GAAGgE,OAAOC,KAAKjE,GAAGuD,OAAOvD,EAAE,KAAK,CAAC+B,eAAemC,EAAE5D,EAAEN,GAAG,MAAMmE,UAAUpE,EAAEqE,MAAMnC,EAAEoC,WAAWpE,GAAGK,EAAEN,EAAEqB,IAAItB,EAAEc,KAAKb,EAAEoE,QAAQnC,EAAEjC,EAAEsE,OAAO,KAAQ,MAAHrE,IAAUD,EAAEsE,aAAa,OAAErE,KAAI,OAAED,EAAE,IAAEuE,WAAU,OAAEvE,EAAE,IAAEwE,aAAa,CAACzC,eAAe0C,EAAEnE,EAAEN,GAAG,OAAO,OAAE,CAAC0E,MAAMpE,EAAEqE,SAAStE,EAAEuE,mBAAmB5B,EAAE6B,cAAc3E,EAAE4E,eAAe1E,EAAE2E,gBAAgBtC,GAAGzC,EAAE,CAAC+B,eAAeiD,EAAE1E,EAAEN,EAAED,GAAG,OAAO,OAAE,CAAC2E,MAAMpE,EAAEqE,SAAStE,EAAEwE,cAAc3E,EAAE4E,eAAe1E,EAAE2E,gBAAgBrB,EAAEuB,QAAQjF,EAAEkF,kBAAkBhB,GAAGnE,EAAE,C,oJCAplB,SAASoF,EAAE7E,EAAEP,EAAEE,GAAG,MAAMD,EAAEC,EAAEK,GAAG,IAAIN,EAAE2D,QAAQ,MAAM,IAAI,IAAE,GAAG5D,uBAAuBC,EAAE6D,aAAa,CAACa,MAAMpE,GAAG,CAACyB,eAAeU,EAAEnC,GAAG,MAAMoE,MAAM3E,EAAEgF,gBAAgB9E,EAAE4E,cAAc7E,GAAGM,QAAQP,EAAEqF,OAAOD,EAAEpF,EAAEE,EAAED,EAAE,CAAC,SAASqF,EAAE/E,EAAEP,GAAG,MAAM,iBAAiBO,EAAE8D,cAAc9D,EAAEgF,gBAAgBhF,EAAEiF,kBAAkBxF,GAAG,CAAC,SAASyF,EAAElF,GAAG,MAAMmF,KAAK1F,EAAEgF,gBAAgB9E,EAAEyE,MAAM1E,EAAE0F,aAAatF,GAAGE,EAAE,GAAGqF,EAAErF,GAAGF,EAAE,CAAC,MAAMC,EAAED,EAAEL,GAAG,IAAIM,EAAEsD,QAAQ,MAAM,IAAI,IAAE,GAAG1D,uBAAuBI,EAAEwD,aAAa,CAACa,MAAM1E,GAAG,CAAC,CAAC,SAAS2F,EAAErF,GAAG,MAAMmF,KAAK1F,EAAE4E,SAAS1E,EAAE2E,mBAAmB5E,EAAE+E,gBAAgB3E,EAAEsE,MAAMrE,GAAGC,EAAE0B,EAAE,CAAC/B,GAAG,GAAGD,GAAGgC,EAAEI,KAAKpC,IAAIgC,EAAEsB,SAASvD,EAAE4C,MAAM,CAAC,MAAMK,EAAEhB,EAAEY,KAAIX,GAAG,IAAIA,OAAM2D,KAAK,MAAM,MAAM,IAAI,IAAE,GAAGxF,2BAA2B,uCAAuC4C,KAAK,CAACyC,KAAK1F,EAAE2E,MAAMrE,GAAG,CAAC,CAAC,SAASwF,EAAEvF,GAAG,MAAMoE,MAAM3E,EAAEgF,gBAAgB9E,GAAGK,GAAGkB,WAAWxB,GAAGD,EAAE,IAAIC,EAAE,MAAM,IAAI,IAAE,GAAGC,wBAAwBoF,EAAEtF,EAAE,+CAA+C,IAAIC,EAAE8F,OAAO,MAAM,IAAI,IAAE,GAAG7F,2BAA2BoF,EAAEtF,EAAE,4EAA4EyF,EAAE,IAAIlF,EAAEmF,KAAKzF,GAAG,CAAC,SAAS+F,EAAEzF,GAAG,MAAM2E,QAAQlF,EAAE4E,SAAS1E,GAAGK,EAAE,IAAIN,EAAE,aAAEgG,KAAKjG,GAAG,OAAOC,EAAEsF,KAAKtF,EAAEA,EAAEiG,QAAQjG,EAAEsF,GAAG,MAAMtF,EAAE2C,OAAO1C,EAAED,EAAEsB,SAAS,IAAEC,aAAaiE,EAAE,IAAIlF,EAAEmF,KAAKzF,IAAIA,CAAC,CAAC,SAASgF,EAAE1E,GAAG,OAAO,OAAEA,EAAE,cAAc,CAACyB,eAAemE,EAAE5F,EAAEP,EAAEE,GAAG,eAAeK,GAAwB,mBAAdA,EAAE6B,kBAA8B7B,EAAE6B,aAAa,MAAMnC,EAAEM,EAAE6F,MAAM,CAAC,EAAEpG,GAAG,aAAasC,QAAQ+D,IAAIrG,EAAEgB,WAAWI,mBAAmB,KAAI,OAAEpB,EAAE,CAACyD,UAAU,2BAA2BvD,GAAGD,CAAC,CAAC,SAAS0D,EAAEpD,IAAG,OAAEA,EAAE,IAAE+F,OAAO/F,EAAEgG,eAAehG,EAAEgG,aAAahG,EAAEgG,aAAa5D,QAAO,CAAC3C,EAAEE,EAAED,IAAIA,EAAEuG,QAAQxG,KAAKE,IAAG,CAAC8B,eAAeyE,EAAElG,EAAEP,EAAEE,GAAG,MAAMD,EAAEM,EAAEgB,aAAatB,EAAEyG,eAAezG,EAAE0G,KAAKC,QAAQ,CAAClB,KAAKnF,EAAEsG,KAAK7G,EAAE8G,OAAO5G,GAAG4G,QAAQ,CAAC9E,eAAe+E,EAAExG,EAAEP,GAAG,MAAM2E,MAAMzE,EAAE6E,eAAe9E,EAAE+G,kBAAkB3G,EAAE8E,kBAAkB7E,EAAE2G,cAAchF,EAAEmB,8BAA8BH,GAAG1C,QAAQmC,EAAEnC,GAAGuF,EAAEvF,GAAG,MAAM2B,EAAEhC,EAAEuB,WAAWtB,EAAEE,EAAEA,EAAE6B,GAAG+C,EAAE/C,GAAGgF,QAAQf,EAAEjG,EAAEC,EAAE,IAAIH,EAAEoD,8BAA8BH,IAAIkE,QAAQlH,EAAE,CAAC0E,MAAMzE,EAAE6D,UAAUmD,GAAGhF,GAAG,aAAa5B,IAAIJ,EAAEgC,EAAEiF,IAAGxD,EAAEzB,SAASA,EAAEkF,OAAO,CAACP,KAAKM,KAAI,OAAEhH,SAAS8B,IAAIC,EAAE/B,IAAG+B,CAAC,CAACF,eAAeqF,EAAE9G,EAAEP,GAAG,MAAM2E,MAAMzE,EAAE6E,eAAe9E,EAAE+G,kBAAkB3G,EAAE8E,kBAAkB7E,EAAE2G,cAAchF,EAAEmB,8BAA8BH,GAAG1C,QAAQmC,EAAEnC,GAAG,MAAM2B,EAAE8D,EAAEzF,GAAGJ,EAAEE,EAAEA,EAAE6B,GAAG+C,EAAE/C,GAAGgF,QAAQf,EAAEjG,EAAEC,EAAE,IAAIH,EAAEoD,8BAA8BH,IAAIkE,QAAQlH,EAAE,CAAC0E,MAAMzE,EAAE6D,UAAUmD,GAAGhF,GAAG,aAAa5B,EAAEJ,EAAEgC,EAAEiF,GAAGxD,EAAEzB,SAASuE,EAAEvE,EAAEiF,EAAEnH,GAAGE,EAAEuB,WAAWS,GAAE,OAAE/B,SAAS8B,IAAIC,EAAE/B,IAAG+B,CAAC,C","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/jsonContext-Cs3DKlwE.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/multiOriginJSONSupportUtils-DGETddQl.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/originUtils-BLsWtgV9.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/saveUtils-5YmoVD4N.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/streamLayerUtils-BFeHbmkm.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/utils-Dgmsa-EC.js"],"sourcesContent":["import{I as o,b as s}from\"./main-I34c1W55.js\";function a(e,r){return{...l(e,r),readResourcePaths:[]}}function i(e,r,n){const t=o(e.itemUrl);return{...l(e,r),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:t?{rootPath:t.path,writtenUrls:[]}:null,resources:n?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function l(e,r){return{origin:r,url:o(e.itemUrl),portal:e.portal||s.getDefault(),portalItem:e}}export{a as e,i as o};\n","function n(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{n as i};\n","import{i as o}from\"./multiOriginJSONSupportUtils-DGETddQl.js\";function n(t){t?.writtenProperties&&t.writtenProperties.forEach(({target:r,propName:e,newOrigin:i})=>{o(r)&&i&&r.originOf(e)!==i&&r.updateOrigin(e,i)})}export{n as i};\n","import{s as l}from\"./main-I34c1W55.js\";async function i(t){const s=[];for(const o of t.allLayers)if(\"beforeSave\"in o&&typeof o.beforeSave==\"function\"){const e=o.beforeSave();e&&s.push(e)}await Promise.allSettled(s)}const u=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function d(t,s,o){let e=(t.messages??[]).filter(({type:r})=>r===\"error\").map(({name:r,message:a,details:p})=>new l(r,a,p));if(t.blockedRelativeUrls&&(e=e.concat(t.blockedRelativeUrls.map(r=>new l(\"url:unsupported\",`Relative url '${r}' is not supported`)))),o){const{ignoreUnsupported:r,supplementalUnsupportedErrors:a=[],requiredPropertyChecksDisabled:p}=o;r&&(e=e.filter(({name:n})=>!(u.has(n)||a.includes(n)))),p&&(e=e.filter(n=>n.name!==\"web-document-write:property-required\"))}if(e.length>0)throw new l(s.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:e})}export{i as r,d as t};\n","import{P as m,$ as c}from\"./utils-Dgmsa-EC.js\";import{l as u,a as y,i as f,f as s}from\"./portalItemUtils-B5LG5xsT.js\";const n=\"Stream Service\",p=\"Feed\",d=\"stream-layer-save\",v=\"stream-layer-save-as\";function l(t){return{isValid:t.type===\"stream\"&&!!t.url&&!t.webSocketUrl,errorMessage:\"Stream layer should be created using a url to a stream service\"}}function i(t){const e=t.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}async function x(t,e){const{parsedUrl:a,title:o,fullExtent:r}=t;e.url=a.path,e.title||=o,e.extent=null,r!=null&&(e.extent=await u(r)),y(e,s.METADATA),f(e,s.SINGLE_LAYER)}async function A(t,e){return m({layer:t,itemType:n,additionalItemType:p,validateLayer:l,createItemData:i,errorNamePrefix:d},e)}async function I(t,e,a){return c({layer:t,itemType:n,validateLayer:l,createItemData:i,errorNamePrefix:v,newItem:e,setItemProperties:x},a)}export{A as save,I as saveAs};\n","import{s as c,b as P}from\"./main-I34c1W55.js\";import{i as u}from\"./originUtils-BLsWtgV9.js\";import h from\"./PortalItem-CH5hihzj.js\";import{o as x}from\"./jsonContext-Cs3DKlwE.js\";import{i as N,f as b}from\"./portalItemUtils-B5LG5xsT.js\";import{t as S}from\"./saveUtils-5YmoVD4N.js\";function g(t,a,r){const e=r(t);if(!e.isValid)throw new c(`${a}:invalid-parameters`,e.errorMessage,{layer:t})}async function d(t){const{layer:a,errorNamePrefix:r,validateLayer:e}=t;await a.load(),g(a,r,e)}function y(t,a){return`Layer (title: ${t.title}, id: ${t.id}) of type '${t.declaredClass}' ${a}`}function w(t){const{item:a,errorNamePrefix:r,layer:e,validateItem:i}=t;if(O(t),i){const n=i(a);if(!n.isValid)throw new c(`${r}:invalid-parameters`,n.errorMessage,{layer:e})}}function O(t){const{item:a,itemType:r,additionalItemType:e,errorNamePrefix:i,layer:n}=t,s=[r];if(e&&s.push(e),!s.includes(a.type)){const p=s.map(o=>`'${o}'`).join(\", \");throw new c(`${i}:portal-item-wrong-type`,`Portal item type should be one of: \"${p}\"`,{item:a,layer:n})}}function J(t){const{layer:a,errorNamePrefix:r}=t,{portalItem:e}=a;if(!e)throw new c(`${r}:portal-item-not-set`,y(a,\"requires the portalItem property to be set\"));if(!e.loaded)throw new c(`${r}:portal-item-not-loaded`,y(a,\"cannot be saved to a portal item that does not exist or is inaccessible\"));w({...t,item:e})}function E(t){const{newItem:a,itemType:r}=t;let e=h.from(a);return e.id&&(e=e.clone(),e.id=null),e.type??=r,e.portal??=P.getDefault(),w({...t,item:e}),e}function I(t){return x(t,\"portal-item\")}async function $(t,a,r){\"beforeSave\"in t&&typeof t.beforeSave==\"function\"&&await t.beforeSave();const e=t.write({},a);return await Promise.all(a.resources?.pendingOperations??[]),S(a,{errorName:\"layer-write:unsupported\"},r),e}function v(t){N(t,b.JSAPI),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter((a,r,e)=>e.indexOf(a)===r))}async function U(t,a,r){const e=t.portal;await e.signIn(),await e.user.addItem({item:t,data:a,folder:r?.folder})}async function C(t,a){const{layer:r,createItemData:e,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=t;await d(t),J(t);const o=r.portalItem,l=i?i(o):I(o),f=await $(r,l,{...a,supplementalUnsupportedErrors:p}),m=await e({layer:r,layerJSON:f},o);return await n?.(r,o,m),v(o),await o.update({data:m}),u(l),await s?.(o,l),o}async function D(t,a){const{layer:r,createItemData:e,createJSONContext:i,setItemProperties:n,saveResources:s,supplementalUnsupportedErrors:p}=t;await d(t);const o=E(t),l=i?i(o):I(o),f=await $(r,l,{...a,supplementalUnsupportedErrors:p}),m=await e({layer:r,layerJSON:f},o);return await n(r,o,m),v(o),await U(o,m,a),r.portalItem=o,u(l),await s?.(o,l),o}export{D as $,C as P};\n"],"names":["a","e","r","l","readResourcePaths","i","n","t","itemUrl","messages","writtenProperties","blockedRelativeUrls","verifyItemRelativeUrls","rootPath","path","writtenUrls","resources","toAdd","toUpdate","toKeep","pendingOperations","origin","url","portal","getDefault","portalItem","forEach","target","propName","newOrigin","originOf","updateOrigin","async","s","o","allLayers","beforeSave","push","Promise","allSettled","u","Set","d","filter","type","map","name","message","details","p","concat","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","has","includes","length","errorName","errors","v","isValid","webSocketUrl","errorMessage","layerJSON","resolve","Object","keys","x","parsedUrl","title","fullExtent","extent","METADATA","SINGLE_LAYER","A","layer","itemType","additionalItemType","validateLayer","createItemData","errorNamePrefix","I","newItem","setItemProperties","g","load","y","id","declaredClass","w","item","validateItem","O","join","J","loaded","E","from","clone","$","write","all","JSAPI","typeKeywords","indexOf","U","signIn","user","addItem","data","folder","C","createJSONContext","saveResources","f","m","update","D"],"sourceRoot":""}