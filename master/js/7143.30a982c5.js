"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[7143],{67143:function(t,e,r){r.r(e),r.d(e,{Column:function(){return v},Feature:function(){return P},Geometry:function(){return F},geojson:function(){return he}});const n=new Int32Array(2),i=new Float32Array(n.buffer),s=new Float64Array(n.buffer),o=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0];var a;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(a||(a={}));class l{constructor(t){this.bytes_=t,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(t){return new l(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return BigInt.asIntN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readUint64(t){return BigInt.asUintN(64,BigInt(this.readUint32(t))+(BigInt(this.readUint32(t+4))<<BigInt(32)))}readFloat32(t){return n[0]=this.readInt32(t),i[0]}readFloat64(t){return n[o?0:1]=this.readInt32(t),n[o?1:0]=this.readInt32(t+4),s[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,Number(BigInt.asIntN(32,e))),this.writeInt32(t+4,Number(BigInt.asIntN(32,e>>BigInt(32))))}writeUint64(t,e){this.writeUint32(t,Number(BigInt.asUintN(32,e))),this.writeUint32(t+4,Number(BigInt.asUintN(32,e>>BigInt(32))))}writeFloat32(t,e){i[0]=e,this.writeInt32(t,n[0])}writeFloat64(t,e){s[0]=e,this.writeInt32(t,n[o?0:1]),this.writeInt32(t+4,n[o?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<4;e++)t+=String.fromCharCode(this.readInt8(this.position_+4+e));return t}__offset(t,e){const r=t-this.readInt32(t);return e<this.readInt16(r)?this.readInt16(r+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const r=this.readInt32(t);t+=4;const n=this.bytes_.subarray(t,t+r);return e===a.UTF8_BYTES?n:this.text_decoder_.decode(n)}__union_with_string(t,e){return"string"==typeof t?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+4}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(4!=t.length)throw new Error("FlatBuffers: file identifier must be length 4");for(let e=0;e<4;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+4+e))return!1;return!0}createScalarList(t,e){const r=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&r.push(e)}return r}createObjList(t,e){const r=[];for(let n=0;n<e;++n){const e=t(n);null!==e&&r.push(e.unpack())}return r}}class u{constructor(t){let e;this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder,e=t||1024,this.bb=l.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const r=1+~(this.bb.capacity()-this.space+e)&t-1;for(;this.space<r+t+e;){const t=this.bb.capacity();this.bb=u.growByteBuffer(this.bb),this.space+=this.bb.capacity()-t}this.pad(r)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,r){(this.force_defaults||e!=r)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,r){(this.force_defaults||e!=r)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,r){(this.force_defaults||e!=r)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,r){(this.force_defaults||e!==r)&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,r){(this.force_defaults||e!=r)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,r){(this.force_defaults||e!=r)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,r){e!=r&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(t){null!==this.vtable&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(3221225472&e)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const r=e<<1,n=l.allocate(r);return n.setPosition(r-e),n.bytes().set(t.bytes(),r-e),n}addOffset(t){this.prep(4,0),this.writeInt32(this.offset()-t+4)}startObject(t){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&0==this.vtable[e];e--);const r=e+1;for(;e>=0;e--)this.addInt16(0!=this.vtable[e]?t-this.vtable[e]:0);const n=2;this.addInt16(t-this.object_start);const i=2*(r+n);this.addInt16(i);let s=0;const o=this.space;t:for(e=0;e<this.vtables.length;e++){const t=this.bb.capacity()-this.vtables[e];if(i==this.bb.readInt16(t)){for(let e=2;e<i;e+=2)if(this.bb.readInt16(o+e)!=this.bb.readInt16(t+e))continue t;s=this.vtables[e];break}}return s?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,s-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,r){const n=r?4:0;if(e){const t=e;if(this.prep(this.minalign,8+n),4!=t.length)throw new TypeError("FlatBuffers: file identifier must be length 4");for(let e=3;e>=0;e--)this.writeInt8(t.charCodeAt(e))}this.prep(this.minalign,4+n),this.addOffset(t),n&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const r=this.bb.capacity()-t,n=r-this.bb.readInt32(r);if(!(e<this.bb.readInt16(n)&&0!=this.bb.readInt16(n+e)))throw new TypeError("FlatBuffers: field "+e+" must be set")}startVector(t,e,r){this.notNested(),this.vector_num_elems=e,this.prep(4,t*e),this.prep(r,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(null==t)return 0;let e;return e=t instanceof Uint8Array?t:this.text_encoder.encode(t),this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length),this.bb.bytes().set(e,this.space),this.endVector()}createByteVector(t){return null==t?0:(this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length),this.bb.bytes().set(t,this.space),this.endVector())}createObjectOffset(t){return null===t?0:"string"==typeof t?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let r=0;r<t.length;++r){const n=t[r];if(null===n)throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");e.push(this.createObjectOffset(n))}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t.slice().reverse()),this.endVector()}}const h=new Uint8Array(0);function c(){return this._source.cancel()}function b(t,e){if(!t.length)return e;if(!e.length)return t;var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function d(){var t=this,e=t._array.subarray(t._index);return t._source.read().then((function(r){return t._array=h,t._index=0,r.done?e.length>0?{done:!1,value:e}:{done:!0,value:void 0}:{done:!1,value:b(e,r.value)}}))}function f(t){if((t|=0)<0)throw new Error("invalid length");var e=this,r=this._array.length-this._index;if(this._index+t<=this._array.length)return Promise.resolve(this._array.subarray(this._index,this._index+=t));var n=new Uint8Array(t);return n.set(this._array.subarray(this._index)),function i(){return e._source.read().then((function(s){return s.done?(e._array=h,e._index=0,r>0?n.subarray(0,r):null):r+s.value.length>=t?(e._array=s.value,e._index=t-r,n.set(s.value.subarray(0,t-r),r),n):(n.set(s.value,r),r+=s.value.length,i())}))}()}function _(t){return"function"==typeof t.slice?t:new p("function"==typeof t.read?t:t.getReader())}function p(t){this._source=t,this._array=h,this._index=0}var y,g,w,m;p.prototype.read=d,p.prototype.slice=f,p.prototype.cancel=c,(y=g||(g={}))[y.Byte=0]="Byte",y[y.UByte=1]="UByte",y[y.Bool=2]="Bool",y[y.Short=3]="Short",y[y.UShort=4]="UShort",y[y.Int=5]="Int",y[y.UInt=6]="UInt",y[y.Long=7]="Long",y[y.ULong=8]="ULong",y[y.Float=9]="Float",y[y.Double=10]="Double",y[y.String=11]="String",y[y.Json=12]="Json",y[y.DateTime=13]="DateTime",y[y.Binary=14]="Binary";class v{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsColumn(t,e){return(e||new v).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsColumn(t,e){return t.setPosition(t.position()+4),(e||new v).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}type(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):g.Byte}title(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}width(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt32(this.bb_pos+t):-1}precision(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt32(this.bb_pos+t):-1}scale(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):-1}nullable(){let t=this.bb.__offset(this.bb_pos,18);return!t||!!this.bb.readInt8(this.bb_pos+t)}unique(){let t=this.bb.__offset(this.bb_pos,20);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}primaryKey(){let t=this.bb.__offset(this.bb_pos,22);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}metadata(t){let e=this.bb.__offset(this.bb_pos,24);return e?this.bb.__string(this.bb_pos+e,t):null}static startColumn(t){t.startObject(11)}static addName(t,e){t.addFieldOffset(0,e,0)}static addType(t,e){t.addFieldInt8(1,e,g.Byte)}static addTitle(t,e){t.addFieldOffset(2,e,0)}static addDescription(t,e){t.addFieldOffset(3,e,0)}static addWidth(t,e){t.addFieldInt32(4,e,-1)}static addPrecision(t,e){t.addFieldInt32(5,e,-1)}static addScale(t,e){t.addFieldInt32(6,e,-1)}static addNullable(t,e){t.addFieldInt8(7,+e,1)}static addUnique(t,e){t.addFieldInt8(8,+e,0)}static addPrimaryKey(t,e){t.addFieldInt8(9,+e,0)}static addMetadata(t,e){t.addFieldOffset(10,e,0)}static endColumn(t){let e=t.endObject();return t.requiredField(e,4),e}static createColumn(t,e,r,n,i,s,o,a,l,u,h,c){return v.startColumn(t),v.addName(t,e),v.addType(t,r),v.addTitle(t,n),v.addDescription(t,i),v.addWidth(t,s),v.addPrecision(t,o),v.addScale(t,a),v.addNullable(t,l),v.addUnique(t,u),v.addPrimaryKey(t,h),v.addMetadata(t,c),v.endColumn(t)}}class I{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsCrs(t,e){return(e||new I).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsCrs(t,e){return t.setPosition(t.position()+4),(e||new I).__init(t.readInt32(t.position())+t.position(),t)}org(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}code(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}name(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}wkt(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}codeString(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}static startCrs(t){t.startObject(6)}static addOrg(t,e){t.addFieldOffset(0,e,0)}static addCode(t,e){t.addFieldInt32(1,e,0)}static addName(t,e){t.addFieldOffset(2,e,0)}static addDescription(t,e){t.addFieldOffset(3,e,0)}static addWkt(t,e){t.addFieldOffset(4,e,0)}static addCodeString(t,e){t.addFieldOffset(5,e,0)}static endCrs(t){return t.endObject()}static createCrs(t,e,r,n,i,s,o){return I.startCrs(t),I.addOrg(t,e),I.addCode(t,r),I.addName(t,n),I.addDescription(t,i),I.addWkt(t,s),I.addCodeString(t,o),I.endCrs(t)}}(w=m||(m={}))[w.Unknown=0]="Unknown",w[w.Point=1]="Point",w[w.LineString=2]="LineString",w[w.Polygon=3]="Polygon",w[w.MultiPoint=4]="MultiPoint",w[w.MultiLineString=5]="MultiLineString",w[w.MultiPolygon=6]="MultiPolygon",w[w.GeometryCollection=7]="GeometryCollection",w[w.CircularString=8]="CircularString",w[w.CompoundCurve=9]="CompoundCurve",w[w.CurvePolygon=10]="CurvePolygon",w[w.MultiCurve=11]="MultiCurve",w[w.MultiSurface=12]="MultiSurface",w[w.Curve=13]="Curve",w[w.Surface=14]="Surface",w[w.PolyhedralSurface=15]="PolyhedralSurface",w[w.TIN=16]="TIN",w[w.Triangle=17]="Triangle";class x{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsHeader(t,e){return(e||new x).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsHeader(t,e){return t.setPosition(t.position()+4),(e||new x).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}envelope(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}envelopeLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}envelopeArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}geometryType(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):m.Unknown}hasZ(){let t=this.bb.__offset(this.bb_pos,10);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasM(){let t=this.bb.__offset(this.bb_pos,12);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasT(){let t=this.bb.__offset(this.bb_pos,14);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}hasTm(){let t=this.bb.__offset(this.bb_pos,16);return!!t&&!!this.bb.readInt8(this.bb_pos+t)}columns(t,e){let r=this.bb.__offset(this.bb_pos,18);return r?(e||new v).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}columnsLength(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}featuresCount(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.readUint64(this.bb_pos+t):BigInt("0")}indexNodeSize(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.readUint16(this.bb_pos+t):16}crs(t){let e=this.bb.__offset(this.bb_pos,24);return e?(t||new I).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}title(t){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.__string(this.bb_pos+e,t):null}description(t){let e=this.bb.__offset(this.bb_pos,28);return e?this.bb.__string(this.bb_pos+e,t):null}metadata(t){let e=this.bb.__offset(this.bb_pos,30);return e?this.bb.__string(this.bb_pos+e,t):null}static startHeader(t){t.startObject(14)}static addName(t,e){t.addFieldOffset(0,e,0)}static addEnvelope(t,e){t.addFieldOffset(1,e,0)}static createEnvelopeVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addFloat64(e[r]);return t.endVector()}static startEnvelopeVector(t,e){t.startVector(8,e,8)}static addGeometryType(t,e){t.addFieldInt8(2,e,m.Unknown)}static addHasZ(t,e){t.addFieldInt8(3,+e,0)}static addHasM(t,e){t.addFieldInt8(4,+e,0)}static addHasT(t,e){t.addFieldInt8(5,+e,0)}static addHasTm(t,e){t.addFieldInt8(6,+e,0)}static addColumns(t,e){t.addFieldOffset(7,e,0)}static createColumnsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startColumnsVector(t,e){t.startVector(4,e,4)}static addFeaturesCount(t,e){t.addFieldInt64(8,e,BigInt("0"))}static addIndexNodeSize(t,e){t.addFieldInt16(9,e,16)}static addCrs(t,e){t.addFieldOffset(10,e,0)}static addTitle(t,e){t.addFieldOffset(11,e,0)}static addDescription(t,e){t.addFieldOffset(12,e,0)}static addMetadata(t,e){t.addFieldOffset(13,e,0)}static endHeader(t){return t.endObject()}static finishHeaderBuffer(t,e){t.finish(e)}static finishSizePrefixedHeaderBuffer(t,e){t.finish(e,void 0,!0)}}class F{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsGeometry(t,e){return(e||new F).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsGeometry(t,e){return t.setPosition(t.position()+4),(e||new F).__init(t.readInt32(t.position())+t.position(),t)}ends(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0}endsLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}endsArray(){let t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}xy(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}xyLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}xyArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}z(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}zLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}zArray(){let t=this.bb.__offset(this.bb_pos,8);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}m(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}mLength(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}mArray(){let t=this.bb.__offset(this.bb_pos,10);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}t(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readFloat64(this.bb.__vector(this.bb_pos+e)+8*t):0}tLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}tArray(){let t=this.bb.__offset(this.bb_pos,12);return t?new Float64Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}tm(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):BigInt(0)}tmLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readUint8(this.bb_pos+t):m.Unknown}parts(t,e){let r=this.bb.__offset(this.bb_pos,18);return r?(e||new F).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}partsLength(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startGeometry(t){t.startObject(8)}static addEnds(t,e){t.addFieldOffset(0,e,0)}static createEndsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startEndsVector(t,e){t.startVector(4,e,4)}static addXy(t,e){t.addFieldOffset(1,e,0)}static createXyVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addFloat64(e[r]);return t.endVector()}static startXyVector(t,e){t.startVector(8,e,8)}static addZ(t,e){t.addFieldOffset(2,e,0)}static createZVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addFloat64(e[r]);return t.endVector()}static startZVector(t,e){t.startVector(8,e,8)}static addM(t,e){t.addFieldOffset(3,e,0)}static createMVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addFloat64(e[r]);return t.endVector()}static startMVector(t,e){t.startVector(8,e,8)}static addT(t,e){t.addFieldOffset(4,e,0)}static createTVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addFloat64(e[r]);return t.endVector()}static startTVector(t,e){t.startVector(8,e,8)}static addTm(t,e){t.addFieldOffset(5,e,0)}static createTmVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startTmVector(t,e){t.startVector(8,e,8)}static addType(t,e){t.addFieldInt8(6,e,m.Unknown)}static addParts(t,e){t.addFieldOffset(7,e,0)}static createPartsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startPartsVector(t,e){t.startVector(4,e,4)}static endGeometry(t){return t.endObject()}static createGeometry(t,e,r,n,i,s,o,a,l){return F.startGeometry(t),F.addEnds(t,e),F.addXy(t,r),F.addZ(t,n),F.addM(t,i),F.addT(t,s),F.addTm(t,o),F.addType(t,a),F.addParts(t,l),F.endGeometry(t)}}class P{bb=null;bb_pos=0;__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFeature(t,e){return(e||new P).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFeature(t,e){return t.setPosition(t.position()+4),(e||new P).__init(t.readInt32(t.position())+t.position(),t)}geometry(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new F).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}properties(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}propertiesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}propertiesArray(){let t=this.bb.__offset(this.bb_pos,6);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}columns(t,e){let r=this.bb.__offset(this.bb_pos,8);return r?(e||new v).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}columnsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFeature(t){t.startObject(3)}static addGeometry(t,e){t.addFieldOffset(0,e,0)}static addProperties(t,e){t.addFieldOffset(1,e,0)}static createPropertiesVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startPropertiesVector(t,e){t.startVector(1,e,1)}static addColumns(t,e){t.addFieldOffset(2,e,0)}static createColumnsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startColumnsVector(t,e){t.startVector(4,e,4)}static endFeature(t){return t.endObject()}static finishFeatureBuffer(t,e){t.finish(e)}static finishSizePrefixedFeatureBuffer(t,e){t.finish(e,void 0,!0)}static createFeature(t,e,r,n){return P.startFeature(t),P.addGeometry(t,e),P.addProperties(t,r),P.addColumns(t,n),P.endFeature(t)}}function U(t){let e=x.getRootAsHeader(t),r=e.featuresCount(),n=e.indexNodeSize(),i=[];for(let a=0;a<e.columnsLength();a++){let t=e.columns(a);if(!t)throw Error("Column unexpectedly missing");if(!t.name())throw Error("Column name unexpectedly missing");i.push({name:t.name(),type:t.type(),title:t.title(),description:t.description(),width:t.width(),precision:t.precision(),scale:t.scale(),nullable:t.nullable(),unique:t.unique(),primary_key:t.primaryKey()})}let s=e.crs(),o=s?{org:s.org(),code:s.code(),name:s.name(),description:s.description(),wkt:s.wkt(),code_string:s.codeString()}:null;return{geometryType:e.geometryType(),columns:i,envelope:null,featuresCount:Number(r),indexNodeSize:n,crs:o,title:e.title(),description:e.description(),metadata:e.metadata()}}function S(t,e){let r,n,{xy:i,z:s,ends:o,parts:a,type:l}=e;if(a){let e=a.map((e=>S(t,e))),r=F.createPartsVector(t,e);return F.startGeometry(t),F.addParts(t,r),F.addType(t,l),F.endGeometry(t)}let u=F.createXyVector(t,i);return s&&(r=F.createZVector(t,s)),o&&(n=F.createEndsVector(t,o)),F.startGeometry(t),n&&F.addEnds(t,n),F.addXy(t,u),r&&F.addZ(t,r),F.addType(t,l),F.endGeometry(t)}function C(t,e,r){if(0!==t.length)if(Array.isArray(t[0]))for(let n of t)C(n,e,r);else 2===t.length?e.push(...t):(e.push(t[0],t[1]),r.push(t[2]))}function O(t,e){let r=[];for(let n=0;n<t.length;n+=2){let i=[t[n],t[n+1]];e&&i.push(e[n>>1]),r.push(i)}return r}function E(t){return t?m[t]:m.Unknown}let V=new TextEncoder,T=new TextDecoder;function B(t,e,r){let n=r.columns,i=new u,s=0,o=1024,a=new Uint8Array(1024),l=new DataView(a.buffer),h=function(t){if(s+t<o)return;let e=new Uint8Array(o=Math.max(o+t,2*o));e.set(a),l=new DataView((a=e).buffer)};if(n)for(let u=0;u<n.length;u++){let t=n[u],r=e[t.name];if(null!==r)switch(h(2),l.setUint16(s,u,!0),s+=2,t.type){case g.Bool:h(1),l.setUint8(s,r),s+=1;break;case g.Short:h(2),l.setInt16(s,r,!0),s+=2;break;case g.UShort:h(2),l.setUint16(s,r,!0),s+=2;break;case g.Int:h(4),l.setInt32(s,r,!0),s+=4;break;case g.UInt:h(4),l.setUint32(s,r,!0),s+=4;break;case g.Long:h(8),l.setBigInt64(s,BigInt(r),!0),s+=8;break;case g.Float:h(4),l.setFloat32(s,r,!0),s+=4;break;case g.Double:h(8),l.setFloat64(s,r,!0),s+=8;break;case g.DateTime:case g.String:{let t=V.encode(r);h(4),l.setUint32(s,t.length,!0),s+=4,h(t.length),a.set(t,s),s+=t.length;break}case g.Json:{let t=V.encode(JSON.stringify(r));h(4),l.setUint32(s,t.length,!0),s+=4,h(t.length),a.set(t,s),s+=t.length;break}default:throw Error("Unknown type "+t.type)}}let c=0;s>0&&(c=P.createPropertiesVector(i,a.slice(0,s)));let b=S(i,t);P.startFeature(i),P.addGeometry(i,b),c&&P.addProperties(i,c);let d=P.endFeature(i);return i.finishSizePrefixed(d),i.asUint8Array()}function A(t,e){let r={};if(!e||0===e.length)return r;let n=t.propertiesArray();if(!n)return r;let i=new DataView(n.buffer,n.byteOffset),s=t.propertiesLength(),o=0;for(;o<s;){let t=i.getUint16(o,!0);o+=2;let s=e[t],a=s.name;switch(s.type){case g.Bool:r[a]=!!i.getUint8(o),o+=1;break;case g.Byte:r[a]=i.getInt8(o),o+=1;break;case g.UByte:r[a]=i.getUint8(o),o+=1;break;case g.Short:r[a]=i.getInt16(o,!0),o+=2;break;case g.UShort:r[a]=i.getUint16(o,!0),o+=2;break;case g.Int:r[a]=i.getInt32(o,!0),o+=4;break;case g.UInt:r[a]=i.getUint32(o,!0),o+=4;break;case g.Long:r[a]=Number(i.getBigInt64(o,!0)),o+=8;break;case g.ULong:r[a]=Number(i.getBigUint64(o,!0)),o+=8;break;case g.Float:r[a]=i.getFloat32(o,!0),o+=4;break;case g.Double:r[a]=i.getFloat64(o,!0),o+=8;break;case g.DateTime:case g.String:{let t=i.getUint32(o,!0);o+=4,r[a]=T.decode(n.subarray(o,o+t)),o+=t;break}case g.Json:{let t=i.getUint32(o,!0);o+=4;let e=T.decode(n.subarray(o,o+t));r[a]=JSON.parse(e),o+=t;break}default:throw Error("Unknown type "+s.type)}}return r}var N=function(t,e){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},N(t,e)};function k(t,e){function r(){this.constructor=t}N(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function M(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(e,r){function s(t){try{a(n.next(t))}catch(e){r(e)}}function o(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){t.done?e(t.value):i(t.value).then(s,o)}a((n=n.apply(t,[])).next())}))}function R(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return l([t,e])}}function l(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!(i=i.length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function G(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function j(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{l(i[t](e))}catch(r){c(s[0][3],r)}}function l(t){t.value instanceof L?Promise.resolve(t.value.v).then(u,h):c(s[0][2],t)}function u(t){a("next",t)}function h(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}var q=function(t){function e(e){var r=t.call(this,e)||this;return Object.defineProperty(r,"name",{value:"RepeaterOverflowError",enumerable:!1}),"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(r,r.constructor.prototype):r.__proto__=r.constructor.prototype,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(r,r.constructor),r}return k(e,t),e}(Error);function z(t){null!=t&&"function"==typeof t.then&&t.then($,$)}(function(){function t(t){if(t<0)throw new RangeError("Capacity may not be less than 0");this._c=t,this._q=[]}Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._q.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return this._q.length>=this._c},enumerable:!1,configurable:!0}),t.prototype.add=function(t){if(this.full)throw new Error("Buffer full");this._q.push(t)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()}})(),function(){function t(t){if(t<1)throw new RangeError("Capacity may not be less than 1");this._c=t,this._q=[]}Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._q.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.add=function(t){for(;this._q.length>=this._c;)this._q.shift();this._q.push(t)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()}}(),function(){function t(t){if(t<1)throw new RangeError("Capacity may not be less than 1");this._c=t,this._q=[]}Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this._q.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.add=function(t){this._q.length<this._c&&this._q.push(t)},t.prototype.remove=function(){if(this.empty)throw new Error("Buffer empty");return this._q.shift()}}();var D=0,W=1,H=2,X=3,Z=4,J=1024,$=function(){};function Y(t){var e=t.err,r=Promise.resolve(t.execution).then((function(t){if(null!=e)throw e;return t}));return t.err=void 0,t.execution=r.then((function(){}),(function(){})),void 0===t.pending?r:t.pending.then((function(){return r}))}function K(t,e){var r=t.state>=X;return Promise.resolve(e).then((function(e){return!r&&t.state>=Z?Y(t).then((function(t){return{value:t,done:!0}})):{value:e,done:r}}))}function Q(t,e){var r,n;if(!(t.state>=H))if(t.state=H,t.onnext(),t.onstop(),null==t.err&&(t.err=e),0===t.pushes.length&&(typeof t.buffer>"u"||t.buffer.empty))tt(t);else try{for(var i=G(t.pushes),s=i.next();!s.done;s=i.next()){var o=s.value;o.resolve()}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}function tt(t){var e,r;if(!(t.state>=X)){t.state<H&&Q(t),t.state=X,t.buffer=void 0;try{for(var n=G(t.nexts),i=n.next();!i.done;i=n.next()){var s=i.value,o=void 0===t.pending?Y(t):t.pending.then((function(){return Y(t)}));s.resolve(K(t,o))}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}t.pushes=[],t.nexts=[]}}function et(t){t.state>=Z||(t.state<X&&tt(t),t.state=Z)}function rt(t,e){if(z(e),t.pushes.length>=J)throw new q("No more than "+J+" pending calls to push are allowed on a single repeater.");if(t.state>=H)return Promise.resolve(void 0);var r,n=void 0===t.pending?Promise.resolve(e):t.pending.then((function(){return e}));if(n=n.catch((function(e){t.state<H&&(t.err=e),et(t)})),t.nexts.length){var i=t.nexts.shift();i.resolve(K(t,n)),r=t.nexts.length?Promise.resolve(t.nexts[0].value):typeof t.buffer<"u"&&!t.buffer.full?Promise.resolve(void 0):new Promise((function(e){return t.onnext=e}))}else typeof t.buffer<"u"&&!t.buffer.full?(t.buffer.add(n),r=Promise.resolve(void 0)):r=new Promise((function(e){return t.pushes.push({resolve:e,value:n})}));var s=!0,o={},a=r.catch((function(t){if(s)throw t}));return o.then=function(t,e){return s=!1,Promise.prototype.then.call(r,t,e)},o.catch=function(t){return s=!1,Promise.prototype.catch.call(r,t)},o.finally=r.finally.bind(r),t.pending=n.then((function(){return a})).catch((function(e){t.err=e,et(t)})),o}function nt(t){var e=Q.bind(null,t),r=new Promise((function(e){return t.onstop=e}));return e.then=r.then.bind(r),e.catch=r.catch.bind(r),e.finally=r.finally.bind(r),e}function it(t){if(!(t.state>=W)){t.state=W;var e=rt.bind(null,t),r=nt(t);t.execution=new Promise((function(n){return n(t.executor(e,r))})),t.execution.catch((function(){return Q(t)}))}}var st=new WeakMap,ot=function(){function t(t,e){st.set(this,{executor:t,buffer:e,err:void 0,state:D,pushes:[],nexts:[],pending:void 0,execution:void 0,onnext:$,onstop:$})}return t.prototype.next=function(t){z(t);var e=st.get(this);if(void 0===e)throw new Error("WeakMap error");if(e.nexts.length>=J)throw new q("No more than "+J+" pending calls to next are allowed on a single repeater.");if(e.state<=D&&it(e),e.onnext(t),typeof e.buffer<"u"&&!e.buffer.empty){var r=K(e,e.buffer.remove());if(e.pushes.length){var n=e.pushes.shift();e.buffer.add(n.value),e.onnext=n.resolve}return r}if(e.pushes.length){var i=e.pushes.shift();return e.onnext=i.resolve,K(e,i.value)}return e.state>=H?(tt(e),K(e,Y(e))):new Promise((function(r){return e.nexts.push({resolve:r,value:t})}))},t.prototype.return=function(t){z(t);var e=st.get(this);if(void 0===e)throw new Error("WeakMap error");return tt(e),e.execution=Promise.resolve(e.execution).then((function(){return t})),K(e,Y(e))},t.prototype.throw=function(t){var e=st.get(this);if(void 0===e)throw new Error("WeakMap error");return e.state<=D||e.state>=H||typeof e.buffer<"u"&&!e.buffer.empty?(tt(e),null==e.err&&(e.err=t),K(e,Y(e))):this.next(Promise.reject(t))},t.prototype[Symbol.asyncIterator]=function(){return this},t.race=lt,t.merge=ut,t.zip=ht,t.latest=ct,t}();function at(t,e){var r,n,i=[],s=function(t){null!=t&&"function"==typeof t[Symbol.asyncIterator]?i.push(t[Symbol.asyncIterator]()):null!=t&&"function"==typeof t[Symbol.iterator]?i.push(t[Symbol.iterator]()):i.push(function(){return j(this,arguments,(function(){return R(this,(function(r){switch(r.label){case 0:return e.yieldValues?[4,L(t)]:[3,3];case 1:return[4,r.sent()];case 2:r.sent(),r.label=3;case 3:return e.returnValues?[4,L(t)]:[3,5];case 4:return[2,r.sent()];case 5:return[2]}}))}))}())};try{for(var o=G(t),a=o.next();!a.done;a=o.next()){var l=a.value;s(l)}}catch(u){r={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}function lt(t){var e=this,r=at(t,{returnValues:!0});return new ot((function(t,n){return M(e,void 0,void 0,(function(){var e,i,s,o,a,l;return R(this,(function(u){switch(u.label){case 0:if(!r.length)return n(),[2];i=!1,n.then((function(){e(),i=!0})),u.label=1;case 1:u.trys.push([1,,5,7]),o=void 0,a=0,l=function(){var i,l,u,h,c,b;return R(this,(function(d){switch(d.label){case 0:i=a;try{for(c=void 0,l=G(r),u=l.next();!u.done;u=l.next())h=u.value,Promise.resolve(h.next()).then((function(t){t.done?(n(),void 0===s&&(s=t)):a===i&&(a++,e(t))}),(function(t){return n(t)}))}catch(f){c={error:f}}finally{try{u&&!u.done&&(b=l.return)&&b.call(l)}finally{if(c)throw c.error}}return[4,new Promise((function(t){return e=t}))];case 1:return o=d.sent(),void 0===o?[3,3]:[4,t(o.value)];case 2:d.sent(),d.label=3;case 3:return[2]}}))},u.label=2;case 2:return i?[3,4]:[5,l()];case 3:return u.sent(),[3,2];case 4:return[2,s&&s.value];case 5:return n(),[4,Promise.race(r.map((function(t){return t.return&&t.return()})))];case 6:return u.sent(),[7];case 7:return[2]}}))}))}))}function ut(t){var e=this,r=at(t,{yieldValues:!0});return new ot((function(t,n){return M(e,void 0,void 0,(function(){var e,i,s,o=this;return R(this,(function(a){switch(a.label){case 0:if(!r.length)return n(),[2];e=[],i=!1,n.then((function(){var t,r;i=!0;try{for(var n=G(e),s=n.next();!s.done;s=n.next()){var o=s.value;o()}}catch(a){t={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}})),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,Promise.all(r.map((function(r,a){return M(o,void 0,void 0,(function(){var o,l;return R(this,(function(u){switch(u.label){case 0:u.trys.push([0,,6,9]),u.label=1;case 1:return i?[3,5]:(Promise.resolve(r.next()).then((function(t){return e[a](t)}),(function(t){return n(t)})),[4,new Promise((function(t){e[a]=t}))]);case 2:return o=u.sent(),void 0===o?[3,4]:o.done?(s=o,[2]):[4,t(o.value)];case 3:u.sent(),u.label=4;case 4:return[3,1];case 5:return[3,9];case 6:return l=r.return,l?[4,r.return()]:[3,8];case 7:l=u.sent(),u.label=8;case 8:return[7];case 9:return[2]}}))}))})))];case 2:return a.sent(),[2,s&&s.value];case 3:return n(),[7];case 4:return[2]}}))}))}))}function ht(t){var e=this,r=at(t,{returnValues:!0});return new ot((function(t,n){return M(e,void 0,void 0,(function(){var e,i,s,o;return R(this,(function(a){switch(a.label){case 0:if(!r.length)return n(),[2,[]];i=!1,n.then((function(){e(),i=!0})),a.label=1;case 1:a.trys.push([1,,6,8]),a.label=2;case 2:return i?[3,5]:(Promise.all(r.map((function(t){return t.next()}))).then((function(t){return e(t)}),(function(t){return n(t)})),[4,new Promise((function(t){return e=t}))]);case 3:return s=a.sent(),void 0===s?[2]:(o=s.map((function(t){return t.value})),s.some((function(t){return t.done}))?[2,o]:[4,t(o)]);case 4:return a.sent(),[3,2];case 5:return[3,8];case 6:return n(),[4,Promise.all(r.map((function(t){return t.return&&t.return()})))];case 7:return a.sent(),[7];case 8:return[2]}}))}))}))}function ct(t){var e=this,r=at(t,{yieldValues:!0,returnValues:!0});return new ot((function(t,n){return M(e,void 0,void 0,(function(){var e,i,s,o,a,l=this;return R(this,(function(u){switch(u.label){case 0:if(!r.length)return n(),[2,[]];i=[],s=!1,n.then((function(){var t,r;e();try{for(var n=G(i),o=n.next();!o.done;o=n.next()){var a=o.value;a()}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}s=!0})),u.label=1;case 1:return u.trys.push([1,,5,7]),Promise.all(r.map((function(t){return t.next()}))).then((function(t){return e(t)}),(function(t){return n(t)})),[4,new Promise((function(t){return e=t}))];case 2:return o=u.sent(),void 0===o?[2]:(a=o.map((function(t){return t.value})),o.every((function(t){return t.done}))?[2,a]:[4,t(a.slice())]);case 3:return u.sent(),[4,Promise.all(r.map((function(e,r){return M(l,void 0,void 0,(function(){var l;return R(this,(function(u){switch(u.label){case 0:if(o[r].done)return[2,o[r].value];u.label=1;case 1:return s?[3,4]:(Promise.resolve(e.next()).then((function(t){return i[r](t)}),(function(t){return n(t)})),[4,new Promise((function(t){return i[r]=t}))]);case 2:return l=u.sent(),void 0===l?[2,o[r].value]:l.done?[2,l.value]:(a[r]=l.value,[4,t(a.slice())]);case 3:return u.sent(),[3,1];case 4:return[2]}}))}))})))];case 4:return[2,u.sent()];case 5:return n(),[4,Promise.all(r.map((function(t){return t.return&&t.return()})))];case 6:return u.sent(),[7];case 7:return[2]}}))}))}))}class bt{static global=new bt;_extraRequestThreshold=262144;extraRequestThreshold(){return this._extraRequestThreshold}setExtraRequestThreshold(t){if(t<0)throw Error("extraRequestThreshold cannot be negative");this._extraRequestThreshold=t}}const dt=40,ft=16;function _t(t,e){e=Math.min(Math.max(+e,2),65535);let r=t,n=r;do{n+=r=Math.ceil(r/e)}while(1!==r);return 40*n}function pt(t,e){if(e<2)throw Error("Node size must be at least 2");if(0===t)throw Error("Number of items must be greater than 0");let r=t,n=r,i=[r];do{n+=r=Math.ceil(r/e),i.push(r)}while(1!==r);let s=[];for(let a of(r=n,i))s.push(r-a),r-=a;let o=[];for(let a=0;a<i.length;a++)o.push([s[a],s[a]+i[a]]);return o}async function*yt(t,e,r,n){class i{_level;nodes;constructor(t,e){this._level=e,this.nodes=t}level(){return this._level}startNodeIdx(){return this.nodes[0]}endNodeIdx(){return this.nodes[1]}extendEndNodeIdx(t){this.nodes[1]=t}toString(){return`[NodeRange level: ${this._level}, nodes: ${this.nodes[0]}-${this.nodes[1]}]`}}let{minX:s,minY:o,maxX:a,maxY:l}=r,u=pt(t,e),h=u[0][0],c=[new i([0,1],u.length-1)];for(;0!=c.length;){let r=c.shift(),b=r.startNodeIdx(),d=b>=h,f=(()=>{let[,t]=u[r.level()],n=Math.min(r.endNodeIdx()+e,t);return d&&n<t?n+1:n})(),_=f-b,p=new DataView(await n(40*b,40*_));for(let e=b;e<f;e++){let n=e-b,u=40*n;if(a<p.getFloat64(u+0,!0)||l<p.getFloat64(u+8,!0)||s>p.getFloat64(u+16,!0)||o>p.getFloat64(u+24,!0))continue;let f=p.getBigUint64(u+32,!0);if(d){let r=(()=>{if(!(e<t-1))return null;{let t=40*(n+1);return p.getBigUint64(t+32,!0)-f}})(),i=e-h;yield[Number(f),i,Number(r)];continue}let _=bt.global.extraRequestThreshold()/40,y=c[c.length-1];if(void 0!==y&&y.level()==r.level()-1&&f<y.endNodeIdx()+_){y.extendEndNodeIdx(Number(f));continue}let g=(()=>{let t=r.level()-1;return new i([Number(f),Number(f)+1],t)})();void 0!==y&&(y.level(),g.level()),c.push(g)}}}const gt=new Uint8Array([102,103,98,3,102,103,98,0]),wt=4;class mt{headerClient;header;headerLength;indexLength;nocache;constructor(t,e,r,n,i){this.headerClient=t,this.header=e,this.headerLength=r,this.indexLength=n,this.nocache=i}static async open(t,e){let r,n=new vt(t,e),i=2024+(()=>{let t,e=0;for(t=0;t<3;t++)e+=ft**t*dt;return e})();if(!new Uint8Array(await n.getRange(0,8,i,"header")).subarray(0,3).every(((t,e)=>gt[e]===t)))throw Error("Not a FlatGeobuf file");if((r=new DataView(await n.getRange(8,4,i,"header")).getUint32(0,!0))>10485760||r<8)throw Error("Invalid header size");let s=await n.getRange(12,r,i,"header"),o=U(new l(new Uint8Array(s))),a=_t(o.featuresCount,o.indexNodeSize);return new mt(n,o,r,a,e)}async*selectBbox(t){let e=this.lengthBeforeTree(),r=this.headerClient,n=async function(t,n){return r.getRange(e+t,n,0,"index")},i=[],s=[];for await(let a of yt(this.header.featuresCount,this.header.indexNodeSize,t,n)){let[t,e]=a,[,,r]=a;if(r||(r=4),0==s.length){s.push([t,r,e]);continue}let n=s[s.length-1];t-(n[0]+n[1])>bt.global.extraRequestThreshold()&&(i.push(s),s=[]),s.push([t,r,e])}this.headerClient.logUsage("header+index"),s.length>0&&i.push(s);let o=i.flatMap((t=>this.readFeatureBatch(t,this.nocache)));yield*ot.merge(o)}lengthBeforeTree(){return gt.length+wt+this.headerLength}lengthBeforeFeatures(){return this.lengthBeforeTree()+this.indexLength}buildFeatureClient(t){return new vt(this.headerClient.httpClient,t)}async*readFeatureBatch(t,e){let[r]=t[0],[n,i]=t[t.length-1],s=this.buildFeatureClient(e),o=n+i-r;for(let[a,,l]of t){let t=await this.readFeature(s,a,o);yield{id:l,feature:t},o=0}s.logUsage("feature")}async readFeature(t,e,r){let n,i=e+this.lengthBeforeFeatures();n=new DataView(await t.getRange(i,4,r,"feature length")).getUint32(0,!0);let s=new Uint8Array(await t.getRange(i+4,n,r,"feature data")),o=new Uint8Array(n+wt);o.set(s,wt);let a=new l(o);return a.setPosition(wt),P.getRootAsFeature(a)}}class vt{httpClient;bytesEverUsed=0;bytesEverFetched=0;buffer=new ArrayBuffer(0);head=0;constructor(t,e){if("string"==typeof t)this.httpClient=new It(t,e);else{if(!(t instanceof It))throw Error("Unknown source ");this.httpClient=t}}async getRange(t,e,r,n){this.bytesEverUsed+=e;let i=t-this.head,s=i+e;if(i>=0&&s<=this.buffer.byteLength)return this.buffer.slice(i,s);let o=Math.max(e,r);return this.bytesEverFetched+=o,this.buffer=await this.httpClient.getRange(t,o,n),this.head=t,this.buffer.slice(0,e)}logUsage(t){t.split(" ")[0],(100*this.bytesEverUsed/this.bytesEverFetched).toFixed(2)}}class It{url;nocache;requestsEverMade=0;bytesEverRequested=0;constructor(t,e){this.url=t,this.nocache=e}async getRange(t,e,r){this.requestsEverMade+=1,this.bytesEverRequested+=e;let n={Range:`bytes=${t}-${t+e-1}`};return this.nocache&&(n["Cache-Control"]="no-cache, no-store"),(await fetch(this.url,{headers:n})).arrayBuffer()}}function xt(t){let e;for(let r of t){if(e===m.Unknown)break;let t=r.getGeometry?E(r.getGeometry().getType()):E(r.geometry.type);void 0===e?e=t:e!==t&&(e=m.Unknown)}if(void 0===e)throw Error("Could not infer geometry type for collection of features.");return e}function Ft(t,e,r){if(!t.subarray(0,3).every(((t,e)=>gt[e]===t)))throw Error("Not a FlatGeobuf file");let n=new l(t),i=n.readUint32(gt.length);n.setPosition(gt.length+wt);let s=U(n);r&&r(s);let o=gt.length+wt+i,{indexNodeSize:a,featuresCount:u}=s;a>0&&(o+=_t(u,a));let h=[];for(;o<n.capacity();){let t=n.readUint32(o);n.setPosition(o+wt);let r=P.getRootAsFeature(n);h.push(e(h.length,r,s)),o+=wt+t}return h}async function*Pt(t,e,r){let n,i=_(t),s=async t=>await i.slice(t),o=new Uint8Array(await s(8));if(!o.subarray(0,3).every(((t,e)=>gt[e]===t)))throw Error("Not a FlatGeobuf file");o=new Uint8Array(await s(4));let a=new l(o),u=a.readUint32(0);o=new Uint8Array(await s(u));let h=U(a=new l(o));r&&r(h);let{indexNodeSize:c,featuresCount:b}=h;if(c>0){let t=_t(b,c);await s(t)}let d=0;for(;n=await St(s,h,e,d++);)yield n}async function*Ut(t,e,r,n,i=!1){let s=await mt.open(t,i);for await(let o of(n&&n(s.header),s.selectBbox(e)))yield r(o.id,o.feature,s.header)}async function St(t,e,r,n){let i=new Uint8Array(await t(4,"feature length"));if(0===i.byteLength)return;let s=new l(i),o=s.readUint32(0);i=new Uint8Array(await t(o,"feature data"));let a=new Uint8Array(o+4);return a.set(i,4),(s=new l(a)).setPosition(wt),r(n,P.getRootAsFeature(s),e)}function Ct(t,e=0){let r,n=new u,i=0;t.columns&&(i=x.createColumnsVector(n,t.columns.map((t=>function(t,e){let r=t.createString(e.name);return v.startColumn(t),v.addName(t,r),v.addType(t,e.type),v.endColumn(t)}(n,t)))));let s=n.createString("L1");e&&(I.startCrs(n),I.addCode(n,e),r=I.endCrs(n)),x.startHeader(n),r&&x.addCrs(n,r),x.addFeaturesCount(n,BigInt(t.featuresCount)),x.addGeometryType(n,t.geometryType),x.addIndexNodeSize(n,0),i&&x.addColumns(n,i),x.addName(n,s);let o=x.endHeader(n);return n.finishSizePrefixed(o),n.asUint8Array()}function Ot(t,e){return{name:e,type:function(t){if("boolean"==typeof t)return g.Bool;if("number"==typeof t)return t%1==0?g.Int:g.Double;if("string"==typeof t||null===t)return g.String;if("object"==typeof t)return g.Json;throw Error(`Unknown type (value '${t}')`)}(t[e]),title:null,description:null,width:-1,precision:-1,scale:-1,nullable:!0,unique:!1,primary_key:!1}}const Et={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Vt{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Et[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Tt=6378137,Bt=Math.PI*Tt,At=[-Bt,-Bt,Bt,Bt],Nt=[-180,-85,180,85],kt=Tt*Math.log(Math.tan(Math.PI/2));class Mt extends Vt{constructor(t){super({code:t,units:"m",extent:At,global:!0,worldExtent:Nt,getPointResolution:function(t,e){return t/Math.cosh(e[1]/Tt)}})}}const Rt=[new Mt("EPSG:3857"),new Mt("EPSG:102100"),new Mt("EPSG:102113"),new Mt("EPSG:900913"),new Mt("http://www.opengis.net/def/crs/EPSG/0/3857"),new Mt("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Gt(t,e,r,n){const i=t.length;r=r>1?r:2,n=n??r,void 0===e&&(e=r>2?t.slice():new Array(i));for(let s=0;s<i;s+=n){e[s]=Bt*t[s]/180;let r=Tt*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));r>kt?r=kt:r<-kt&&(r=-kt),e[s+1]=r}return e}function Lt(t,e,r,n){const i=t.length;r=r>1?r:2,n=n??r,void 0===e&&(e=r>2?t.slice():new Array(i));for(let s=0;s<i;s+=n)e[s]=180*t[s]/Bt,e[s+1]=360*Math.atan(Math.exp(t[s+1]/Tt))/Math.PI-90;return e}const jt=6378137,qt=[-180,-90,180,90],zt=Math.PI*jt/180;class Dt extends Vt{constructor(t,e){super({code:t,units:"degrees",extent:qt,axisOrientation:e,global:!0,metersPerUnit:zt,worldExtent:qt})}}const Wt=[new Dt("CRS:84"),new Dt("EPSG:4326","neu"),new Dt("urn:ogc:def:crs:OGC:1.3:CRS84"),new Dt("urn:ogc:def:crs:OGC:2:84"),new Dt("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Dt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Dt("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Ht={};function Xt(t,e,r){const n=t.getCode(),i=e.getCode();n in Ht||(Ht[n]={}),Ht[n][i]=r}function Zt(t,e){if(void 0!==e)for(let r=0,n=t.length;r<n;++r)e[r]=t[r];else e=t.slice();return e}function Jt(t){t.getCode(),Xt(t,t,Zt)}function $t(t){t.forEach(Jt)}function Yt(t){$t(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Xt(e,t,Zt)}))}))}function Kt(t,e,r,n){t.forEach((function(t){e.forEach((function(e){Xt(t,e,r),Xt(e,t,n)}))}))}function Qt(){Yt(Rt),Yt(Wt),Kt(Wt,Rt,Gt,Lt)}function te(t){let e,r,n=t.coordinates,i=[],s=[],o=E(t.type),a=0;switch(t.type){case"Point":case"MultiPoint":case"LineString":C(n,i,s);break;case"MultiLineString":case"Polygon":C(n,i,s),n.length>1&&(e=n.map((t=>a+=t.length)));break;case"MultiPolygon":r=n.map((t=>({type:"Polygon",coordinates:t}))).map(te)}return{xy:i,z:s.length>0?s:void 0,ends:e,type:o,parts:r}}function ee(t){let e=E(t.type),r=[];for(let n=0;n<t.geometries.length;n++){let e=t.geometries[n];"GeometryCollection"===e.type?r.push(ee(e)):r.push(te(e))}return{type:e,parts:r}}function re(t,e){let r=e;if(r===m.Unknown&&(r=t.type()),r===m.GeometryCollection){let e=[];for(let r=0;r<t.partsLength();r++){let n=t.parts(r),i=n.type();e.push(re(n,i))}return{type:m[r],geometries:e}}if(r===m.MultiPolygon){let e=[];for(let r=0;r<t.partsLength();r++)e.push(re(t.parts(r),m.Polygon));return{type:m[r],coordinates:e.map((t=>t.coordinates))}}let n=function(t,e){let r=t.xyArray(),n=t.zArray();switch(e){case m.Point:{let t=Array.from(r);return n&&t.push(n[0]),t}case m.MultiPoint:case m.LineString:return O(r,n);case m.MultiLineString:case m.Polygon:return function(t,e,r){let n;if(!r||0===r.length)return[O(t,e)];let i=0,s=Array.from(r).map((e=>t.slice(i,i=e<<1)));return e&&(i=0,n=Array.from(r).map((t=>e.slice(i,i=t)))),s.map(((t,e)=>O(t,n?n[e]:void 0)))}(r,n,t.endsArray())}}(t,r);return{type:m[r],coordinates:n}}function ne(t,e,r){let n=r.columns;return{type:"Feature",id:t,geometry:re(e.geometry(),r.geometryType),properties:A(e,n)}}function ie(t,e=0){let r=function(t){let e=t.features[0].properties,r=null;return e&&(r=Object.keys(e).map((t=>Ot(e,t)))),{geometryType:xt(t.features),columns:r,envelope:null,featuresCount:t.features.length,indexNodeSize:0,crs:null,title:null,description:null,metadata:null}}(t),n=Ct(r,e),i=t.features.map((t=>B("GeometryCollection"===t.geometry.type?ee(t.geometry):te(t.geometry),t.properties,r))),s=i.map((t=>t.length)).reduce(((t,e)=>t+e)),o=new Uint8Array(gt.length+n.length+s);o.set(n,gt.length);let a=gt.length+n.length;for(let l of i)o.set(l,a),a+=l.length;return o.set(gt),o}function se(t,e){return{type:"FeatureCollection",features:Ft(t,ne,e)}}function oe(t,e){return Pt(t,ne,e)}function ae(t,e,r,n=!1){return Ut(t,e,ne,r,n)}function le(t,e=0){return ie(t,e)}function ue(t,e,r,n=!1){return t instanceof Uint8Array?se(t,r):t instanceof ReadableStream?oe(t,r):ae(t,e,r,n)}Qt();const he=Object.freeze(Object.defineProperty({__proto__:null,deserialize:ue,serialize:le},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=7143.30a982c5.js.map