"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3297,3567,5948,6033,8414],{36313:function(e,t,r){r.d(t,{l:function(){return s}});var n=r(98503),i=r(5948);const s=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=(0,i.d)(this.url);if(null!=e&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",(0,i.y)(e,n.n.getLogger(this)))}};return(0,n.k)([(0,n.o)()],t.prototype,"title",null),(0,n.k)([(0,n.o)({type:String})],t.prototype,"url",null),t=(0,n.k)([(0,n.A)("esri.layers.mixins.ArcGISService")],t),t}},44610:function(e,t,r){r.d(t,{y:function(){return a}});var n=r(98503),i=r(82047),s=r(49600),l=r(22102);const o={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let a=class extends n.aD{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const t=(0,s.n)(this.floors,e);return e.toExportImageJSON(t)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&(0,l.n)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(o[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=!!this.floors?.length,t=this.visibleSublayers.filter((t=>null!=t.definitionExpression||e&&null!=t.floorInfo));return t.length?JSON.stringify(t.reduce(((e,t)=>{const r=(0,s.n)(this.floors,t),i=(0,n.bt)(r,t.definitionExpression);return null!=i&&(e[t.id]=i),e}),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,r=this.scale,n=t=>{t.visible&&(0===r||(0,i.d)(r,t.minScale,t.maxScale))&&(t.sublayers?t.sublayers.forEach(n):e.unshift(t))};t&&t.forEach(n);const s=this._get("visibleSublayers");return!s||s.length!==e.length||s.some(((t,r)=>e[r]!==t))?e:s}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"dynamicLayers",null),(0,n.k)([(0,n.o)()],a.prototype,"floors",void 0),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"hasDynamicLayers",null),(0,n.k)([(0,n.o)()],a.prototype,"layer",null),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"layers",null),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"layerDefs",null),(0,n.k)([(0,n.o)({type:Number})],a.prototype,"scale",void 0),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"version",null),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"visibleSublayers",null),a=(0,n.k)([(0,n.A)("esri.layers.support.ExportImageParameters")],a)},81519:function(e,t,r){r.d(t,{e:function(){return u}});var n=r(98503);const i=-3,s=i-1;var l;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(l||(l={}));class o{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new n.bX,this._users=new n.bX}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){return this._db.get(e.id+t)?.size??0}put(e,t,r,n,o){t=e.id+t;const u=this._db.get(t);if(u&&(this._size-=u.size,e.size-=u.size,this._db.delete(t),u.entry!==r&&this._notifyRemove(t,u.entry,u.size,l.ALL)),n>this._maxSize)return void this._notifyRemove(t,r,n,l.ALL);if(void 0===r)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return console.warn(`Refusing to cache entry with size ${n} for key ${t}`),void this._notifyRemove(t,r,0,l.ALL);const c=1+Math.max(o,s)-i;this._db.set(t,new a(r,n,c)),this._size+=n,e.size+=n,this._checkSize()}updateSize(e,t,r,n){t=e.id+t;const i=this._db.get(t);if(i&&i.entry===r){for(this._size-=i.size,e.size-=i.size;n>this._maxSize;){const e=this._notifyRemove(t,r,n,l.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);n=e}i.size=n,this._size+=n,e.size+=n,this._checkSize()}}pop(e,t){t=e.id+t;const r=this._db.get(t);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(e,t){t=e.id+t;const r=this._db.get(t);if(void 0!==r)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}peek(e,t){const r=this._db.get(e.id+t);return r?++this._hit:++this._miss,r?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,n)=>{const i=e.lifetime;r[i]=(r[i]||0)+e.size,this._users.forAll((r=>{const{id:i,name:s}=r;if(n.startsWith(i)){const r=t[s]||0;t[s]=r+e.size}}))}));const n={};this._users.forAll((e=>{const r=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const i=t[r]||0;t[r]=i,n[r]=Math.round(100*e.hitRate)+"%"}else n[r]="0%"}));const s=Object.keys(t);s.sort(((e,r)=>t[r]-t[e])),s.forEach((r=>e[r]=Math.round(t[r]/2**20)+"MB / "+n[r]));for(let l=r.length-1;l>=0;--l){const t=r[l];t&&(e["Priority "+(l+i-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,r)=>{r.startsWith(t)&&(this._size-=e.size,this._db.delete(r),this._notifyRemove(r,e.entry,e.size,l.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,l.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,r,n){let i;return this._removeFuncs.some((s=>{if(e.startsWith(s[0])){const e=s[1](t,n,r);return"number"==typeof e&&(i=e),!0}return!1})),i}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const r=e?.id;let n=!0;for(;n;){n=!1;for(const[i,s]of this._db)if(0===s.lifetime&&(!r||i.startsWith(r))){if(this._purgeItem(i,s,e),t.size<=.9*t.maxSize)return;n||=this._db.has(i)}}for(const[i,s]of this._db)if((!r||i.startsWith(r))&&(this._purgeItem(i,s,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t,r=this._users.find((t=>e.startsWith(t.id)))){if(this._db.delete(e),t.lives<=1){this._size-=t.size,r&&(r.size-=t.size);const n=this._notifyRemove(e,t.entry,t.size,l.SOME);null!=n&&n>0&&(this._size+=n,r&&(r.size+=n),t.lives=t.lifetime,t.size=n,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class a{constructor(e,t,r){this.entry=e,this.size=t,this.lifetime=r,this.lives=r}}class u{constructor(e,t){this._storage=new o,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,r=1){this._storage.put(this,e,t,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},31751:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var n=r(98503),i=r(16787),s=r(88012),l=r(82047),o=r(28252),a=r(18696),u=r(60353),c=r(36313),f=r(50027),d=r(99907),h=r(20784),p=r(50293),m=r(63125),y=r(83424),_=r(47603),g=r(20014),S=r(44610),E=r(98153),v=r(22102),R=r(27505),C=r(50257);let I=class extends((0,f.l)((0,_.l)((0,y.t)((0,u.m)((0,u.f)((0,c.l)((0,h.b)((0,p.j)((0,s.S)((0,m.f)((0,a.i)((0,d.e)(o.f))))))))))))){constructor(...e){super(...e),this._exportImageParameters=new S.y({layer:this}),this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.preferredTimeZone=null,this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(n.G).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){this._exportImageParameters.destroy()}readImageFormat(e,t){const r=t.supportedImageFormatTypes;return r&&r.includes("PNG32")?"png32":"png24"}writeSublayers(e,t,r,i){if(!this.loaded||!e)return;const s=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let l=!1;const o=(0,n.bl)(i.origin);if(this.capabilities?.operations.supportsExportMap&&this.capabilities?.exportMap?.supportsDynamicLayers)if(o===n.bm.PORTAL_ITEM){const e=this.createSublayersForOrigin("service").sublayers;l=(0,v.e)(s,e,n.bm.SERVICE)}else if(o>n.bm.PORTAL_ITEM){const e=this.createSublayersForOrigin("portal-item");l=(0,v.e)(s,e.sublayers,(0,n.bl)(e.origin))}const a=[],u={writeSublayerStructure:l,...i};let c=l||this.hasVisibleLayersForOrigin(o);s.forEach((e=>{const t=e.write({},u);a.push(t),c=c||"user"===e.originOf("visible")})),a.some((e=>Object.keys(e).length>1))&&(t.layers=a),c&&(t.visibleLayers=s.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,t,r,i){const s=i?.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian()),this._exportImageParameters.floors=i?.floors??null,this._exportImageParameters.scale=(0,l.i)({extent:e,width:t})*s;const o=this._exportImageParameters.toJSON(),a=!i?.rotation||this.version<10.3?{}:{rotation:-i.rotation},u=e?.spatialReference,c=(0,n.bn)(u);o.dpi*=s;const f={};if(i?.timeExtent){const{start:e,end:t}=i.timeExtent.toJSON();f.time=e&&t&&e===t?""+e:`${e??"null"},${t??"null"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(f.time="null,null");return{bbox:e&&e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:c,imageSR:c,size:t+","+r,...o,...a,...f}}async fetchImage(e,t,r,n){const{data:i}=await this._fetchImage("image",e,t,r,n);return i}async fetchImageBitmap(e,t,r,n){const{data:i,url:s}=await this._fetchImage("blob",e,t,r,n);return(0,E.t)(i,s,n?.signal)}async fetchRecomputedExtents(e={}){const t={...e,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}},{data:r}=await(0,n.U)(this.url,t),{extent:i,fullExtent:s,timeExtent:l}=r,o=i||s;return{fullExtent:o&&n.au.fromJSON(o),timeExtent:l&&C.p.fromJSON({start:l[0],end:l[1]})}}loadAll(){return(0,i.t)(this,(e=>{e(this.allSublayers),e(this.subtables)}))}serviceSupportsSpatialReference(e){return(0,R.t)(this,e)}async _fetchImage(e,t,r,i,s){const l={responseType:e,signal:s?.signal??null,query:{...this.parsedUrl.query,...this.createExportImageParameters(t,r,i,s),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}},o=this.parsedUrl.path+"/export";if(null!=l.query?.dynamicLayers&&!this.capabilities?.exportMap?.supportsDynamicLayers)throw new n.s("mapimagelayer:dynamiclayer-not-supported",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:l.query});try{const{data:e}=await(0,n.U)(o,l);return{data:e,url:o}}catch(a){throw(0,n.E)(a)?a:new n.s("mapimagelayer:image-fetch-error",`Unable to load image: ${o}`,{error:a})}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const{data:t,ssl:r}=await(0,n.U)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});r&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})}hasVisibleLayersForOrigin(e){return!(null==e||!this.sublayersSourceJSON[e]?.visibleLayers)}};(0,n.k)([(0,n.o)((0,n.bo)("dateFieldsTimeReference"))],I.prototype,"dateFieldsTimeZone",void 0),(0,n.k)([(0,n.o)({type:Boolean})],I.prototype,"datesInUnknownTimezone",void 0),(0,n.k)([(0,n.o)()],I.prototype,"dpi",void 0),(0,n.k)([(0,n.o)()],I.prototype,"gdbVersion",void 0),(0,n.k)([(0,n.o)()],I.prototype,"imageFormat",void 0),(0,n.k)([(0,n.u)("imageFormat",["supportedImageFormatTypes"])],I.prototype,"readImageFormat",null),(0,n.k)([(0,n.o)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],I.prototype,"imageMaxHeight",void 0),(0,n.k)([(0,n.o)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],I.prototype,"imageMaxWidth",void 0),(0,n.k)([(0,n.o)()],I.prototype,"imageTransparency",void 0),(0,n.k)([(0,n.o)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],I.prototype,"isReference",void 0),(0,n.k)([(0,n.o)({json:{read:!1,write:!1}})],I.prototype,"labelsVisible",void 0),(0,n.k)([(0,n.o)({type:["ArcGISMapServiceLayer"]})],I.prototype,"operationalLayerType",void 0),(0,n.k)([(0,n.o)({json:{read:!1,write:!1}})],I.prototype,"popupEnabled",void 0),(0,n.k)([(0,n.o)((0,n.bo)("preferredTimeReference"))],I.prototype,"preferredTimeZone",void 0),(0,n.k)([(0,n.o)()],I.prototype,"sourceJSON",void 0),(0,n.k)([(0,n.o)({json:{write:{ignoreOrigin:!0}}})],I.prototype,"sublayers",void 0),(0,n.k)([(0,n.q)("sublayers",{layers:{type:[u.t]},visibleLayers:{type:[n.bp]}})],I.prototype,"writeSublayers",null),(0,n.k)([(0,n.o)({type:["show","hide","hide-children"]})],I.prototype,"listMode",void 0),(0,n.k)([(0,n.o)({json:{read:!1},readOnly:!0,value:"map-image"})],I.prototype,"type",void 0),(0,n.k)([(0,n.o)(g.y)],I.prototype,"url",void 0),I=(0,n.k)([(0,n.A)("esri.layers.MapImageLayer")],I);const P=I},50293:function(e,t,r){r.d(t,{j:function(){return l}});var n=r(98503),i=r(2031),s=r(83297);const l=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,n.C)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,r){if(t.itemId)return new i["default"]({id:t.itemId,portal:r?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:i}=await Promise.all([r.e(3338),r.e(1128)]).then(r.bind(r,21128));return(0,n.D)(t),await i({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(i){throw(0,n.E)(i)||n.n.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${i}`),i}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,n.G)(e),!0))))}async setUserPrivileges(e,t){if(!n.H.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:r,fullEdit:n},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",r),this._set("userHasFullEditingPrivileges",n),this._set("userHasUpdateItemPrivileges",i)}catch(r){(0,n.G)(r)}}async _fetchUserPrivileges(e,t){let r=this.portalItem;if(!e||!r||!r.loaded||r.sourceUrl)return this._fetchFallbackUserPrivileges(t);const l=e===r.id;if(l&&r.portal.user)return(0,s.E)(r);let o,a;if(l)o=r.portal.url;else try{o=await(0,n.J)(this.url,t)}catch(d){(0,n.G)(d)}if(!o||!(0,n.W)(o,r.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;a=await(n.K?.getCredential(`${o}/sharing`,{prompt:!1,signal:e}))}catch(d){(0,n.G)(d)}const u=!0,c=!1,f=!1;if(!a)return{features:{edit:u,fullEdit:c},content:{updateItem:f}};try{if(l?await r.reload():(r=new i["default"]({id:e,portal:{url:o}}),await r.load(t)),r.portal.user)return(0,s.E)(r)}catch(d){(0,n.G)(d)}return{features:{edit:u,fullEdit:c},content:{updateItem:f}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(r){(0,n.G)(r)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?n.K?.findCredential(this.url):null;if(!t)return!0;const r=o.credential===t?o.user:await this._fetchEditingUser(e);return o.credential=t,o.user=r,null==r?.privileges||r.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const r=n.K?.findServerInfo(this.url??"");if(!r?.owningSystemUrl)return null;const i=`${r.owningSystemUrl}/sharing/rest`,s=n.b.getDefault();if(s&&s.loaded&&(0,n.L)(s.restUrl)===(0,n.L)(i))return s.user;const l=`${i}/community/self`,o=null!=e?e.signal:null,a=await(0,n._)((0,n.U)(l,{authMode:"no-prompt",query:{f:"json"},signal:o}));return a.ok?n.M.fromJSON(a.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const r=t?.portal,i=this.portalItem?.id&&(this.portalItem.portal||n.b.getDefault());return r&&i&&!(0,n.N)(i.restUrl,r.restUrl)?(t.messages&&t.messages.push(new n.s("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,n.k)([(0,n.o)({type:i["default"]})],t.prototype,"portalItem",null),(0,n.k)([(0,n.u)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,n.k)([(0,n.q)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,n.k)([(0,n.o)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,n.k)([(0,n.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,n.k)([(0,n.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,n.k)([(0,n.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,n.k)([(0,n.A)("esri.layers.mixins.PortalLayer")],t),t},o={credential:null,user:null}},47603:function(e,t,r){r.d(t,{f:function(){return o},l:function(){return a}});var n=r(98503),i=r(20014),s=r(75863),l=r(50257);const o={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:i.a}}},a=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const r=t.timeInfo.exportOptions;if(!r)return null;const n=r.timeOffset,i=s.e.fromJSON(r.timeOffsetUnits);return n&&i?new s.l({value:n,unit:i}):null}set timeInfo(e){(0,n.aZ)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,n.k)([(0,n.o)({type:l.p,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,n.k)([(0,n.o)({type:s.l})],t.prototype,"timeOffset",void 0),(0,n.k)([(0,n.u)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,n.k)([(0,n.o)({value:null,type:s.d,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,n.k)([(0,n.o)(o)],t.prototype,"useViewTime",void 0),t=(0,n.k)([(0,n.A)("esri.layers.mixins.TemporalLayer")],t),t}},75863:function(e,t,r){r.d(t,{d:function(){return c},e:function(){return s},l:function(){return o}});var n=r(98503),i=r(50257);const s=(0,n.g)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let l=class extends((0,n.a_)(n.v)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,i.m)(this.value,this.unit,"milliseconds")}};(0,n.k)([(0,n.bk)(s,{nonNullable:!0})],l.prototype,"unit",void 0),(0,n.k)([(0,n.o)({type:Number,json:{write:!0},nonNullable:!0})],l.prototype,"value",void 0),l=(0,n.k)([(0,n.A)("esri.time.TimeInterval")],l);const o=l;function a(e,t){return o.fromJSON({value:e,unit:t})}let u=class extends((0,n.a_)(n.v)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?i.p.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?a(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?a(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,n.k)([(0,n.o)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],u.prototype,"cumulative",void 0),(0,n.k)([(0,n.o)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"endField",void 0),(0,n.k)([(0,n.o)({type:i.p,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"fullTimeExtent",void 0),(0,n.k)([(0,n.u)("fullTimeExtent",["timeExtent"])],u.prototype,"readFullTimeExtent",null),(0,n.k)([(0,n.q)("fullTimeExtent")],u.prototype,"writeFullTimeExtent",null),(0,n.k)([(0,n.o)({type:Boolean,json:{write:!0}})],u.prototype,"hasLiveData",void 0),(0,n.k)([(0,n.o)({type:o,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"interval",void 0),(0,n.k)([(0,n.u)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],u.prototype,"readInterval",null),(0,n.k)([(0,n.q)("interval")],u.prototype,"writeInterval",null),(0,n.k)([(0,n.o)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"startField",void 0),(0,n.k)([(0,n.o)((0,n.bo)("timeReference",!0))],u.prototype,"timeZone",void 0),(0,n.k)([(0,n.o)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"trackIdField",void 0),(0,n.k)([(0,n.o)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],u.prototype,"useTime",void 0),(0,n.k)([(0,n.o)({type:[Date],json:{read:!1}})],u.prototype,"stops",void 0),u=(0,n.k)([(0,n.A)("esri.layers.support.TimeInfo")],u);const c=u},5948:function(e,t,r){r.d(t,{C:function(){return _},S:function(){return y},b:function(){return g},d:function(){return c},g:function(){return p},h:function(){return f},m:function(){return d},p:function(){return u},w:function(){return h},y:function(){return m}});var n=r(98503);const i={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},s=Object.values(i),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),o=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${s.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function u(e){return l.test(e)}function c(e){if(null==e)return null;const t=(0,n.I)(e),r=t?.path.match(l)||t?.path.match(o);if(!r)return null;const[,s,a,u,c]=r,f=a.indexOf("/");return{title:d(-1!==f?a.slice(f+1):a),serverType:i[u.toLowerCase()],sublayer:null!=c&&""!==c?parseInt(c,10):null,url:{path:s}}}function f(e){const t=(0,n.I)(e).path.match(a);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function d(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function h(e,t){const r=[];if(e){const t=c(e);null!=t&&t.title&&r.push(t.title)}if(t){const e=d(t);r.push(e)}if(2===r.length){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function p(e){let t=(0,n.X)(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function m(e,t){return e&&(0,n.Q)((0,n.S)(e,t))}function y(e){let{url:t}=e;if(!t)return{url:t};t=(0,n.S)(t,e.logger);const r=(0,n.I)(t),i=c(r.path);let s;if(null!=i)null!=i.sublayer&&null==e.layer.layerId&&(s=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const e=f(r.path);null!=e&&(t=e.serviceUrl,s=e.sublayerId)}return{url:(0,n.Q)(t),layerId:s}}function _(e,t,r,i,s){(0,n.T)(t,i,"url",s),i.url&&null!=e.layerId&&(i.url=(0,n.Z)(i.url,r,e.layerId.toString()))}function g(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)}},49600:function(e,t,r){function n(e){const t=e.layer;return"floorInfo"in t&&t.floorInfo?.floorField&&"floors"in e.view?s(e.view.floors,t.floorInfo.floorField):null}function i(e,t){return"floorInfo"in t&&t.floorInfo?.floorField?s(e,t.floorInfo.floorField):null}function s(e,t){if(!e?.length)return null;const r=e.filter((e=>""!==e)).map((e=>`'${e}'`));return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}r.d(t,{n:function(){return i},o:function(){return n}})},83297:function(e,t,r){r.d(t,{E:function(){return h},a:function(){return u},c:function(){return a},f:function(){return d},i:function(){return l},l:function(){return f},s:function(){return o},u:function(){return c}});var n=r(49555),i=r(98503);async function s(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,i.a0)(e);const r=i.B.WGS84;return await(0,n.N)(t,r),(0,n.K)(e,r)}function l(e,t){if(!o(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function o(e,t){return!!e.typeKeywords?.includes(t)}function a(e){return o(e,d.HOSTED_SERVICE)}function u(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function c(e,t,r){r?l(e,t):u(e,t)}async function f(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return s(r)}const d={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function h(e){const{portal:t,isOrgItem:r,itemControl:n}=e,i=t.user?.privileges;let s=!i||i.includes("features:user:edit"),l=!!r&&!!i?.includes("features:user:fullEdit");const o="update"===n||"admin"===n;return o?l=s=!0:l&&(s=!0),{features:{edit:s,fullEdit:l},content:{updateItem:o}}}},85502:function(e,t,r){r.r(t),r.d(t,{E:function(){return J},F:function(){return h},G:function(){return d},L:function(){return f},N:function(){return c},d:function(){return u},e:function(){return q},i:function(){return i},l:function(){return B},n:function(){return te},p:function(){return re},t:function(){return s}});var n=r(98503);const i=Math.PI/180,s=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,l=n.a3.radius,o=n.a3.eccentricitySquared,a={a1:l*o,a2:l*o*l*o,a3:l*o*o/2,a4:l*o*l*o*2.5,a5:l*o+l*o*o/2,a6:1-o},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:n.a3.radius,f:n.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:n.fs.radius,f:n.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:n.ft.radius,f:n.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:n.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var c;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(c||(c={}));const f={[c.WGS84]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:M,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:E,[c.WGS84]:p,[c.WGS84_ECEF]:W},[c.CGCS2000]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:M,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:E,[c.WGS84]:p,[c.WGS84_ECEF]:W},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:p,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:w,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:L,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:m,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:m,[c.SPHERICAL_ECEF]:y,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:p,[c.PLATE_CARREE]:R,[c.WGS84]:m,[c.WGS84_ECEF]:_},[c.WGS84_ECEF]:{[c.CGCS2000]:U,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:U,[c.SPHERICAL_ECEF]:H,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:j,[c.PLATE_CARREE]:C,[c.WGS84]:U,[c.WGS84_ECEF]:p},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:x,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:x,[c.SPHERICAL_ECEF]:p,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:G,[c.PLATE_CARREE]:I,[c.WGS84]:x,[c.WGS84_ECEF]:F},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:T,[c.GCSMOON2000]:null,[c.LON_LAT]:T,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:p,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:k,[c.LON_LAT]:k,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:p,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:p,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:p,[c.GCSMARS2000]:p,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:M,[c.SPHERICAL_MARS_PCPF]:w,[c.SPHERICAL_MOON_PCPF]:L,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:E,[c.WGS84]:p,[c.WGS84_ECEF]:W},[c.PLATE_CARREE]:{[c.CGCS2000]:v,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:v,[c.SPHERICAL_ECEF]:P,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:A,[c.PLATE_CARREE]:p,[c.WGS84]:v,[c.WGS84_ECEF]:O}};function d(e,t,r=D()){return null==e||null==t?null:K(e,t,r).projector}function h(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,n.bq)(e,1)),(0,n.fv)(e)?t.spatialReferenceId=c.SPHERICAL_ECEF:(0,n.cb)(e)?t.spatialReferenceId=c.WGS84:(0,n.cL)(e)?t.spatialReferenceId=c.WEB_MERCATOR:(0,n.fw)(e)?t.spatialReferenceId=c.PLATE_CARREE:e.wkt===n.c4.wkt?t.spatialReferenceId=c.WGS84_ECEF:e.wkid===n.fx.CGCS2000?t.spatialReferenceId=c.CGCS2000:e.wkt===n.c2.wkt?t.spatialReferenceId=c.SPHERICAL_MARS_PCPF:e.wkt===n.c3.wkt?t.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,n.eD)(e)?t.spatialReferenceId=c.GCSMARS2000:(0,n.eE)(e)?t.spatialReferenceId=c.GCSMOON2000:t.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function p(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function m(e,t,r,n){r[n]=V*(e[t]/Q),r[n+1]=V*(Y-2*Math.atan(Math.exp(-e[t+1]/Q))),r[n+2]=e[t+2]}function y(e,t,r,n){const i=e[t]/Q,s=Y-2*Math.atan(Math.exp(-e[t+1]/Q)),l=Q+e[t+2],o=Math.cos(s)*l;r[n]=Math.cos(i)*o,r[n+1]=Math.sin(i)*o,r[n+2]=Math.sin(s)*l}function _(e,t,r,n){m(e,t,r,n),W(r,n,r,n)}function g(e,t,r,i,s){const l=.4999999*Z,o=(0,n.aP)($*e[t+1],-l,l),a=Math.sin(o);r[i++]=$*e[t]*s.radius,r[i++]=s.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[i]=e[t+2]}function S(e,t,r,i){g(e,t,r,i,n.a3)}function E(e,t,r,n){r[n]=e[t]*X,r[n+1]=e[t+1]*X,r[n+2]=e[t+2]}function v(e,t,r,n){r[n]=e[t]*ee,r[n+1]=e[t+1]*ee,r[n+2]=e[t+2]}function R(e,t,r,n){m(e,t,r,n),E(r,n,r,n)}function C(e,t,r,n){U(e,t,r,n),E(r,n,r,n)}function I(e,t,r,n){x(e,t,r,n),E(r,n,r,n)}function P(e,t,r,n){v(e,t,r,n),M(r,n,r,n)}function A(e,t,r,n){v(e,t,r,n),S(r,n,r,n)}function O(e,t,r,n){v(e,t,r,n),W(r,n,r,n)}function b(e,t,r,n,i){const s=i+e[t+2],l=$*e[t+1],o=$*e[t],a=Math.cos(l)*s;r[n]=Math.cos(o)*a,r[n+1]=Math.sin(o)*a,r[n+2]=Math.sin(l)*s}function L(e,t,r,i){b(e,t,r,i,n.fs.radius)}function w(e,t,r,i){b(e,t,r,i,n.ft.radius)}function M(e,t,r,i){b(e,t,r,i,n.a3.radius)}function N(e,t,r,i,s){const l=e[t],o=e[t+1],a=e[t+2],u=Math.sqrt(l*l+o*o+a*a),c=(0,n.fu)(a/(0===u?1:u)),f=Math.atan2(o,l);r[i++]=V*f,r[i++]=V*c,r[i]=u-s}function k(e,t,r,i){N(e,t,r,i,n.fs.radius)}function T(e,t,r,i){N(e,t,r,i,n.ft.radius)}function x(e,t,r,i){N(e,t,r,i,n.a3.radius)}function G(e,t,r,n){x(e,t,r,n),S(r,n,r,n)}function F(e,t,r,n){x(e,t,r,n),W(r,n,r,n)}function z(e,t,r,n,i){const s=$*e[t],l=$*e[t+1],o=e[t+2],a=Math.sin(l),u=Math.cos(l),c=i.radius/Math.sqrt(1-i.eccentricitySquared*a*a);r[n++]=(c+o)*u*Math.cos(s),r[n++]=(c+o)*u*Math.sin(s),r[n++]=(c*(1-i.eccentricitySquared)+o)*a}function W(e,t,r,i){z(e,t,r,i,n.a3)}function U(e,t,r,i){const s=a,l=e[t],o=e[t+1],u=e[t+2];let c,f,d,h,p,m,y,_,g,S,E,v,R,C,I,P,A,O,b,L,w;c=Math.abs(u),f=l*l+o*o,d=Math.sqrt(f),h=f+u*u,p=Math.sqrt(h),L=Math.atan2(o,l),m=u*u/h,y=f/h,C=s.a2/p,I=s.a3-s.a4/p,y>.3?(_=c/p*(1+y*(s.a1+C+m*I)/p),b=Math.asin(_),S=_*_,g=Math.sqrt(1-S)):(g=d/p*(1-m*(s.a5-C-y*I)/p),b=Math.acos(g),S=1-g*g,_=Math.sqrt(S)),E=1-n.a3.eccentricitySquared*S,v=n.a3.radius/Math.sqrt(E),R=s.a6*v,C=d-v*g,I=c-R*_,A=g*C+_*I,P=g*I-_*C,O=P/(R/E+A),b+=O,w=A+P*O/2,u<0&&(b=-b),r[i++]=V*L,r[i++]=V*b,r[i]=w}function H(e,t,r,n){U(e,t,r,n),M(r,n,r,n)}function j(e,t,r,n){U(e,t,r,n),S(r,n,r,n)}function K(e,t,r){if(null==e||null==t||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const i=h(e,r.source),s=h(t,r.dest);return i===c.UNKNOWN&&s===c.UNKNOWN?(0,n.bh)(e,t)?r.projector=p:r.projector=null:r.projector=f[i][s],r}function D(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:p}}const B={spatialReference:null,spatialReferenceId:c.UNKNOWN},q={spatialReference:null,spatialReferenceId:c.UNKNOWN},J=D(),$=(0,n.eI)(1),V=(0,n.dg)(1),Z=Math.PI,Y=.5*Z,Q=n.a3.radius,X=Q*Z/180,ee=180/(Q*Z);function te(e,t,r,n,i,s,l=Math.floor(e.length/3)){const o=d(t,i,J);if(null==o)return!1;if(o===p){if(e===n&&r===s)return!0;const t=r+3*l;for(let i=r,l=s;i<t;i++,l++)n[l]=e[i];return!0}const a=r+3*l;for(let u=r,c=s;u<a;u+=3,c+=3)o(e,u,n,c);return!0}const re=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:te},Symbol.toStringTag,{value:"Module"}))},49555:function(e,t,r){r.r(t),r.d(t,{B:function(){return C},H:function(){return x},J:function(){return F},K:function(){return A},L:function(){return z},N:function(){return W},O:function(){return O},Q:function(){return U},V:function(){return b},W:function(){return P},X:function(){return L},Y:function(){return w},_:function(){return v},a:function(){return J},o:function(){return c},p:function(){return X},s:function(){return u}});var n=r(98503),i=r(85502);function s(e,t,r,n,s,o){return l[0]=e,l[1]=t,l[2]=r,(0,i.n)(l,n,0,s,o,0)}const l=(0,n.aA)();let o=0;class a{static fromGE(e){const t=new a;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=o++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=o++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=o++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=o++}getInverse(){const e=new a;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let u=class e{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(t){const r=new e;let n="";for(const e of t.steps){const t=a.fromGE(e);r.steps.push(t),n+=t.uid.toString()+","}return r._cachedProjection={},r._gtlistentry=null,r._chain=n,r}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof a?this.steps.push(t):this.steps.push(new a({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const t=new e;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const r=this.steps[e];t.steps.push(r.getInverse())}return t}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(t,r,n){this._cachedProjection[e.cacheKey(t,r)]=n}getCachedGeTransformation(t,r){let n="";for(const e of this.steps)n+=e.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[e.cacheKey(t,r)];return void 0===i?null:i}};function c(e,t,r){if(null==t||null==r||r.vcsWkid||(0,n.bh)(t,r)||(0,n.gK)(t)||(0,n.gK)(r))return null;const i=(0,n.bg)(t)/(0,n.bg)(r);if(1===i)return null;switch(e){case"point":case"esriGeometryPoint":return e=>f(e,i);case"polyline":case"esriGeometryPolyline":return e=>h(e,i);case"polygon":case"esriGeometryPolygon":return e=>d(e,i);case"multipoint":case"esriGeometryMultipoint":return e=>p(e,i);case"extent":case"esriGeometryEnvelope":return e=>m(e,i);default:return null}}function f(e,t){null!=e?.z&&(e.z*=t)}function d(e,t){if(e)for(const r of e.rings)for(const e of r)e.length>2&&(e[2]*=t)}function h(e,t){if(e)for(const r of e.paths)for(const e of r)e.length>2&&(e[2]*=t)}function p(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function m(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}let y=null,_=null,g=null,S={};const E=new n.aQ;function v(){return!!y&&(0,n.gN)()}function R(){return!!v()||((0,n.aR)(E),P(),!1)}function C(e,t){return!e||!t||F(e,t)||R()}function I(e,t){return!F(e,t)&&!v()}function P(e){return null==g&&(g=Promise.all([(0,n.gL)(),Promise.all([r.e(916),r.e(2020)]).then(r.bind(r,90916)).then((e=>e.g)),r.e(6582).then(r.bind(r,6582))])),g.then((([,t,{hydratedAdapter:r}])=>{(0,n.D)(e),_=r,y=t.default,y._enableProjection(n.gM),E.notify()}))}function A(e,t,r=null,n=null){return Array.isArray(e)?0===e.length?[]:O(_,e,e[0].spatialReference,t,r,n):O(_,[e],e.spatialReference,t,r,n)[0]}function O(e,t,r,i,s=null,l=null){if(null==r||null==i)return t;if(F(r,i,s))return t.map((e=>U(e,r,i)));if(null==s&&(0,n.fv)(r))return t.map((e=>U(e,r,n.B.WGS84))).map((e=>x(e,i)));if(null==s&&(0,n.fv)(i))return t.map((e=>x(e,n.B.WGS84))).map((e=>U(e,n.B.WGS84,i)));if(null==s){const e=u.cacheKey(r,i);void 0!==S[e]?s=S[e]:(null==(s=w(r,i,void 0))&&(s=new u),S[e]=s)}if(null==y||null==e)throw new N;return null!=l?y._project(e,t,r,i,s,l):y._project(e,t,r,i,s)}function b(e,t){const r=L([e],t);return null!=r.pending?{pending:r.pending,geometry:null}:null!=r.geometries?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function L(e,t){if(!v())for(const r of e)if(null!=r&&!(0,n.bh)(r.spatialReference,t)&&(0,n.cg)(r.spatialReference)&&(0,n.cg)(t)&&!F(r.spatialReference,t))return(0,n.aR)(E),{pending:P(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,n.bh)(e.spatialReference,t)?e:(0,n.cg)(e.spatialReference)&&(0,n.cg)(t)?x(e,t):null))}}function w(e,t,r=null){if(null==e||null==t)return null;if(null==y||null==_)throw new N;const n=y._getTransformation(_,e,t,r,r?.spatialReference);return null!==n?u.fromGE(n):null}function M(e,t,r=null){if(null==y||null==_)throw new N;const n=y._getTransformationBySuitability(_,e,t,r,r?.spatialReference);if(null!==n){const e=[];for(const t of n)e.push(u.fromGE(t));return e}return[]}class N extends n.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function k(){y=null,_=null,g=null,S={}}const T={get loadPromise(){return g}};function x(e,t){try{const r=A(e,t);return null==r?null:("xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax),c(r.type,e.spatialReference,t)?.(r),r)}catch(r){if(!(r instanceof N))throw r;return null}}async function G(e,t,r){const n=e.spatialReference;return null!=n&&null!=t&&await W(n,t,null,r),x(e,t)}function F(e,t,r){return!r&&(!!(0,n.bh)(e,t)||(0,n.cg)(e)&&(0,n.cg)(t)&&!!(0,i.G)(e,t,i.E))}function z(e,t){if((0,n.bh)(e,t))return!0;if(!(0,n.cg)(e)||!(0,n.cg)(t))return!1;const r=(0,n.cb)(e)||(0,n.cL)(e)||(0,n.eC)(e),i=(0,n.cb)(t)||(0,n.cL)(t)||(0,n.eC)(t);return r&&i}async function W(e,t,r,i){if(v())return(0,n.O)(i);if(Array.isArray(e)){for(const{source:n,dest:s,geographicTransformation:l}of e)if(n&&s&&!F(n,s,l))return P(i)}else if(e&&t&&!F(e,t,r))return P(i);return(0,n.O)(i)}function U(e,t,r){return e?"x"in e?j(e,t,new n.bv,r,0):"xmin"in e?Z(e,t,new n.au,r,0):"rings"in e?$(e,t,new n.bC,r,0):"paths"in e?q(e,t,new n.aT,r,0):"points"in e?D(e,t,new n.bD,r,0):null:null}function H(e,t,r=t.spatialReference,n=0){return null!=r&&null!=e.spatialReference&&null!=j(e,e.spatialReference,t,r,n)}function j(e,t,r,s,l){Q[0]=e.x,Q[1]=e.y;const o=e.z;return Q[2]=void 0!==o?o:l,(0,i.n)(Q,t,0,Q,s,0)?(r.x=Q[0],r.y=Q[1],r.spatialReference=s,void 0!==o||(0,n.gK)(s)?(r.z=Q[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),void 0===e.m?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function K(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=D(e,e.spatialReference,t,r,n)}function D(e,t,r,s,l){const{points:o,hasZ:a,hasM:u}=e,c=[],f=o.length,d=[];for(const n of o)d.push(n[0],n[1],a?n[2]:l);if(!(0,i.n)(d,t,0,d,s,0,f))return null;const h=a||(0,n.gK)(s);for(let n=0;n<f;++n){const e=3*n,t=d[e],r=d[e+1];h&&u?c.push([t,r,d[e+2],o[n][3]]):h?c.push([t,r,d[e+2]]):u?c.push([t,r,o[n][2]]):c.push([t,r])}return r.points=c,r.spatialReference=s,r.hasZ=a,r.hasM=u,r}function B(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=q(e,e.spatialReference,t,r,n)}function q(e,t,r,i,s){const{paths:l,hasZ:o,hasM:a}=e,u=[];if(!Y(l,o??!1,a??!1,t,u,i,s))return null;const c=o||(0,n.gK)(i);return r.paths=u,r.spatialReference=i,r.hasZ=c,r.hasM=a,r}function J(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=$(e,e.spatialReference,t,r,n)}function $(e,t,r,i,s){const{rings:l,hasZ:o,hasM:a}=e,u=[];if(!Y(l,o??!1,a??!1,t,u,i,s))return null;const c=o||(0,n.gK)(i);return r.rings=u,r.spatialReference=i,r.hasZ=c,r.hasM=a,r}function V(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=Z(e,e.spatialReference,t,r,n)}function Z(e,t,r,i,l){const{xmin:o,ymin:a,xmax:u,ymax:c,hasZ:f,hasM:d}=e,h=f?e.zmin:l;if(!s(o,a,h,t,Q,i))return null;const p=f||(0,n.gK)(i);r.xmin=Q[0],r.ymin=Q[1],p&&(r.zmin=Q[2]);const m=f?e.zmax:l;return s(u,c,m,t,Q,i)?(r.xmax=Q[0],r.ymax=Q[1],p&&(r.zmax=Q[2]),d&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=i,r):null}function Y(e,t,r,s,l,o,a=0){const u=new Array;for(const n of e)for(const e of n)u.push(e[0],e[1],t?e[2]:a);if(!(0,i.n)(u,s,0,u,o,0))return!1;let c=0;l.length=0;const f=t||(0,n.gK)(o);for(const n of e){const e=new Array;for(const t of n)f&&r?e.push([u[c++],u[c++],u[c++],t[3]]):f?e.push([u[c++],u[c++],u[c++]]):r?(e.push([u[c++],u[c++],t[2]]),c++):(e.push([u[c++],u[c++]]),c++);l.push(e)}return!0}const Q=(0,n.aA)(),X=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:F,getTransformation:w,getTransformations:M,initializeProjection:W,isEqualBaseGCS:z,isLoaded:v,isLoadedOrLoad:R,isLoadedOrLoadFor:C,load:P,project:A,projectExtent:V,projectMany:O,projectMultipoint:K,projectOrLoad:b,projectOrLoadMany:L,projectPoint:H,projectPolygon:J,projectPolyline:B,projectWithZConversion:G,projectWithoutEngine:U,requiresLoad:I,test:T,tryProjectWithZConversion:x,unload:k},Symbol.toStringTag,{value:"Module"}))},82047:function(e,t,r){r.d(t,{d:function(){return o},i:function(){return s},o:function(){return l}});var n=r(98503);const i=96;function s(e,t){const r=e.extent,s=e.width,l=(0,n.bq)(r?.spatialReference);return r&&s?r.width/s*l*n.br*i:0}function l(e,t){return e/((0,n.bq)(t)*n.br*i)}function o(e,t,r){return a(e,t)&&u(e,r)}function a(e,t){return 0===t||(0,n.bs)(e,t)||e<t}function u(e,t){return 0===t||(0,n.bs)(e,t)||e>t}},27505:function(e,t,r){r.d(t,{t:function(){return s}});var n=r(5948);const i=[];function s(e,t){if((0,n.g)(e.url??""))return!0;const{wkid:r}=t;for(const n of i){if((e.version??0)>=n[0])return!0;if("function"==typeof n[1]&&(n[1]=n[1]()),n[1].has(r))return!1}return!0}i.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),i.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),i.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),i.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),i.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}])}}]);
//# sourceMappingURL=6033.8de40e9a.js.map