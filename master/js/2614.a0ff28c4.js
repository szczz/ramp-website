"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[2614],{42614:function(t,e,n){n.d(e,{a:function(){return o},e:function(){return p},n:function(){return g}});var r=n(98503),i=n(80774),s=n(80910);const a=-1;let o=class extends r.aD{constructor(t){super(t),this._from=null,this._to=null,this._final=null,this._current=[],this._time=0,this.duration=(0,r.a$)("mapview-transitions-duration"),this.effects=[]}set effect(t){if(this._get("effect")!==(t=t||"")){this._set("effect",t);try{this._transitionTo(c(t))}catch(e){this._transitionTo([]),r.n.getLogger(this).warn("Invalid Effect",{effect:t,error:e})}}}get final(){return this._final}get hasEffects(){return this.transitioning||!!this.effects.length}set scale(t){this._updateForScale(t)}get transitioning(){return null!==this._to}canTransitionTo(t){try{return this.scale>0&&u(this._current,c(t),this.scale)}catch{return!1}}transitionStep(t,e){this._applyTimeTransition(t),this._updateForScale(e)}endTransition(){this._applyTimeTransition(this.duration)}_transitionTo(t){this.scale>0&&u(this._current,t,this.scale)?(this._final=t,this._to=(0,r.f)(t),l(this._current,this._to,this.scale),this._from=(0,r.f)(this._current),this._time=0):(this._from=this._to=this._final=null,this._current=t),this._set("effects",this._current[0]?(0,r.f)(this._current[0].effects):[])}_applyTimeTransition(t){if(!(this._to&&this._from&&this._current&&this._final))return;this._time+=t;const e=Math.min(1,this._time/this.duration);for(let n=0;n<this._current.length;n++){const t=this._current[n],r=this._from[n],i=this._to[n];t.scale=h(r.scale,i.scale,e);for(let n=0;n<t.effects.length;n++){const s=t.effects[n],a=r.effects[n],o=i.effects[n];s.interpolate(a,o,e)}}1===e&&(this._current=this._final,this._set("effects",this._current[0]?(0,r.f)(this._current[0].effects):[]),this._from=this._to=this._final=null)}_updateForScale(t){if(this._set("scale",t),0===this._current.length)return;const e=this._current,n=this._current.length-1;let r,i,s=1;if(1===e.length||t>=e[0].scale)i=r=e[0].effects;else if(t<=e[n].scale)i=r=e[n].effects;else for(let a=0;a<n;a++){const n=e[a],o=e[a+1];if(n.scale>=t&&o.scale<=t){s=(t-n.scale)/(o.scale-n.scale),r=n.effects,i=o.effects;break}}for(let a=0;a<this.effects.length;a++)this.effects[a].interpolate(r[a],i[a],s)}};function c(t){const e=(0,s.d)(t)||[];return f(e)?[{scale:a,effects:e}]:e}function u(t,e,n){return!t[0]?.effects||!e[0]?.effects||!((t[0]?.scale===a||e[0]?.scale===a)&&(t.length>1||e.length>1)&&n<=0)&&(0,s.t)(t[0].effects,e[0].effects)}function l(t,e,n){const r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=i[i.length-1],c=o?.scale??n,u=o?.effects??[];for(let s=i.length;s<r.length;s++)i.push({scale:c,effects:[...u]});for(let l=0;l<r.length;l++)i[l].scale=i[l].scale===a?n:i[l].scale,r[l].scale=r[l].scale===a?n:r[l].scale,(0,s.e)(i[l].effects,r[l].effects)}function h(t,e,n){return t+(e-t)*n}function f(t){const e=t[0];return!!e&&"type"in e}(0,r.k)([(0,r.o)()],o.prototype,"_to",void 0),(0,r.k)([(0,r.o)()],o.prototype,"duration",void 0),(0,r.k)([(0,r.o)({value:""})],o.prototype,"effect",null),(0,r.k)([(0,r.o)({readOnly:!0})],o.prototype,"effects",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],o.prototype,"final",null),(0,r.k)([(0,r.o)({readOnly:!0})],o.prototype,"hasEffects",null),(0,r.k)([(0,r.o)({value:0})],o.prototype,"scale",null),(0,r.k)([(0,r.o)({readOnly:!0})],o.prototype,"transitioning",null),o=(0,r.k)([(0,r.A)("esri.layers.effects.EffectView")],o);let d=class extends r.aD{constructor(t){super(t),this.computedOpacity=1,this.computedVisible=!0,this.opacity=1,this.visible=!0,this._fadeOutResolver=null,this._fadeInResolver=null}get transitioning(){return(this._fadeOutResolver||!this.visible?0:this.opacity)!==this.computedOpacity}endTransition(){this._fadeInResolver?.(),this._fadeOutResolver?.(),this._fadeInResolver=this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0}fadeIn(){return this._fadeInResolver||(this.opacity=1,this.computedOpacity=0,this._fadeOutResolver?.(),this._fadeOutResolver=null,this._fadeInResolver=(0,r.aM)()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver?.(),this._fadeInResolver=null,this._fadeOutResolver=(0,r.aM)()),this._fadeOutResolver.promise}transitionStep(t,e){const n=(0,r.a$)("mapview-transitions-duration"),i=n?1/n:0;if(0===i)this.computedOpacity=this.opacity,this.computedVisible=this.visible;else{const e=this._fadeOutResolver||!this.visible?0:this.opacity,n=this.computedOpacity;if(n===e)this.computedVisible=this.visible;else{const r=t*i;this.computedOpacity=n>e?Math.max(e,n-r):Math.min(e,n+r),this.computedVisible=this.computedOpacity>0}}this.transitioning||(this._fadeInResolver?.(),this._fadeOutResolver?.(),this._fadeOutResolver=this._fadeInResolver=null)}};(0,r.k)([(0,r.o)()],d.prototype,"computedOpacity",void 0),(0,r.k)([(0,r.o)()],d.prototype,"computedVisible",void 0),(0,r.k)([(0,r.o)()],d.prototype,"opacity",void 0),(0,r.k)([(0,r.o)()],d.prototype,"visible",void 0),(0,r.k)([(0,r.o)()],d.prototype,"transitioning",null),(0,r.k)([(0,r.o)()],d.prototype,"_fadeOutResolver",void 0),(0,r.k)([(0,r.o)()],d.prototype,"_fadeInResolver",void 0),d=(0,r.k)([(0,r.A)("esri.views.2d.engine.transitions.FadeTransition")],d);class p extends r.bP{constructor(){super(...arguments),this._transitionables=null,this._clips=null,this._fadeTransition=null,this._isReady=!1,this._opacity=1,this.parent=null,this._stage=null,this._visible=!0}get computedOpacity(){return this._fadeTransition?.computedOpacity??this.opacity}get clips(){return this._clips}set clips(t){this._clips=t,this.requestRender()}get fadeTransitionEnabled(){return null!==this._fadeTransition}set fadeTransitionEnabled(t){!this._fadeTransition&&t?(this._fadeTransition=new d({opacity:this.opacity,visible:this.visible}),this.addTransitionable(this._fadeTransition)):this._fadeTransition&&!t&&(this.removeTransitionable(this._fadeTransition),this._fadeTransition=null)}get inFadeTransition(){return this._fadeTransition?.transitioning??!1}get isReady(){return this._isReady}get opacity(){return this._opacity}set opacity(t){this._opacity!==t&&(this._opacity=Math.min(1,Math.max(t,0)),this._fadeTransition&&(this._fadeTransition.opacity=this._opacity),this.requestRender())}get stage(){return this._stage}set stage(t){if(this._stage===t)return;const e=this._stage;this._stage=t,t?this._stage?.untrashDisplayObject(this)||(this.onAttach(),this.emit("attach")):e?.trashDisplayObject(this)}get transforms(){return null==this._transforms&&(this._transforms=this._createTransforms()),this._transforms}get transitioning(){return this.isTransitioning()}get visible(){return this._visible}set visible(t){this._visible!==t&&(this._visible=t,this._fadeTransition&&(this._fadeTransition.visible=this._visible),this.requestRender())}get hasLabels(){return!1}get hasHighlight(){return!1}get hasBlending(){return!1}addTransitionable(t){this._transitionables??=[],this._transitionables.push(t),this.requestRender()}removeTransitionable(t){t.endTransition(),this._transitionables&&(0,r.eW)(this._transitionables,t),this.requestRender()}fadeIn(){this.fadeTransitionEnabled=!0;const t=this._fadeTransition.fadeIn();return this.opacity=1,this.requestRender(),t}fadeOut(){this.fadeTransitionEnabled=!0;const t=this._fadeTransition.fadeOut();return this.opacity=0,this.requestRender(),t}endTransitions(){if(this._transitionables){for(const t of this._transitionables)t.endTransition();this.requestRender()}}beforeRender(t){this.transitionStep(t.deltaTime,t.state.scale),this.setTransform(t.state)}afterRender(t){this.transitioning&&this.requestRender()}remove(){this.parent?.removeChild(this)}setTransform(t){}processRender(t){this.stage&&(this._fadeTransition?.computedVisible??this.visible)&&this.doRender(t)}requestRender(){this.stage&&this.stage.requestRender()}processDetach(){this.endTransitions(),this.onDetach(),this.emit("detach")}isTransitioning(){return this._transitionables?.some((t=>t.transitioning))??!1}transitionStep(t,e){if(this._transitionables)for(const n of this._transitionables)n.transitionStep(t,e)}onAttach(){}onDetach(){}doRender(t){}ready(){this._isReady||(this._isReady=!0,this.emit("isReady"),this.requestRender())}}let g=class extends p{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this._children=[],this._childrenObservable=new r.aQ,this._effectView=null,this._highlightGradient=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,this.requestRender()}get children(){return(0,r.aR)(this._childrenObservable),this._children}get clips(){return this._clips}set clips(t){this._clips=t,this.children.forEach((e=>e.clips=t))}get computedEffects(){return this._effectView?.effects??null}get effect(){return this._effectView?.effect??""}set effect(t){(this._effectView||t)&&(this._effectView||(this._effectView=new o,this.addTransitionable(this._effectView)),this._effectView.effect=t,this.requestRender())}get highlightGradient(){return this._highlightGradient}set highlightGradient(t){this._highlightGradient=t,this.requestRender()}get hasBlending(){return!!this.blendMode}get hasHighlight(){return this.children.some((t=>t.hasHighlight))}get hasLabels(){return this.children.some((t=>t.hasLabels))}get requiresDedicatedFBO(){return this.children.some((t=>"blendMode"in t&&t.blendMode&&"normal"!==t.blendMode))}get isReady(){return this.children.every((t=>t.isReady))}get sortFunction(){return this._sortFunction}set sortFunction(t){this._sortFunction=t,t&&(this._needsSort=!0)}doRender(t){const e=this.createRenderParams(t),{painter:n}=e;n.beforeRenderLayer(e,this._clips?.length?255:0,this.computedOpacity),this.renderChildren(e),n.afterRenderLayer(e,this.computedOpacity)}addChild(t){return this.addChildAt(t,this.children.length)}addChildAt(t,e=this.children.length){if(!t||this.contains(t))return t;this._needsSort=!0;const n=t.parent;return n&&n!==this&&n.removeChild(t),e>=this.children.length?this.children.push(t):this.children.splice(e,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),this._childrenObservable.notify(),t}contains(t){return(0,r.aR)(this._childrenObservable),this._childrenSet.has(t)}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const t of this.children)this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null;this.children.length=0,this._childrenObservable.notify()}removeChild(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t}removeChildAt(t){if(t<0||t>=this.children.length)return null;this._needsSort=!0;const e=this.children.splice(t,1)[0];return this._childrenSet.delete(e),this!==this.stage&&(e.clips=null),e.stage=null,e.parent=null,this._childrenObservable.notify(),e}beforeRender(t){super.beforeRender(t),this.sortFunction&&this._needsSort&&(this.children.sort(this.sortFunction),this._needsSort=!1,this._childrenObservable.notify());for(const e of this.children)e.beforeRender(t)}afterRender(t){super.afterRender(t);for(const e of this.children)e.afterRender(t)}_createTransforms(){return{displayViewScreenMat3:(0,i.e)()}}onAttach(){super.onAttach();const t=this.stage;for(const e of this.children)e.stage=t}onDetach(){super.onDetach();for(const t of this.children)t.stage=null}renderChildren(t){for(const e of this.children)e.processRender(t)}createRenderParams(t){return{...t,requireFBO:this.requiresDedicatedFBO,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition,highlightGradient:this._highlightGradient||t.highlightGradient}}isTransitioning(){return super.isTransitioning()||this.children.some((t=>t.transitioning))}}},80910:function(t,e,n){n.d(e,{d:function(){return S},e:function(){return x},l:function(){return O},t:function(){return R}});var r=n(98503),i=n(92113),s=n(74362);const a=(t,e)=>{const n=(0,s.r)(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return(0,s.s)(n,n)},o=(t,e)=>{const n=(0,s.r)(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return(0,s.s)(n,n)},c=(t,e)=>{const n=1-e,r=(0,s.r)(t,.2126+.7874*n,.7152-.7152*n,.0722-.0722*n,0,.2126-.2126*n,.7152+.2848*n,.0722-.0722*n,0,.2126-.2126*n,.7152-.7152*n,.0722+.9278*n,0,0,0,0,1);return(0,s.s)(r,r)},u=(t,e)=>{const n=Math.sin(e*Math.PI/180),r=Math.cos(e*Math.PI/180),i=(0,s.r)(t,.213+.787*r-.213*n,.715-.715*r-.715*n,.072-.072*r+.928*n,0,.213-.213*r+.143*n,.715+.285*r+.14*n,.072-.072*r-.283*n,0,.213-.213*r-.787*n,.715-.715*r+.715*n,.072+.928*r+.072*n,0,0,0,0,1);return(0,s.s)(i,i)},l=(t,e)=>{const n=1-2*e,r=(0,s.r)(t,n,0,0,e,0,n,0,e,0,0,n,e,0,0,0,1);return(0,s.s)(r,r)},h=(t,e)=>{const n=(0,s.r)(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return(0,s.s)(n,n)},f=(t,e)=>{const n=1-e,r=(0,s.r)(t,.393+.607*n,.769-.769*n,.189-.189*n,0,.349-.349*n,.686+.314*n,.168-.168*n,0,.272-.272*n,.534-.534*n,.131+.869*n,0,0,0,0,1);return(0,s.s)(r,r)};class d{constructor(t,e,n){this.strength=t,this.radius=e,this.threshold=n,this.type="bloom"}interpolate(t,e,n){this.strength=v(t.strength,e.strength,n),this.radius=v(t.radius,e.radius,n),this.threshold=v(t.threshold,e.threshold,n)}clone(){return new d(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:b(this.radius),strength:this.strength,threshold:this.threshold}}}let p=class t{constructor(t){this.radius=t,this.type="blur"}interpolate(t,e,n){this.radius=Math.round(v(t.radius,e.radius,n))}clone(){return new t(this.radius)}toJSON(){return{type:"blur",radius:b(this.radius)}}};class g{constructor(t,e){this.type=t,this.amount=e,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,e,n){this.amount=v(t.amount,e.amount,n),this._updateMatrix()}clone(){return new g(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const t=this._colorMatrix||(0,i.e)();switch(this.type){case"brightness":this._colorMatrix=a(t,this.amount);break;case"contrast":this._colorMatrix=o(t,this.amount);break;case"grayscale":this._colorMatrix=c(t,this.amount);break;case"invert":this._colorMatrix=l(t,this.amount);break;case"saturate":this._colorMatrix=h(t,this.amount);break;case"sepia":this._colorMatrix=f(t,this.amount)}}}let m=class t{constructor(t,e,n,r){this.offsetX=t,this.offsetY=e,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(t,e,n){this.offsetX=v(t.offsetX,e.offsetX,n),this.offsetY=v(t.offsetY,e.offsetY,n),this.blurRadius=v(t.blurRadius,e.blurRadius,n),this.color[0]=Math.round(v(t.color[0],e.color[0],n)),this.color[1]=Math.round(v(t.color[1],e.color[1],n)),this.color[2]=Math.round(v(t.color[2],e.color[2],n)),this.color[3]=v(t.color[3],e.color[3],n)}clone(){return new t(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const t=[...this.color];return t[3]*=255,{type:"drop-shadow",xoffset:b(this.offsetX),yoffset:b(this.offsetY),blurRadius:b(this.blurRadius),color:t}}},_=class t{constructor(t){this.angle=t,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(t,e,n){this.angle=v(t.angle,e.angle,n),this._updateMatrix()}clone(){return new t(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const t=this._colorMatrix||(0,i.e)();this._colorMatrix=u(t,this.angle)}};class y{constructor(t){this.amount=t,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(t,e,n){this.amount=v(t.amount,e.amount,n)}clone(){return new y(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function v(t,e,n){return t+(e-t)*n}function b(t){return Math.round(1e3*(0,r.bd)(t))/1e3}function w(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new g(t.type,0);case"saturate":case"brightness":case"contrast":return new g(t.type,1);case"opacity":return new y(1);case"hue-rotate":return new _(0);case"blur":return new p(0);case"drop-shadow":return new m(0,0,0,[...(0,r.gv)("transparent")]);case"bloom":return new d(0,0,1)}}function R(t,e){const n=t.length>e.length?t:e;return(t.length>e.length?e:t).every(((t,e)=>t.type===n[e].type))}function x(t,e){const n=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let i=r.length;i<n.length;i++)r.push(w(n[i]))}function O(t){const e=t[0];return!!e&&"type"in e}function T(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function M(t,e,n,r){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,M.prototype),i.expected=e,i.found=n,i.location=r,i.name="SyntaxError",i}function A(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,t+(n+=n.repeat(e)).slice(0,e))}function F(t,e){var n,r={},i=(e=void 0!==e?e:{}).grammarSource,s={start:Bt},a=Bt,o="none",c=")",u=",",l="(",h="%",f="px",d="cm",p="mm",g="in",m="pt",_="pc",y="deg",v="rad",b="grad",w="turn",R="#",x=".",O="e",T=/^[ \t\n\r]/,A=/^[a-z\-]/,F=/^[0-9a-fA-F]/,S=/^[+\-]/,k=/^[0-9]/,C=Lt("none"),E=jt("none",!1),q=jt(")",!1),$=jt(",",!1),I=Lt("whitespace"),V=Gt([" ","\t","\n","\r"],!1,!1),D=Lt("function"),P=jt("(",!1),j=Lt("identifier"),G=Gt([["a","z"],"-"],!1,!1),N=Lt("percentage"),L=jt("%",!1),J=Lt("length"),X=jt("px",!1),Y=jt("cm",!1),z=jt("mm",!1),B=jt("in",!1),H=jt("pt",!1),Q=jt("pc",!1),U=Lt("angle"),W=jt("deg",!1),K=jt("rad",!1),Z=jt("grad",!1),tt=jt("turn",!1),et=Lt("number"),nt=Lt("color"),rt=jt("#",!1),it=Gt([["0","9"],["a","f"],["A","F"]],!1,!1),st=Gt(["+","-"],!1,!1),at=Gt([["0","9"]],!1,!1),ot=jt(".",!1),ct=jt("e",!1),ut=function(){return[]},lt=function(t,e){return{type:"function",name:t,parameters:e||[]}},ht=function(t,e){return e.length>0?ue(t,e,3):[t]},ft=function(t){return{type:"quantity",value:t.value,unit:t.unit}},dt=function(t){return{type:"color",colorType:t.type,value:t.value}},pt=function(t){return t},gt=function(){return Pt()},mt=function(t){return{value:t,unit:"%"}},_t=function(t){return{value:t,unit:"px"}},yt=function(t){return{value:t,unit:"cm"}},vt=function(t){return{value:t,unit:"mm"}},bt=function(t){return{value:t,unit:"in"}},wt=function(t){return{value:t,unit:"pt"}},Rt=function(t){return{value:t,unit:"pc"}},xt=function(t){return{value:t,unit:"deg"}},Ot=function(t){return{value:t,unit:"rad"}},Tt=function(t){return{value:t,unit:"grad"}},Mt=function(t){return{value:t,unit:"turn"}},At=function(t){return{value:t,unit:null}},Ft=function(){return{type:"hex",value:Pt()}},St=function(t){return{type:"function",value:t}},kt=function(){return{type:"named",value:Pt()}},Ct=function(){return parseFloat(Pt())},Et=0|e.peg$currPos,qt=Et,$t=[{line:1,column:1}],It=Et,Vt=e.peg$maxFailExpected||[],Dt=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in s))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=s[e.startRule]}function Pt(){return t.substring(qt,Et)}function jt(t,e){return{type:"literal",text:t,ignoreCase:e}}function Gt(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function Nt(){return{type:"end"}}function Lt(t){return{type:"other",description:t}}function Jt(e){var n,r=$t[e];if(r)return r;if(e>=$t.length)n=$t.length-1;else for(n=e;!$t[--n];);for(r={line:(r=$t[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return $t[e]=r,r}function Xt(t,e,n){var r=Jt(t),s=Jt(e);return{source:i,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:s.line,column:s.column}}}function Yt(t){Et<It||(Et>It&&(It=Et,Vt=[]),Vt.push(t))}function zt(t,e,n){return new M(M.buildMessage(t,e),t,e,n)}function Bt(){var t;return(t=Ht())===r&&(t=Qt()),t}function Ht(){var e,n;return Dt++,e=Et,Zt(),t.substr(Et,4)===o?(n=o,Et+=4):(n=r,0===Dt&&Yt(E)),n!==r?(Zt(),qt=e,e=ut()):(Et=e,e=r),Dt--,e===r&&0===Dt&&Yt(C),e}function Qt(){var t,e;if(t=[],(e=Ut())!==r)for(;e!==r;)t.push(e),e=Ut();else t=r;return t}function Ut(){var e,n,i,s;return e=Et,Zt(),(n=te())!==r?(Zt(),(i=Wt())===r&&(i=null),Zt(),41===t.charCodeAt(Et)?(s=c,Et++):(s=r,0===Dt&&Yt(q)),s!==r?(Zt(),qt=e,e=lt(n,i)):(Et=e,e=r)):(Et=e,e=r),e}function Wt(){var e,n,i,s,a,o,c,l;if(e=Et,(n=Kt())!==r){for(i=[],s=Et,a=Zt(),44===t.charCodeAt(Et)?(o=u,Et++):(o=r,0===Dt&&Yt($)),o===r&&(o=null),c=Zt(),(l=Kt())!==r?s=a=[a,o,c,l]:(Et=s,s=r);s!==r;)i.push(s),s=Et,a=Zt(),44===t.charCodeAt(Et)?(o=u,Et++):(o=r,0===Dt&&Yt($)),o===r&&(o=null),c=Zt(),(l=Kt())!==r?s=a=[a,o,c,l]:(Et=s,s=r);qt=e,e=ht(n,i)}else Et=e,e=r;return e}function Kt(){var t,e;return t=Et,(e=ne())===r&&(e=re())===r&&(e=ie())===r&&(e=se()),e!==r&&(qt=t,e=ft(e)),(t=e)===r&&(t=Et,(e=ae())!==r&&(qt=t,e=dt(e)),t=e),t}function Zt(){var e,n;for(Dt++,e=[],n=t.charAt(Et),T.test(n)?Et++:(n=r,0===Dt&&Yt(V));n!==r;)e.push(n),n=t.charAt(Et),T.test(n)?Et++:(n=r,0===Dt&&Yt(V));return Dt--,n=r,0===Dt&&Yt(I),e}function te(){var e,n,i;return Dt++,e=Et,(n=ee())!==r?(40===t.charCodeAt(Et)?(i=l,Et++):(i=r,0===Dt&&Yt(P)),i!==r?(qt=e,e=pt(n)):(Et=e,e=r)):(Et=e,e=r),Dt--,e===r&&(n=r,0===Dt&&Yt(D)),e}function ee(){var e,n,i;if(Dt++,e=Et,n=[],i=t.charAt(Et),A.test(i)?Et++:(i=r,0===Dt&&Yt(G)),i!==r)for(;i!==r;)n.push(i),i=t.charAt(Et),A.test(i)?Et++:(i=r,0===Dt&&Yt(G));else n=r;return n!==r&&(qt=e,n=gt()),Dt--,(e=n)===r&&(n=r,0===Dt&&Yt(j)),e}function ne(){var e,n,i;return Dt++,e=Et,Zt(),(n=oe())!==r?(37===t.charCodeAt(Et)?(i=h,Et++):(i=r,0===Dt&&Yt(L)),i!==r?(qt=e,e=mt(n)):(Et=e,e=r)):(Et=e,e=r),Dt--,e===r&&0===Dt&&Yt(N),e}function re(){var e,n,i;return Dt++,e=Et,Zt(),(n=oe())!==r?(t.substr(Et,2)===f?(i=f,Et+=2):(i=r,0===Dt&&Yt(X)),i!==r?(qt=e,e=_t(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,Zt(),(n=oe())!==r?(t.substr(Et,2)===d?(i=d,Et+=2):(i=r,0===Dt&&Yt(Y)),i!==r?(qt=e,e=yt(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,Zt(),(n=oe())!==r?(t.substr(Et,2)===p?(i=p,Et+=2):(i=r,0===Dt&&Yt(z)),i!==r?(qt=e,e=vt(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,Zt(),(n=oe())!==r?(t.substr(Et,2)===g?(i=g,Et+=2):(i=r,0===Dt&&Yt(B)),i!==r?(qt=e,e=bt(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,Zt(),(n=oe())!==r?(t.substr(Et,2)===m?(i=m,Et+=2):(i=r,0===Dt&&Yt(H)),i!==r?(qt=e,e=wt(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,Zt(),(n=oe())!==r?(t.substr(Et,2)===_?(i=_,Et+=2):(i=r,0===Dt&&Yt(Q)),i!==r?(qt=e,e=Rt(n)):(Et=e,e=r)):(Et=e,e=r)))))),Dt--,e===r&&0===Dt&&Yt(J),e}function ie(){var e,n,i;return Dt++,e=Et,(n=oe())!==r?(t.substr(Et,3)===y?(i=y,Et+=3):(i=r,0===Dt&&Yt(W)),i!==r?(qt=e,e=xt(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,(n=oe())!==r?(t.substr(Et,3)===v?(i=v,Et+=3):(i=r,0===Dt&&Yt(K)),i!==r?(qt=e,e=Ot(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,(n=oe())!==r?(t.substr(Et,4)===b?(i=b,Et+=4):(i=r,0===Dt&&Yt(Z)),i!==r?(qt=e,e=Tt(n)):(Et=e,e=r)):(Et=e,e=r),e===r&&(e=Et,(n=oe())!==r?(t.substr(Et,4)===w?(i=w,Et+=4):(i=r,0===Dt&&Yt(tt)),i!==r?(qt=e,e=Mt(n)):(Et=e,e=r)):(Et=e,e=r)))),Dt--,e===r&&(n=r,0===Dt&&Yt(U)),e}function se(){var t,e;return Dt++,t=Et,Zt(),(e=oe())!==r?(qt=t,t=At(e)):(Et=t,t=r),Dt--,t===r&&0===Dt&&Yt(et),t}function ae(){var e,n,i,s;if(Dt++,e=Et,35===t.charCodeAt(Et)?(n=R,Et++):(n=r,0===Dt&&Yt(rt)),n!==r){if(i=[],s=t.charAt(Et),F.test(s)?Et++:(s=r,0===Dt&&Yt(it)),s!==r)for(;s!==r;)i.push(s),s=t.charAt(Et),F.test(s)?Et++:(s=r,0===Dt&&Yt(it));else i=r;i!==r?(qt=e,e=Ft()):(Et=e,e=r)}else Et=e,e=r;return e===r&&(e=Et,(n=Ut())!==r&&(qt=e,n=St(n)),(e=n)===r&&(e=Et,(n=ee())!==r&&(qt=e,n=kt()),e=n)),Dt--,e===r&&(n=r,0===Dt&&Yt(nt)),e}function oe(){var e,n,i,s,a,o,c,u;for(e=Et,n=t.charAt(Et),S.test(n)?Et++:(n=r,0===Dt&&Yt(st)),n===r&&(n=null),i=Et,s=[],a=t.charAt(Et),k.test(a)?Et++:(a=r,0===Dt&&Yt(at));a!==r;)s.push(a),a=t.charAt(Et),k.test(a)?Et++:(a=r,0===Dt&&Yt(at));if(46===t.charCodeAt(Et)?(a=x,Et++):(a=r,0===Dt&&Yt(ot)),a!==r){if(o=[],c=t.charAt(Et),k.test(c)?Et++:(c=r,0===Dt&&Yt(at)),c!==r)for(;c!==r;)o.push(c),c=t.charAt(Et),k.test(c)?Et++:(c=r,0===Dt&&Yt(at));else o=r;o!==r?i=s=[s,a,o]:(Et=i,i=r)}else Et=i,i=r;if(i===r)if(i=[],s=t.charAt(Et),k.test(s)?Et++:(s=r,0===Dt&&Yt(at)),s!==r)for(;s!==r;)i.push(s),s=t.charAt(Et),k.test(s)?Et++:(s=r,0===Dt&&Yt(at));else i=r;if(i!==r){if(s=Et,101===t.charCodeAt(Et)?(a=O,Et++):(a=r,0===Dt&&Yt(ct)),a!==r){if(o=t.charAt(Et),S.test(o)?Et++:(o=r,0===Dt&&Yt(st)),o===r&&(o=null),c=[],u=t.charAt(Et),k.test(u)?Et++:(u=r,0===Dt&&Yt(at)),u!==r)for(;u!==r;)c.push(u),u=t.charAt(Et),k.test(u)?Et++:(u=r,0===Dt&&Yt(at));else c=r;c!==r?s=a=[a,o,c]:(Et=s,s=r)}else Et=s,s=r;s===r&&(s=null),qt=e,e=Ct()}else Et=e,e=r;return e}function ce(t,e){return t.map((function(t){return t[e]}))}function ue(t,e,n){return[t].concat(ce(e,n))}if(n=a(),e.peg$library)return{peg$result:n,peg$currPos:Et,peg$FAILED:r,peg$maxFailExpected:Vt,peg$maxFailPos:It};if(n!==r&&Et===t.length)return n;throw n!==r&&Et<t.length&&Yt(Nt()),zt(Vt,It<t.length?t.charAt(It):null,It<t.length?Xt(It,It+1):Xt(It,It))}function S(t){if(!t||0===t.length)return null;if("string"==typeof t){const e=k(t);return e&&0!==e.length?e:null}const e=t.map((t=>{if(!Number.isFinite(t.scale)||t.scale<=0)throw new r.s("effect:invalid-scale","scale must be finite and greater than 0",{stop:t});return{scale:t.scale,effects:k(t.value)}}));e.sort(((t,e)=>e.effects.length-t.effects.length));for(let n=0;n<e.length-1;n++){if(!R(e[n].effects,e[n+1].effects))throw new r.s("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[n].effects,b:e[n+1].effects});x(e[n].effects,e[n+1].effects)}return e.sort(((t,e)=>e.scale-t.scale)),e}function k(t){let e;if(!t)return[];try{e=F(t)}catch(n){throw new r.s("effect:invalid-syntax","Invalid effect syntax",{value:t,error:n})}return e.map((t=>C(t)))}function C(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return E(t);case"opacity":return q(t);case"hue-rotate":return $(t);case"blur":return I(t);case"drop-shadow":return V(t);case"bloom":return D(t)}}catch(e){throw e.details.filter=t,e}throw new r.s("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function E(t){let e=1;return P(t.parameters,1),1===t.parameters.length&&(e=B(t.parameters[0])),new g(t.name,e)}function q(t){let e=1;return P(t.parameters,1),1===t.parameters.length&&(e=B(t.parameters[0])),new y(e)}function $(t){let e=0;return P(t.parameters,1),1===t.parameters.length&&(e=Q(t.parameters[0])),new _(e)}function I(t){let e=0;return P(t.parameters,1),1===t.parameters.length&&(e=U(t.parameters[0]),G(e,t.parameters[0])),new p(e)}function V(t){const e=[];let n=null;for(const i of t.parameters)if("color"===i.type){if(e.length&&Object.freeze(e),n)throw new r.s("effect:type-error","Accepts only one color",{});n=W(i)}else{const t=U(i);if(Object.isFrozen(e))throw new r.s("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(t),3===e.length&&G(t,i)}if(e.length<2||e.length>3)throw new r.s("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new m(e[0],e[1],e[2]||0,n||K("black"))}function D(t){let e=1,n=0,r=0;return P(t.parameters,3),t.parameters[0]&&(e=B(t.parameters[0])),t.parameters[1]&&(n=U(t.parameters[1]),G(n,t.parameters[1])),t.parameters[2]&&(r=B(t.parameters[2])),new d(e,n,r)}function P(t,e){if(t.length>e)throw new r.s("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function j(t){if("color"===t.type)return"<color>";if(t.unit){if(t.unit in Y)return"<length>";if(t.unit in J)return"<angle>";if("%"===t.unit)return"<percentage>"}return"<double>"}function G(t,e){if(t<0)throw new r.s("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}function N(t){if("quantity"!==t.type||null!==t.unit)throw new r.s("effect:type-error",`Expected <double>, Actual: ${j(t)}`,{term:t})}function L(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new r.s("effect:type-error",`Expected <double> or <percentage>, Actual: ${j(t)}`,{term:t})}T(M,Error),M.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,a=this.location.source+":"+s.line+":"+s.column;if(r){var o=this.location.end,c=A("",s.line.toString().length," "),u=r[i.line-1],l=(i.line===o.line?o.column:u.length+1)-i.column||1;e+="\n --\x3e "+a+"\n"+c+" |\n"+s.line+" | "+u+"\n"+c+" | "+A("",i.column-1," ")+A("",l,"^")}else e+="\n at "+a}return e},M.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?s(t[0])+"-"+s(t[1]):s(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function a(t){return n[t.type](t)}function o(t){var e,n,r=t.map(a);if(r.sort(),r.length>0){for(e=1,n=1;e<r.length;e++)r[e-1]!==r[e]&&(r[n]=r[e],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function c(t){return t?'"'+i(t)+'"':"end of input"}return"Expected "+o(t)+" but "+c(e)+" found."};const J={deg:1,grad:.9,rad:180/Math.PI,turn:360};function X(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=J[t.unit]))throw new r.s("effect:type-error",`Expected <angle>, Actual: ${j(t)}`,{term:t})}const Y={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function z(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=Y[t.unit]))throw new r.s("effect:type-error",`Expected <length>, Actual: ${j(t)}`,{term:t})}function B(t){L(t);const e=t.value;return G(e,t),"%"===t.unit?.01*e:e}function H(t){return N(t),G(t.value,t),t.value}function Q(t){return X(t),t.value*J[t.unit]||0}function U(t){return z(t),t.value*Y[t.unit]||0}function W(t){switch(t.colorType){case"hex":return(0,r.gw)(t.value);case"named":return K(t.value);case"function":return et(t.value)}}function K(t){if(!(0,r.gx)(t))throw new r.s("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return(0,r.gy)(t)}const Z=/^rgba?/i,tt=/^hsla?/i;function et(t){if(P(t.parameters,4),Z.test(t.name))return[B(t.parameters[0]),B(t.parameters[1]),B(t.parameters[2]),t.parameters[3]?B(t.parameters[3]):1];if(tt.test(t.name))return(0,r.gz)(H(t.parameters[0]),B(t.parameters[1]),B(t.parameters[2]),t.parameters[3]?B(t.parameters[3]):1);throw new r.s("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}}}]);
//# sourceMappingURL=2614.a0ff28c4.js.map