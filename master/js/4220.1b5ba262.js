"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[4220],{54220:function(e,r,t){t.d(r,{isAnimatedGIF:function(){return F},parseGif:function(){return S}});var n,i=t(98503),a={},o={},d={};function s(){if(n)return d;n=1,Object.defineProperty(d,"__esModule",{value:!0}),d.loop=d.conditional=d.parse=void 0;var e=function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(t))t.forEach((function(t){return e(r,t,n,i)}));else if("function"==typeof t)t(r,n,i,e);else{var a=Object.keys(t)[0];Array.isArray(t[a])?(i[a]={},e(r,t[a],n,i[a])):i[a]=t[a](r,n,i,e)}return n};d.parse=e;var r=function(e,r){return function(t,n,i,a){r(t,n,i)&&a(t,e,n,i)}};d.conditional=r;var t=function(e,r){return function(t,n,i,a){for(var o=[],d=t.pos;r(t,n,i);){var s={};if(a(t,e,n,s),t.pos===d)break;d=t.pos,o.push(s)}return o}};return d.loop=t,d}var u,c,f={};function l(){if(u)return f;u=1,Object.defineProperty(f,"__esModule",{value:!0}),f.readBits=f.readArray=f.readUnsigned=f.readString=f.peekBytes=f.readBytes=f.peekByte=f.readByte=f.buildStream=void 0;var e=function(e){return{data:e,pos:0}};f.buildStream=e;var r=function(){return function(e){return e.data[e.pos++]}};f.readByte=r;var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(r){return r.data[r.pos+e]}};f.peekByte=t;var n=function(e){return function(r){return r.data.subarray(r.pos,r.pos+=e)}};f.readBytes=n;var i=function(e){return function(r){return r.data.subarray(r.pos,r.pos+e)}};f.peekBytes=i;var a=function(e){return function(r){return Array.from(n(e)(r)).map((function(e){return String.fromCharCode(e)})).join("")}};f.readString=a;var o=function(e){return function(r){var t=n(2)(r);return e?(t[1]<<8)+t[0]:(t[0]<<8)+t[1]}};f.readUnsigned=o;var d=function(e,r){return function(t,i,a){for(var o="function"==typeof r?r(t,i,a):r,d=n(e),s=new Array(o),u=0;u<o;u++)s[u]=d(t);return s}};f.readArray=d;var s=function(e,r,t){for(var n=0,i=0;i<t;i++)n+=e[r+i]&&Math.pow(2,t-i-1);return n},c=function(e){return function(t){for(var n=r()(t),i=new Array(8),a=0;a<8;a++)i[7-a]=!!(n&1<<a);return Object.keys(e).reduce((function(r,t){var n=e[t];return n.length?r[t]=s(i,n.index,n.length):r[t]=i[n.index],r}),{})}};return f.readBits=c,f}function p(){return c||(c=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(),t=l(),n={blocks:function(e){for(var r=0,n=[],i=e.data.length,a=0,o=(0,t.readByte)()(e);o!==r&&o;o=(0,t.readByte)()(e)){if(e.pos+o>=i){var d=i-e.pos;n.push((0,t.readBytes)(d)(e)),a+=d;break}n.push((0,t.readBytes)(o)(e)),a+=o}for(var s=new Uint8Array(a),u=0,c=0;c<n.length;c++)s.set(n[c],u),u+=n[c].length;return s}},i=(0,r.conditional)({gce:[{codes:(0,t.readBytes)(2)},{byteSize:(0,t.readByte)()},{extras:(0,t.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,t.readUnsigned)(!0)},{transparentColorIndex:(0,t.readByte)()},{terminator:(0,t.readByte)()}]},(function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&249===r[1]})),a=(0,r.conditional)({image:[{code:(0,t.readByte)()},{descriptor:[{left:(0,t.readUnsigned)(!0)},{top:(0,t.readUnsigned)(!0)},{width:(0,t.readUnsigned)(!0)},{height:(0,t.readUnsigned)(!0)},{lct:(0,t.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,r.conditional)({lct:(0,t.readArray)(3,(function(e,r,t){return Math.pow(2,t.descriptor.lct.size+1)}))},(function(e,r,t){return t.descriptor.lct.exists})),{data:[{minCodeSize:(0,t.readByte)()},n]}]},(function(e){return 44===(0,t.peekByte)()(e)})),o=(0,r.conditional)({text:[{codes:(0,t.readBytes)(2)},{blockSize:(0,t.readByte)()},{preData:function(e,r,n){return(0,t.readBytes)(n.text.blockSize)(e)}},n]},(function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&1===r[1]})),d=(0,r.conditional)({application:[{codes:(0,t.readBytes)(2)},{blockSize:(0,t.readByte)()},{id:function(e,r,n){return(0,t.readString)(n.blockSize)(e)}},n]},(function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&255===r[1]})),u=(0,r.conditional)({comment:[{codes:(0,t.readBytes)(2)},n]},(function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&254===r[1]})),c=[{header:[{signature:(0,t.readString)(3)},{version:(0,t.readString)(3)}]},{lsd:[{width:(0,t.readUnsigned)(!0)},{height:(0,t.readUnsigned)(!0)},{gct:(0,t.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,t.readByte)()},{pixelAspectRatio:(0,t.readByte)()}]},(0,r.conditional)({gct:(0,t.readArray)(3,(function(e,r){return Math.pow(2,r.lsd.gct.size+1)}))},(function(e,r){return r.lsd.gct.exists})),{frames:(0,r.loop)([i,d,u,a,o],(function(e){var r=(0,t.peekByte)()(e);return 33===r||44===r}))}];e.default=c}(o)),o}var g,y={};function h(){if(g)return y;g=1,Object.defineProperty(y,"__esModule",{value:!0}),y.deinterlace=void 0;var e=function(e,r){for(var t=new Array(e.length),n=e.length/r,i=function(n,i){var a=e.slice(i*r,(i+1)*r);t.splice.apply(t,[n*r,r].concat(a))},a=[0,4,2,1],o=[8,8,4,2],d=0,s=0;s<4;s++)for(var u=a[s];u<n;u+=o[s])i(u,d),d++;return t};return y.deinterlace=e,y}var v,m,w={};function b(){if(v)return w;v=1,Object.defineProperty(w,"__esModule",{value:!0}),w.lzw=void 0;var e=function(e,r,t){var n,i,a,o,d,s,u,c,f,l,p,g,y,h,v,m,w=4096,b=-1,B=t,x=new Array(t),k=new Array(w),A=new Array(w),U=new Array(w+1);for(d=1+(i=1<<(l=e)),n=i+2,u=b,a=(1<<(o=l+1))-1,c=0;c<i;c++)k[c]=0,A[c]=c;for(p=g=y=h=v=m=0,f=0;f<B;){if(0===h){if(g<o){p+=r[m]<<g,g+=8,m++;continue}if(c=p&a,p>>=o,g-=o,c>n||c==d)break;if(c==i){a=(1<<(o=l+1))-1,n=i+2,u=b;continue}if(u==b){U[h++]=A[c],u=c,y=c;continue}for(s=c,c==n&&(U[h++]=y,c=u);c>i;)U[h++]=A[c],c=k[c];y=255&A[c],U[h++]=y,n<w&&(k[n]=u,A[n]=y,!(++n&a)&&n<w&&(o++,a+=n)),u=s}h--,x[v++]=U[h],f++}for(f=v;f<B;f++)x[f]=0;return x};return w.lzw=e,w}function B(){if(m)return a;m=1,Object.defineProperty(a,"__esModule",{value:!0}),a.decompressFrames=a.decompressFrame=a.parseGIF=void 0;var e=o(p()),r=s(),t=l(),n=h(),i=b();function o(e){return e&&e.__esModule?e:{default:e}}var d=function(n){var i=new Uint8Array(n);return(0,r.parse)((0,t.buildStream)(i),e.default)};a.parseGIF=d;var u=function(e){for(var r=e.pixels.length,t=new Uint8ClampedArray(4*r),n=0;n<r;n++){var i=4*n,a=e.pixels[n],o=e.colorTable[a]||[0,0,0];t[i]=o[0],t[i+1]=o[1],t[i+2]=o[2],t[i+3]=a!==e.transparentIndex?255:0}return t},c=function(e,r,t){if(e.image){var a=e.image,o=a.descriptor.width*a.descriptor.height,d=(0,i.lzw)(a.data.minCodeSize,a.data.blocks,o);a.descriptor.lct.interlaced&&(d=(0,n.deinterlace)(d,a.descriptor.width));var s={pixels:d,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return a.descriptor.lct&&a.descriptor.lct.exists?s.colorTable=a.lct:s.colorTable=r,e.gce&&(s.delay=10*(e.gce.delay||10),s.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(s.transparentIndex=e.gce.transparentColorIndex)),t&&(s.patch=u(s)),s}console.warn("gif frame does not have associated image.")};a.decompressFrame=c;var f=function(e,r){return e.frames.filter((function(e){return e.image})).map((function(t){return c(t,e.gct,r)}))};return a.decompressFrames=f,a}var x=B();let k,A,U;function I(e,r){return k??=document.createElement("canvas"),k.width=e,k.height=r,k.getContext("2d",{willReadFrequently:!0})}async function S(e,r){const t=x.parseGIF(e),n=x.decompressFrames(t,!0),{width:a,height:o}=t.lsd,d=I(a,o),s=[],u=[];let c=0;for(const f of n){const e=(0,i.cP)(f.delay||100);u.push(e),c+=e;const r=_(new ImageData(f.patch,f.dims.width,f.dims.height)),t=3===f.disposalType?d.getImageData(f.dims.left,f.dims.top,f.dims.width,f.dims.height):void 0;d.drawImage(r,f.dims.left,f.dims.top);const n=d.getImageData(0,0,a,o);s.push(n),1===f.disposalType||(2===f.disposalType?d.clearRect(f.dims.left,f.dims.top,f.dims.width,f.dims.height):3===f.disposalType&&d.putImageData(t,f.dims.left,f.dims.top))}return{frameCount:n.length,duration:c,frameDurations:u,getFrame:e=>s[e],width:a,height:o}}function _(e){return A??=document.createElement("canvas"),U??=A.getContext("2d",{willReadFrequently:!0}),A.width=e.width,A.height=e.height,U.putImageData(e,0,0),A}const C=[71,73,70];function z(e){const r=new Uint8Array(e);return!C.some(((e,t)=>e!==r[t]))}function F(e){if(!z(e))return!1;const r=new DataView(e),t=r.getUint8(10);let n=13+(128&t?3*2**(1+(7&t)):0),i=0,a=!1;for(;!a;){switch(r.getUint8(n++)){case 33:if(!o())return!1;break;case 44:d();break;case 59:a=!0;break;default:return!1}if(i>1)return!0}function o(){switch(r.getUint8(n++)){case 249:s();break;case 1:u();break;case 254:c();break;case 255:f();break;default:return!1}return!0}function d(){i++,n+=8;const e=r.getUint8(n++);n+=128&e?3*2**(1+(7&e)):0,n++,l()}function s(){n++,n+=4,l()}function u(){i++,n++,n+=12,l()}function c(){l()}function f(){n++,n+=8,n+=3,l()}function l(){let e;for(;e=r.getUint8(n++);)n+=e}return!1}}}]);
//# sourceMappingURL=4220.1b5ba262.js.map