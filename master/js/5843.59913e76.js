"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[5843,8089],{98089:function(e,t,n){n.r(t),n.d(t,{F:function(){return w},a:function(){return f},i:function(){return S},n:function(){return C},p:function(){return i},y:function(){return P}});var r,s=n(98503),o=n(22555);let i=r=class extends s.v{constructor(e){super(e),this.name=null,this.code=null}clone(){return new r({name:this.name,code:this.code})}};(0,s.k)([(0,s.o)({type:String,json:{write:!0}})],i.prototype,"name",void 0),(0,s.k)([(0,s.o)({type:[String,Number],json:{write:!0}})],i.prototype,"code",void 0),i=r=(0,s.k)([(0,s.A)("esri.layers.support.CodedValue")],i);const a=new s.ax({inherited:"inherited",codedValue:"coded-value",range:"range"});let l=class extends s.v{constructor(e){super(e),this.name=null,this.type=null}};(0,s.k)([(0,s.o)({type:String,json:{write:!0}})],l.prototype,"name",void 0),(0,s.k)([(0,s.bk)(a)],l.prototype,"type",void 0),l=(0,s.k)([(0,s.A)("esri.layers.support.Domain")],l);const u=l;var c;let h=c=class extends u{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const n=String(e);this.codedValues.some((e=>(String(e.code)===n&&(t=e.name),!!t)))}return t}clone(){return new c({codedValues:(0,s.f)(this.codedValues),name:this.name})}};(0,s.k)([(0,s.o)({type:[i],json:{write:!0}})],h.prototype,"codedValues",void 0),(0,s.k)([(0,s.bk)({codedValue:"coded-value"})],h.prototype,"type",void 0),h=c=(0,s.k)([(0,s.A)("esri.layers.support.CodedValueDomain")],h);const f=h;var d;let p=d=class extends u{constructor(e){super(e),this.type="inherited"}clone(){return new d}};(0,s.k)([(0,s.bk)({inherited:"inherited"})],p.prototype,"type",void 0),p=d=(0,s.k)([(0,s.A)("esri.layers.support.InheritedDomain")],p);const g=p;var y;let m=y=class extends u{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new y({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,s.k)([(0,s.o)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,n){t[n]=[this.minValue||0,e]}}}})],m.prototype,"maxValue",void 0),(0,s.k)([(0,s.o)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,n){t[n]=[e,this.maxValue||0]}}}})],m.prototype,"minValue",void 0),(0,s.k)([(0,s.bk)({range:"range"})],m.prototype,"type",void 0),m=y=(0,s.k)([(0,s.A)("esri.layers.support.RangeDomain")],m);const _=m,C={key:"type",base:u,typeMap:{range:_,"coded-value":f,inherited:g}};function S(e){if(!e?.type)return null;switch(e.type){case"range":return _.fromJSON(e);case"codedValue":return f.fromJSON(e);case"inherited":return g.fromJSON(e)}return null}var R;const b=new s.ax({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let E=R=class extends s.v{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?.value??null}readValueType(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch{}return n?b.fromJSON(n.fieldValueType):null}clone(){return new R({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,s.k)([(0,s.o)({type:String,json:{write:!0}})],E.prototype,"alias",void 0),(0,s.k)([(0,s.o)({type:[String,Number],json:{write:{allowNull:!0}}})],E.prototype,"defaultValue",void 0),(0,s.k)([(0,s.o)()],E.prototype,"description",void 0),(0,s.k)([(0,s.u)("description")],E.prototype,"readDescription",null),(0,s.k)([(0,s.o)({types:C,json:{read:{reader:S},write:!0}})],E.prototype,"domain",void 0),(0,s.k)([(0,s.o)({type:Boolean,json:{write:!0}})],E.prototype,"editable",void 0),(0,s.k)([(0,s.o)({type:s.bp,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],E.prototype,"length",void 0),(0,s.k)([(0,s.o)({type:String,json:{write:!0}})],E.prototype,"name",void 0),(0,s.k)([(0,s.o)({type:Boolean,json:{write:!0}})],E.prototype,"nullable",void 0),(0,s.k)([(0,s.bk)(o.i)],E.prototype,"type",void 0),(0,s.k)([(0,s.o)()],E.prototype,"valueType",void 0),(0,s.k)([(0,s.u)("valueType",["description"])],E.prototype,"readValueType",null),(0,s.k)([(0,s.o)({type:Boolean,json:{read:!1}})],E.prototype,"visible",void 0),E=R=(0,s.k)([(0,s.A)("esri.layers.support.Field")],E);const P=E,w=Object.freeze(Object.defineProperty({__proto__:null,default:P},Symbol.toStringTag,{value:"Module"}))},75934:function(e,t,n){n.d(t,{a:function(){return o},e:function(){return s},s:function(){return r}});let r=class e{constructor(e=[],t=[]){this.lengths=e??[],this.coords=t??[]}static fromJSON(t){return new e(t.lengths,t.coords)}static fromRect(t){const[n,r,s,o]=t,i=s-n,a=o-r;return new e([5],[n,r,i,0,0,a,-i,0,0,-a])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((e,t)=>e+t))}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=r}}deltaDecode(){const e=this.clone(),{coords:t,lengths:n}=e;let r=0;for(const s of n){for(let e=1;e<s;e++)t[2*(r+e)]+=t[2*(r+e)-2],t[2*(r+e)+1]+=t[2*(r+e)-1];r+=s}return e}clone(t){if(0===this.lengths.length)return new e([],[this.coords[0],this.coords[1]]);const n=2*(0===this.lengths.length?1:this.lengths.reduce(((e,t)=>e+t))),r=this.coords.slice(0,n);return t?(t.set(r),new e(this.lengths,t)):new e(Array.from(this.lengths),Array.from(r))}};class s{constructor(e=null,t={},n,r){this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=r,this.displayId=0,this.geohashX=0,this.geohashY=0}static fromJSON(e,t){const n=e.geometry?r.fromJSON(e.geometry):null,o=e.centroid?r.fromJSON(e.centroid):null,i=e.attributes[t];return new s(n,e.attributes,o,i)}weakClone(){const e=new s(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e.geohashX=this.geohashX,e.geohashY=this.geohashY,e}clone(){const e=this.geometry?.clone(),t=new s(e,{...this.attributes},this.centroid?.clone(),this.objectId);return t.displayId=this.displayId,t.geohashX=this.geohashX,t.geohashY=this.geohashY,t}}function o(e){return!!e.geometry?.coords?.length}},83258:function(e,t,n){n.d(t,{e:function(){return r}});class r{constructor(){this.objectIdFieldName=null,this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new r;return e.objectIdFieldName=this.objectIdFieldName,e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},35843:function(e,t,n){n.r(t),n.d(t,{default:function(){return R}});var r=n(49329),s=n(98503),o=n(49555),i=n(98089),a=n(45121),l=n(25492);let u=class{constructor(e,t,n){this.uid=e,this.geometry=t,this.attributes=n,this.visible=!0,this.objectId=null,this.centroid=null}};class c{constructor(){this.exceededTransferLimit=!1,this.features=[],this.fields=[],this.hasM=!1,this.hasZ=!1,this.geometryType=null,this.objectIdFieldName=null,this.globalIdFieldName=null,this.geometryProperties=null,this.geohashFieldName=null,this.spatialReference=null,this.transform=null}}function h(e,t,n,r){if(t?.size&&null!=n&&e)for(const s in e){if(!t.has(s))continue;const o=e[s];"string"==typeof o&&o.length>n&&(r(s),e[s]="")}}function f(e,t){return t}function d(e,t,n,r){switch(n){case 0:return m(e,t+r,0);case 1:return"lowerLeft"===e.originPosition?m(e,t+r,1):_(e,t+r,1)}}function p(e,t,n,r){return 2===n?m(e,t,2):d(e,t,n,r)}function g(e,t,n,r){return 2===n?m(e,t,3):d(e,t,n,r)}function y(e,t,n,r){return 3===n?m(e,t,3):p(e,t,n,r)}function m({translate:e,scale:t},n,r){return e[r]+n*t[r]}function _({translate:e,scale:t},n,r){return e[r]-n*t[r]}class C{constructor(e){this._options=e,this.geometryTypes=["point","multipoint","polyline","polygon"],this._previousCoordinate=[0,0],this._transform=null,this._applyTransform=f,this._lengths=[],this._currentLengthIndex=0,this._toAddInCurrentPath=0,this._vertexDimension=0,this._coordinateBuffer=null,this._coordinateBufferPtr=0,this._attributesConstructor=class{},this._missingAttributes=[]}get missingAttributes(){return this._missingAttributes}createFeatureResult(){return new c}finishFeatureResult(e){if(this._options.applyTransform&&(e.transform=null),this._attributesConstructor=class{},this._coordinateBuffer=null,this._lengths.length=0,!e.hasZ)return;const t=(0,o.o)(e.geometryType,this._options.sourceSpatialReference,e.spatialReference);if(null!=t)for(const n of e.features)t(n.geometry)}createSpatialReference(){return new s.B}addField(e,t){e.fields.push(i.y.fromJSON(t));const n=e.fields.map((e=>e.name));this._attributesConstructor=function(){for(const e of n)this[e]=null}}addFeature(e,t){const n=this._options.maxStringAttributeLength,r=this._options.maxStringAttributeFields;h(t.attributes,r,n,(n=>{const r=t.attributes[e.objectIdFieldName];null!=r&&this._missingAttributes.push({objectId:r,attribute:n})})),e.features.push(t)}addQueryGeometry(e,t){const{queryGeometry:n,queryGeometryType:r}=t,s=(0,a.p)(n.clone(),n,!1,!1,this._transform),o=(0,a.r)(s,r,!1,!1);let i=null;switch(r){case"esriGeometryPoint":i="point";break;case"esriGeometryPolygon":i="polygon";break;case"esriGeometryPolyline":i="polyline";break;case"esriGeometryMultipoint":i="multipoint"}o.type=i,e.queryGeometryType=r,e.queryGeometry=o}prepareFeatures(e){switch(this._transform=e.transform??null,this._options.applyTransform&&e.transform&&(this._applyTransform=this._deriveApplyTransform(e)),this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++,e.geometryType){case"point":this.addCoordinate=(e,t,n)=>this.addCoordinatePoint(e,t,n),this.createGeometry=e=>this.createPointGeometry(e);break;case"polygon":this.addCoordinate=(e,t,n)=>this._addCoordinatePolygon(e,t,n),this.createGeometry=e=>this._createPolygonGeometry(e);break;case"polyline":this.addCoordinate=(e,t,n)=>this._addCoordinatePolyline(e,t,n),this.createGeometry=e=>this._createPolylineGeometry(e);break;case"multipoint":this.addCoordinate=(e,t,n)=>this._addCoordinateMultipoint(e,t,n),this.createGeometry=e=>this._createMultipointGeometry(e);break;case"mesh":case"extent":break;default:(0,r.n)(e.geometryType)}}createFeature(){return this._lengths.length=0,this._currentLengthIndex=0,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0,new u((0,s.fH)(),null,new this._attributesConstructor)}allocateCoordinates(){const e=this._lengths.reduce(((e,t)=>e+t),0);this._coordinateBuffer=new Float64Array(e*this._vertexDimension),this._coordinateBufferPtr=0}addLength(e,t){0===this._lengths.length&&(this._toAddInCurrentPath=t),this._lengths.push(t)}createPointGeometry(e){const t={type:"point",x:0,y:0,spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM};return t.hasZ&&(t.z=0),t.hasM&&(t.m=0),t}addCoordinatePoint(e,t,n){const r=this._transform?this._applyTransform(this._transform,t,n,0):t;if(null!=r)switch(n){case 0:e.x=r;break;case 1:e.y=r;break;case 2:e.hasZ?e.z=r:e.m=r;break;case 3:e.m=r}}_transformPathLikeValue(e,t){let n=0;return t<=1&&(n=this._previousCoordinate[t],this._previousCoordinate[t]+=e),this._transform?this._applyTransform(this._transform,e,t,n):e}_addCoordinatePolyline(e,t,n){this._dehydratedAddPointsCoordinate(e.paths,t,n)}_addCoordinatePolygon(e,t,n){this._dehydratedAddPointsCoordinate(e.rings,t,n)}_addCoordinateMultipoint(e,t,n){0===n&&e.points.push([]);const r=this._transformPathLikeValue(t,n);e.points[e.points.length-1].push(r)}_createPolygonGeometry(e){return{type:"polygon",rings:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createPolylineGeometry(e){return{type:"polyline",paths:[[]],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_createMultipointGeometry(e){return{type:"multipoint",points:[],spatialReference:e.spatialReference,hasZ:!!e.hasZ,hasM:!!e.hasM}}_dehydratedAddPointsCoordinate(e,t,n){0===n&&0==this._toAddInCurrentPath--&&(e.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);const r=this._transformPathLikeValue(t,n),s=e[e.length-1],o=this._coordinateBuffer;if(o){if(0===n){const e=this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT;s.push(new Float64Array(o.buffer,e,this._vertexDimension))}o[this._coordinateBufferPtr++]=r}}_deriveApplyTransform(e){const{hasZ:t,hasM:n}=e;return t&&n?y:t?p:n?g:d}}class S{_parseFeatureQuery(e){const t=new C(e.options),n=(0,l.t)(e.buffer,t),r={...n,spatialReference:n.spatialReference?.toJSON(),fields:n.fields?n.fields.map((e=>e.toJSON())):void 0,missingAttributes:t.missingAttributes};return Promise.resolve(r)}}function R(){return new S}},49329:function(e,t,n){n.d(t,{n:function(){return r},o:function(){return s}});n(98503);function r(e){}function s(e){return()=>e}},45121:function(e,t,n){n.d(t,{$:function(){return L},H:function(){return q},I:function(){return le},K:function(){return U},N:function(){return p},O:function(){return T},P:function(){return m},Q:function(){return V},U:function(){return N},a:function(){return ne},b:function(){return ce},c:function(){return Q},e:function(){return Z},f:function(){return te},g:function(){return ie},h:function(){return re},i:function(){return ee},l:function(){return $},n:function(){return K},o:function(){return z},p:function(){return ae},r:function(){return J},t:function(){return D},w:function(){return g}});var r=n(98503),s=n(75934),o=n(83258);function i(e,t){return e?t?4:3:t?3:2}const a=()=>r.n.getLogger("esri.layers.graphics.featureConversionUtils"),l={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryMultiPatch:3,esriGeometryEnvelope:0},u=(e,t,n,r,s,o)=>{e[n]=s,e[n+1]=o},c=(e,t,n,r,s,o)=>{e[n]=s,e[n+1]=o,e[n+2]=t[r+2]},h=(e,t,n,r,s,o)=>{e[n]=s,e[n+1]=o,e[n+2]=t[r+3]},f=(e,t,n,r,s,o)=>{e[n]=s,e[n+1]=o,e[n+2]=t[r+2],e[n+3]=t[r+3]};function d(e,t,n,r){if(e){if(n)return t&&r?f:c;if(t&&r)return h}else if(t&&r)return c;return u}function p({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function g({scale:e,translate:t},n){return Math.round((t[1]-n)/e[1])}function y({scale:e,translate:t},n,r){return n*e[r]+t[r]}function m(e,t,n){return e?t?n?P(e):S(e):n?b(e):_(e):null}function _(e){const t=e.coords;return{x:t[0],y:t[1]}}function C(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e}function S(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2]}}function R(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e}function b(e){const t=e.coords;return{x:t[0],y:t[1],m:t[2]}}function E(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.m,e}function P(e){const t=e.coords;return{x:t[0],y:t[1],z:t[2],m:t[3]}}function w(e,t){return e.coords[0]=t.x,e.coords[1]=t.y,e.coords[2]=t.z,e.coords[3]=t.m,e}function M(e,t,n,r){let s=_;n&&r?s=P:n?s=S:r&&(s=b);for(const o of t){const{geometry:t,attributes:n}=o,r=null!=t?s(t):null;e.push({attributes:n,geometry:r})}return e}function k(e,t){return e&&t?w:e?R:t?E:C}function I(e,t,n,r,o){const i=k(n,r);for(const{geometry:a,attributes:l}of t){const t=null!=a?i(new s.s,a):null;e.push(new s.e(t,l,null,o?l[o]:void 0))}return e}function T(e,t,n=k(null!=t.z,null!=t.m)){return n(e,t)}function A(e,t,n,r){for(const{geometry:s,attributes:o}of t)e.push({attributes:o,geometry:null!=s?N(s,n,r):null});return e}function N(e,t,n){if(null==e)return null;const r=i(t,n),s=[];for(let o=0;o<e.coords.length;o+=r){const t=[];for(let n=0;n<r;n++)t.push(e.coords[o+n]);s.push(t)}return t?n?{points:s,hasZ:t,hasM:n}:{points:s,hasZ:t}:n?{points:s,hasM:n}:{points:s}}function G(e,t,n,r,o){const a=i(n,r);for(const{geometry:i,attributes:l}of t){const t=null!=i?F(new s.s,i,a):null;e.push(new s.e(t,l,null,o?l[o]:void 0))}return e}function F(e,t,n=i(t.hasZ,t.hasM)){e.lengths[0]=t.points.length;const r=e.coords;let s=0;for(const o of t.points)for(let e=0;e<n;e++)r[s++]=o[e];return e}function O(e,t,n,r){for(const{geometry:s,attributes:o}of t)e.push({attributes:o,geometry:null!=s?L(s,n,r):null});return e}function L(e,t,n){if(!e)return null;const r=i(t,n),{coords:s,lengths:o}=e,a=[];let l=0;for(const i of o){const e=[];for(let t=0;t<i;t++){const t=[];for(let e=0;e<r;e++)t.push(s[l++]);e.push(t)}a.push(e)}return t?n?{paths:a,hasZ:t,hasM:n}:{paths:a,hasZ:t}:n?{paths:a,hasM:n}:{paths:a}}function v(e,t,n,r,o){const a=i(n,r);for(const{geometry:i,attributes:l,centroid:u}of t){const t=null!=i?x(new s.s,i,a):null,n=null!=u?T(new s.s,u):null;e.push(new s.e(t,l,n,o?l[o]:void 0))}return e}function x(e,t,n=i(t.hasZ,t.hasM)){const{lengths:r,coords:s}=e;let o=0;for(const i of t.paths){for(const e of i)for(let t=0;t<n;t++)s[o++]=e[t];r.push(i.length)}return e}function W(e,t,n,r){for(const{geometry:s,attributes:o,centroid:i}of t){const t=null!=s?q(s,n,r):null;if(null!=i){const n=_(i);e.push({attributes:o,centroid:n,geometry:t})}else e.push({attributes:o,geometry:t})}return e}function q(e,t,n){if(!e)return null;const r=i(t,n),{coords:s,lengths:o}=e,a=[];let l=0;for(const i of o){const e=[];for(let t=0;t<i;t++){const t=[];for(let e=0;e<r;e++)t.push(s[l++]);e.push(t)}a.push(e)}return t?n?{rings:a,hasZ:t,hasM:n}:{rings:a,hasZ:t}:n?{rings:a,hasM:n}:{rings:a}}function j(e,t,n,r,o){for(const{geometry:i,centroid:a,attributes:l}of t){const t=null!=i?U(new s.s,i,n,r):null,u=o?l[o]:void 0;null!=a?e.push(new s.e(t,l,C(new s.s,a),u)):e.push(new s.e(t,l,null,u))}return e}function U(e,t,n=t.hasZ,r=t.hasM){return V(e,t.rings,n,r)}function V(e,t,n,r){const s=i(n,r),{lengths:o,coords:a}=e;let l=0;he(e);for(const i of t){for(const e of i)for(let t=0;t<s;t++)a[l++]=e[t];o.push(i.length)}return e}const B=[],H=[];function D(e,t,n,r,s){B[0]=e;const[o]=Z(H,B,t,n,r,s);return fe(B),fe(H),o}function Z(e,t,n,o,i,l){if(fe(e),!n){for(const n of t){const t=l?n.attributes[l]:void 0;e.push(new s.e(null,n.attributes,null,t))}return e}switch(n){case"esriGeometryPoint":return I(e,t,o,i,l);case"esriGeometryMultipoint":return G(e,t,o,i,l);case"esriGeometryPolyline":return v(e,t,o,i,l);case"esriGeometryPolygon":case"esriGeometryMultiPatch":return j(e,t,o,i,l);default:a().error("convertToFeatureSet:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${n}'`)),fe(e)}return e}function K(e,t,n,r){H[0]=e,X(B,H,t,n,r);const s=B[0];return fe(B),fe(H),s}function z(e,t,n){if(null==e)return null;const o=new s.s;return"hasZ"in e&&null==t&&(t=e.hasZ),"hasM"in e&&null==n&&(n=e.hasM),(0,r.a8)(e)?k(t??null!=e.z,n??null!=e.m)(o,e):(0,r.a9)(e)?U(o,e,t,n):(0,r.aa)(e)?x(o,e,i(t,n)):(0,r.ab)(e)?F(o,e,i(t,n)):void a().error("convertFromGeometry:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${e}'`))}function J(e,t,n,s){const o=e&&("coords"in e?e:e.geometry);if(null==o)return null;switch(t){case"esriGeometryPoint":{let e=_;return n&&s?e=P:n?e=S:s&&(e=b),e(o)}case"esriGeometryMultipoint":return N(o,n,s);case"esriGeometryPolyline":return L(o,n,s);case"esriGeometryPolygon":return q(o,n,s);default:return a().error("convertToGeometry:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${t}'`)),null}}function Y(e,t){for(const n of t)e.push({attributes:n.attributes});return e}function X(e,t,n,s,o){if(fe(e),null==n)return Y(e,t);switch(n){case"esriGeometryPoint":return M(e,t,s,o);case"esriGeometryMultipoint":return A(e,t,s,o);case"esriGeometryPolyline":return O(e,t,s,o);case"esriGeometryPolygon":return W(e,t,s,o);default:a().error("convertToFeatureSet:unknown-geometry",new r.s(`Unable to parse unknown geometry type '${n}'`))}return e}function $(e){const{objectIdFieldName:t,spatialReference:n,transform:r,fields:s,hasM:o,hasZ:i,features:a,geometryType:l,exceededTransferLimit:u,uniqueIdField:c,queryGeometry:h,queryGeometryType:f}=e,d={features:X([],a,l,i,o),fields:s,geometryType:l,objectIdFieldName:t,spatialReference:n,uniqueIdField:c,queryGeometry:J(h,f,!1,!1)};return r&&(d.transform=r),u&&(d.exceededTransferLimit=u),o&&(d.hasM=o),i&&(d.hasZ=i),d}function Q(e,t){const n=new o.e,{hasM:s,hasZ:i,features:l,objectIdFieldName:u,spatialReference:c,geometryType:h,exceededTransferLimit:f,transform:d,fields:p}=e;return p&&(n.fields=p),n.geometryType=h??null,n.objectIdFieldName=u??t??null,n.spatialReference=c??null,n.objectIdFieldName?(l&&Z(n.features,l,h,i,s,n.objectIdFieldName),f&&(n.exceededTransferLimit=f),s&&(n.hasM=s),i&&(n.hasZ=i),d&&(n.transform=d),n):(a().error(new r.s("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),n)}function ee(e){const{transform:t,features:n,hasM:r,hasZ:s}=e;if(!t)return e;for(const o of n)null!=o.geometry&&ae(o.geometry,o.geometry,r,s,t),null!=o.centroid&&ae(o.centroid,o.centroid,r,s,t);return e.transform=null,e}function te(e,t){const{geometryType:n,features:r,hasM:o,hasZ:i}=t;if(!e)return t;for(let a=0;a<r.length;a++){const t=r[a],l=t.weakClone();l.geometry=new s.s,ne(l.geometry,t.geometry,o,i,n,e),t.centroid&&(l.centroid=new s.s,ne(l.centroid,t.centroid,o,i,"esriGeometryPoint",e)),r[a]=l}return t.transform=e,t}function ne(e,t,n,r,s,o,a=n,u=r){if(he(e),!t?.coords.length)return null;const c=l[s],{coords:h,lengths:f}=t,y=i(n,r),m=i(n&&a,r&&u),_=d(n,r,a,u);if(!f.length)return _(e.coords,h,0,0,p(o,h[0]),g(o,h[1])),he(e,y,0),e;let C,S,R,b,E=0,P=0,w=P;for(const i of f){if(i<c)continue;let t=0;P=w,R=C=p(o,h[E]),b=S=g(o,h[E+1]),_(e.coords,h,P,E,R,b),t++,E+=y,P+=m;for(let n=1;n<i;n++,E+=y)R=p(o,h[E]),b=g(o,h[E+1]),R===C&&b===S||(_(e.coords,h,P,E,R-C,b-S),P+=m,t++,C=R,S=b);t>=c&&(e.lengths.push(t),w=P)}return fe(e.coords,w),e.coords.length?e:null}function re(e,t,n,r,s,o,a=n,u=r){if(he(e),!t?.coords.length)return null;const c=l[s],{coords:h,lengths:f}=t,p=i(n,r),g=i(n&&a,r&&u),y=d(n,r,a,u);if(!f.length)return y(e.coords,h,0,0,h[0],h[1]),he(e,p,0),e;let m=0;const _=o*o;for(const i of f){if(i<c){m+=i*p;continue}const t=e.coords.length/g,n=m,r=m+(i-1)*p;y(e.coords,h,e.coords.length,n,h[n],h[n+1]),oe(e.coords,h,p,_,y,n,r),y(e.coords,h,e.coords.length,r,h[r],h[r+1]);const s=e.coords.length/g-t;s>=c?e.lengths.push(s):fe(e.coords,t*g),m+=i*p}return e.coords.length?e:null}function se(e,t,n,r){const s=e[t],o=e[t+1],i=e[n],a=e[n+1],l=e[r],u=e[r+1];let c=i,h=a,f=l-c,d=u-h;if(0!==f||0!==d){const e=((s-c)*f+(o-h)*d)/(f*f+d*d);e>1?(c=l,h=u):e>0&&(c+=f*e,h+=d*e)}return f=s-c,d=o-h,f*f+d*d}function oe(e,t,n,r,s,o,i){let a,l=r,u=0;for(let c=o+n;c<i;c+=n)a=se(t,c,o,i),a>l&&(u=c,l=a);l>r&&(u-o>n&&oe(e,t,n,r,s,o,u),s(e,t,e.length,u,t[u],t[u+1]),i-u>n&&oe(e,t,n,r,s,u,i))}function ie(e,t,n,s){if(!t?.coords?.length)return null;const o=i(n,s);let a=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=Number.NEGATIVE_INFINITY;if(t&&t.coords){const e=t.coords;for(let t=0;t<e.length;t+=o){const n=e[t],r=e[t+1];a=Math.min(a,n),u=Math.max(u,n),l=Math.min(l,r),c=Math.max(c,r)}}return(0,r.ac)(e)?(0,r.ad)(e,a,l,u,c):(0,r.ae)(a,l,u,c,e),e}function ae(e,t,n,s,o){const{coords:a,lengths:l}=t,u=i(n,s);if(!a.length)return e!==t&&he(e),e;(0,r.af)(o);const{originPosition:c,scale:h,translate:f}=o,d=de;d.originPosition=c;const p=d.scale;p[0]=h[0]??1,p[1]=-(h[1]??1),p[2]=h[2]??1,p[3]=h[3]??1;const g=d.translate;if(g[0]=f[0]??0,g[1]=f[1]??0,g[2]=f[2]??0,g[3]=f[3]??0,!l.length){for(let t=0;t<u;++t)e.coords[t]=y(d,a[t],t);return e!==t&&he(e,u,0),e}let m=0;for(let r=0;r<l.length;r++){const t=l[r];e.lengths[r]=t;for(let r=0;r<u;++r)e.coords[m+r]=y(d,a[m+r],r);let n=e.coords[m],s=e.coords[m+1];m+=u;for(let r=1;r<t;r++,m+=u){n+=a[m]*p[0],s+=a[m+1]*p[1],e.coords[m]=n,e.coords[m+1]=s;for(let t=2;t<u;++t)e.coords[m+t]=y(d,a[m+t],t)}}return e!==t&&he(e,a.length,l.length),e}function le(e,t,n,r,s,o){if(he(e),e.lengths.push(...t.lengths),n===s&&r===o)for(let i=0;i<t.coords.length;i++)e.coords.push(t.coords[i]);else{const a=i(n,r),l=d(n,r,s,o),u=t.coords;for(let t=0;t<u.length;t+=a)l(e.coords,u,e.coords.length,t,u[t],u[t+1])}return e}function ue(e,t,n,r){let s=0,o=e[r*t],i=e[r*(t+1)];for(let a=1;a<n;a++){const n=o+e[r*(t+a)],l=i+e[r*(t+a)+1],u=(n-o)*(l+i);o=n,i=l,s+=u}return.5*s}function ce(e,t){const{coords:n,lengths:r}=e;let s=0,o=0;for(let i=0;i<r.length;i++){const e=r[i];o+=ue(n,s,e,t),s+=e}return Math.abs(o)}function he(e,t=0,n=0){fe(e.lengths,n),fe(e.coords,t)}function fe(e,t=0){e.length!==t&&(e.length=t)}const de={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]}},22555:function(e,t,n){n.d(t,{i:function(){return s}});var r=n(98503);const s=new r.ax({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},88623:function(e,t,n){n.d(t,{n:function(){return l}});var r,s=n(98503);(function(e){e[e.varint=0]="varint",e[e.fixed64=1]="fixed64",e[e.delimited=2]="delimited",e[e.fixed32=5]="fixed32",e[e.unknown=99]="unknown"})(r||(r={}));const o=4294967296,i=new TextDecoder("utf-8"),a=(0,s.a$)("safari")||(0,s.a$)("ios")?6:(0,s.a$)("ff")?12:32;class l{constructor(e,t,n=0,s=(e?e.byteLength:0)){this._tag=0,this._dataType=r.unknown,this._init(e,t,n,s)}_init(e,t,n,r){this._data=e,this._dataView=t,this._pos=n,this._end=r}asUnsafe(){return this}clone(){return new l(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=e}nextTag(e){for(;;){if(this._pos===this._end)return!1;const t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295;if(e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128||(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)||(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)||(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)||(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128))return e;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32();return e>>>1^-(1&e)}getSInt64(){return this._decodeSVarint()}getBool(){const e=0!==this._data[this._pos];return this._skip(1),e}getEnum(){return this._decodeVarint()}getFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getUint32(t+4,!0)*o;return this._skip(8),n}getSFixed64(){const e=this._dataView,t=this._pos,n=e.getUint32(t,!0)+e.getInt32(t+4,!0)*o;return this._skip(8),n}getDouble(){const e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}getSFixed32(){const e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}getString(){const e=this._getLength(),t=this._pos,n=this._toString(this._data,t,t+e);return this._skip(e),n}getBytes(){const e=this._getLength(),t=this._pos,n=this._toBytes(this._data,t,t+e);return this._skip(e),n}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,t,n,r){const s=this.getMessage(),o=e(s,t,n,r);return s.release(),o}processMessage(e){const t=this.getMessage(),n=e(t);return t.release(),n}getMessage(){const e=this._getLength(),t=l.pool.acquire();return t._init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),t}release(){l.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case r.varint:this._decodeVarint();break;case r.fixed64:this._skip(8);break;case r.delimited:this._skip(this._getLength());break;case r.fixed32:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}_decodeVarint(){const e=this._data;let t=this._pos,n=0,r=0;if(this._end-t>=10)do{if(r=e[t++],n|=127&r,!(128&r)||(r=e[t++],n|=(127&r)<<7,!(128&r))||(r=e[t++],n|=(127&r)<<14,!(128&r))||(r=e[t++],n|=(127&r)<<21,!(128&r))||(r=e[t++],n+=268435456*(127&r),!(128&r))||(r=e[t++],n+=34359738368*(127&r),!(128&r))||(r=e[t++],n+=4398046511104*(127&r),!(128&r))||(r=e[t++],n+=562949953421312*(127&r),!(128&r))||(r=e[t++],n+=72057594037927940*(127&r),!(128&r))||(r=e[t++],n+=0x8000000000000000*(127&r),!(128&r)))break;throw new Error("Varint too long!")}while(0);else{let s=1;for(;t!==this._end&&(r=e[t],128&r);)++t,n+=(127&r)*s,s*=128;if(t===this._end)throw new Error("Varint overrun!");++t,n+=r*s}return this._pos=t,n}_decodeSVarint(){const e=this._data;let t,n=0,r=0;const s=1&e[this._pos];if(r=e[this._pos++],n|=127&r,!(128&r)||(r=e[this._pos++],n|=(127&r)<<7,!(128&r))||(r=e[this._pos++],n|=(127&r)<<14,!(128&r))||(r=e[this._pos++],n|=(127&r)<<21,!(128&r))||(r=e[this._pos++],n+=268435456*(127&r),!(128&r))||(r=e[this._pos++],n+=34359738368*(127&r),!(128&r))||(r=e[this._pos++],n+=4398046511104*(127&r),!(128&r)))return s?-(n+1)/2:n/2;if(t=BigInt(n),r=e[this._pos++],t+=0x2000000000000n*BigInt(127&r),!(128&r)||(r=e[this._pos++],t+=0x100000000000000n*BigInt(127&r),!(128&r))||(r=e[this._pos++],t+=0x8000000000000000n*BigInt(127&r),!(128&r)))return Number(s?-(t+1n)/2n:t/2n);throw new Error("Varint too long!")}_getLength(){if(this._dataType!==r.delimited)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,t,n){if((n=Math.min(this._end,n))-t>a){const r=e.subarray(t,n);return i.decode(r)}let r="",s="";for(let o=t;o<n;++o){const t=e[o];128&t?s+="%"+t.toString(16):(r+=decodeURIComponent(s)+String.fromCharCode(t),s="")}return s.length&&(r+=decodeURIComponent(s)),r}_toBytes(e,t,n){return n=Math.min(this._end,n),new Uint8Array(e.buffer,t,n-t)}}l.pool=new s.aB(l,void 0,(e=>{e._data=null,e._dataView=null}))},25492:function(e,t,n){n.d(t,{a:function(){return l},b:function(){return S},h:function(){return w},t:function(){return N}});var r=n(98503),s=n(88623),o=n(75934),i=n(83258);const a=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let l=class{constructor(e){this._options=e,this.geometryTypes=a,this._coordinatePtr=0,this._vertexDimension=0}createFeatureResult(){return new i.e}prepareFeatures(e){this._vertexDimension=2,e.hasZ&&this._vertexDimension++,e.hasM&&this._vertexDimension++}finishFeatureResult(e){if(!e?.features||!e.hasZ||!this._options.sourceSpatialReference||!e.spatialReference||(0,r.bh)(e.spatialReference,this._options.sourceSpatialReference)||e.spatialReference.vcsWkid)return;const t=(0,r.bg)(this._options.sourceSpatialReference)/(0,r.bg)(e.spatialReference);if(1!==t)for(const n of e.features){if(!(0,o.a)(n))continue;const e=n.geometry.coords;for(let n=2;n<e.length;n+=3)e[n]*=t}}addFeature(e,t){e.features.push(t)}createFeature(){return new o.e}createSpatialReference(){return{wkid:0}}createGeometry(){return new o.s}addField(e,t){e.fields.push(t)}allocateCoordinates(e){e.coords.length=e.lengths.reduce(((e,t)=>e+t),0)*this._vertexDimension,this._coordinatePtr=0}addCoordinate(e,t){e.coords[this._coordinatePtr++]=t}addCoordinatePoint(e,t){e.coords.push(t)}addLength(e,t){e.lengths.push(t)}addQueryGeometry(e,t){e.queryGeometry=t.queryGeometry,e.queryGeometryType=t.queryGeometryType}createPointGeometry(){return new o.s}};const u=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeBigInteger","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],c=["sqlTypeBigInt","sqlTypeBinary","sqlTypeBit","sqlTypeChar","sqlTypeDate","sqlTypeDecimal","sqlTypeDouble","sqlTypeFloat","sqlTypeGeometry","sqlTypeGUID","sqlTypeInteger","sqlTypeLongNVarchar","sqlTypeLongVarbinary","sqlTypeLongVarchar","sqlTypeNChar","sqlTypeNVarchar","sqlTypeOther","sqlTypeReal","sqlTypeSmallInt","sqlTypeSqlXml","sqlTypeTime","sqlTypeTimestamp","sqlTypeTimestamp2","sqlTypeTinyInt","sqlTypeVarbinary","sqlTypeVarchar"],h=["upperLeft","lowerLeft"];function f(e){return e>=u.length?null:u[e]}function d(e){return e>=c.length?null:c[e]}function p(e){return e>=h.length?null:h[e]}function g(e,t){return t>=e.geometryTypes.length?null:e.geometryTypes[t]}function y(e,t,n){const r=e.asUnsafe(),s=t.createPointGeometry(n);for(;r.next();)switch(r.tag()){case 3:{const e=r.getUInt32(),n=r.pos()+e;let o=0;for(;r.pos()<n;)t.addCoordinatePoint(s,r.getSInt64(),o++);break}default:r.skip()}return s}function m(e,t,n){const r=e.asUnsafe(),s=t.createGeometry(n),o=2+(n.hasZ?1:0)+(n.hasM?1:0);for(;r.next();)switch(r.tag()){case 2:{const e=r.getUInt32(),n=r.pos()+e;let o=0;for(;r.pos()<n;)t.addLength(s,r.getUInt32(),o++);break}case 3:{const e=r.getUInt32(),n=r.pos()+e;let i=0;for(t.allocateCoordinates(s);r.pos()<n;)t.addCoordinate(s,r.getSInt64(),i),i++,i===o&&(i=0);break}default:r.skip()}return s}function _(e){const t=e.asUnsafe(),n=new o.s;let r="esriGeometryPoint";for(;t.next();)switch(t.tag()){case 2:{const e=t.getUInt32(),r=t.pos()+e;for(;t.pos()<r;)n.lengths.push(t.getUInt32());break}case 3:{const e=t.getUInt32(),r=t.pos()+e;for(;t.pos()<r;)n.coords.push(t.getSInt64());break}case 1:r=a[t.getEnum()];break;default:t.skip()}return{queryGeometry:n,queryGeometryType:r}}function C(e){const t=e.asUnsafe();for(;t.next();)switch(t.tag()){case 1:return t.getString();case 2:return t.getFloat();case 3:return t.getDouble();case 4:return t.getSInt32();case 5:return t.getUInt32();case 6:return t.getInt64();case 7:return t.getUInt64();case 8:return t.getSInt64();case 9:return t.getBool();default:return t.skip(),null}return null}function S(e){const t=e.asUnsafe(),n={type:f(0)};for(;t.next();)switch(t.tag()){case 1:n.name=t.getString();break;case 2:n.type=f(t.getEnum());break;case 3:n.alias=t.getString();break;case 4:n.sqlType=d(t.getEnum());break;case 5:t.skip();break;case 6:n.defaultValue=t.getString();break;default:t.skip()}return n}function R(e){const t={},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.name=n.getString();break;case 2:t.isSystemMaintained=n.getBool();break;default:n.skip()}return t}function b(e,t,n,r){const s=t.createFeature(n);let o=0;for(;e.next();)switch(e.tag()){case 1:{const t=r[o++].name;s.attributes[t]=e.processMessage(C);break}case 2:s.geometry=e.processMessageWithArgs(m,t,n);break;case 4:s.centroid=e.processMessageWithArgs(y,t,n);break;default:e.skip()}return s}function E(e){const t=[1,1,1,1],n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble();break;case 2:t[1]=n.getDouble();break;case 4:t[2]=n.getDouble();break;case 3:t[3]=n.getDouble();break;default:n.skip()}return t}function P(e){const t=[0,0,0,0],n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t[0]=n.getDouble();break;case 2:t[1]=n.getDouble();break;case 4:t[2]=n.getDouble();break;case 3:t[3]=n.getDouble();break;default:n.skip()}return t}function w(e){const t={originPosition:p(0)},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.originPosition=p(n.getEnum());break;case 2:t.scale=n.processMessage(E);break;case 3:t.translate=n.processMessage(P);break;default:n.skip()}return t}function M(e){const t={},n=e.asUnsafe();for(;n.next();)switch(n.tag()){case 1:t.shapeAreaFieldName=n.getString();break;case 2:t.shapeLengthFieldName=n.getString();break;case 3:t.units=n.getString();break;default:n.skip()}return t}function k(e,t){const n=t.createSpatialReference();for(;e.next();)switch(e.tag()){case 1:n.wkid=e.getUInt32();break;case 5:n.wkt=e.getString();break;case 2:n.latestWkid=e.getUInt32();break;case 3:n.vcsWkid=e.getUInt32();break;case 4:n.latestVcsWkid=e.getUInt32();break;default:e.skip()}return n}function I(e,t){const n=t.createFeatureResult(),r=e.asUnsafe();n.geometryType=g(t,0);let s=!1;for(;r.next();)switch(r.tag()){case 1:n.objectIdFieldName=r.getString();break;case 3:n.globalIdFieldName=r.getString();break;case 4:n.geohashFieldName=r.getString();break;case 5:n.geometryProperties=r.processMessage(M);break;case 7:n.geometryType=g(t,r.getEnum());break;case 8:n.spatialReference=r.processMessageWithArgs(k,t);break;case 10:n.hasZ=r.getBool();break;case 11:n.hasM=r.getBool();break;case 12:n.transform=r.processMessage(w);break;case 9:n.exceededTransferLimit=r.getBool();break;case 13:t.addField(n,r.processMessage(S));break;case 15:s||(t.prepareFeatures(n),s=!0),t.addFeature(n,r.processMessageWithArgs(b,t,n,n.fields));break;case 2:n.uniqueIdField=r.processMessage(R);break;default:r.skip()}return t.finishFeatureResult(n),n}function T(e,t){const n={};let r=null;for(;e.next();)switch(e.tag()){case 4:r=e.processMessageWithArgs(_);break;case 1:n.featureResult=e.processMessageWithArgs(I,t);break;default:e.skip()}return null!=r&&n.featureResult&&t.addQueryGeometry(n,r),n}function A(e,t){try{const n=new s.n(new Uint8Array(e),new DataView(e)),r={};for(;n.next();)2===n.tag()?r.queryResult=n.processMessageWithArgs(T,t):n.skip();return r}catch(n){throw new r.s("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:n})}}function N(e,t){const n=A(e,t),r=n.queryResult.featureResult,s=n.queryResult.queryGeometry,o=n.queryResult.queryGeometryType;if(r&&r.features&&r.features.length&&r.objectIdFieldName){const e=r.objectIdFieldName;for(const t of r.features)t.attributes&&(t.objectId=t.attributes[e])}return r&&(r.queryGeometry=s,r.queryGeometryType=o),r}},85502:function(e,t,n){n.r(t),n.d(t,{E:function(){return K},F:function(){return d},G:function(){return f},L:function(){return h},N:function(){return c},d:function(){return u},e:function(){return Z},i:function(){return s},l:function(){return D},n:function(){return te},p:function(){return ne},t:function(){return o}});var r=n(98503);const s=Math.PI/180,o=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,i=r.a3.radius,a=r.a3.eccentricitySquared,l={a1:i*a,a2:i*a*i*a,a3:i*a*a/2,a4:i*a*i*a*2.5,a5:i*a+i*a*a/2,a6:1-a},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a3.radius,f:r.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.fs.radius,f:r.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.ft.radius,f:r.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var c;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(c||(c={}));const h={[c.WGS84]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:C,[c.PLATE_CARREE]:S,[c.WGS84]:p,[c.WGS84_ECEF]:q},[c.CGCS2000]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:C,[c.PLATE_CARREE]:S,[c.WGS84]:p,[c.WGS84_ECEF]:q},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:p,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:A,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:T,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:g,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:g,[c.SPHERICAL_ECEF]:y,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:p,[c.PLATE_CARREE]:b,[c.WGS84]:g,[c.WGS84_ECEF]:m},[c.WGS84_ECEF]:{[c.CGCS2000]:j,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:j,[c.SPHERICAL_ECEF]:U,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:V,[c.PLATE_CARREE]:E,[c.WGS84]:j,[c.WGS84_ECEF]:p},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:L,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:L,[c.SPHERICAL_ECEF]:p,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:v,[c.PLATE_CARREE]:P,[c.WGS84]:L,[c.WGS84_ECEF]:x},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:O,[c.GCSMOON2000]:null,[c.LON_LAT]:O,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:p,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:F,[c.LON_LAT]:F,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:p,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:p,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:p,[c.GCSMARS2000]:p,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:A,[c.SPHERICAL_MOON_PCPF]:T,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:C,[c.PLATE_CARREE]:S,[c.WGS84]:p,[c.WGS84_ECEF]:q},[c.PLATE_CARREE]:{[c.CGCS2000]:R,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:R,[c.SPHERICAL_ECEF]:w,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:M,[c.PLATE_CARREE]:p,[c.WGS84]:R,[c.WGS84_ECEF]:k}};function f(e,t,n=H()){return null==e||null==t?null:B(e,t,n).projector}function d(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,r.bq)(e,1)),(0,r.fv)(e)?t.spatialReferenceId=c.SPHERICAL_ECEF:(0,r.cb)(e)?t.spatialReferenceId=c.WGS84:(0,r.cL)(e)?t.spatialReferenceId=c.WEB_MERCATOR:(0,r.fw)(e)?t.spatialReferenceId=c.PLATE_CARREE:e.wkt===r.c4.wkt?t.spatialReferenceId=c.WGS84_ECEF:e.wkid===r.fx.CGCS2000?t.spatialReferenceId=c.CGCS2000:e.wkt===r.c2.wkt?t.spatialReferenceId=c.SPHERICAL_MARS_PCPF:e.wkt===r.c3.wkt?t.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,r.eD)(e)?t.spatialReferenceId=c.GCSMARS2000:(0,r.eE)(e)?t.spatialReferenceId=c.GCSMOON2000:t.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function p(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function g(e,t,n,r){n[r]=J*(e[t]/$),n[r+1]=J*(X-2*Math.atan(Math.exp(-e[t+1]/$))),n[r+2]=e[t+2]}function y(e,t,n,r){const s=e[t]/$,o=X-2*Math.atan(Math.exp(-e[t+1]/$)),i=$+e[t+2],a=Math.cos(o)*i;n[r]=Math.cos(s)*a,n[r+1]=Math.sin(s)*a,n[r+2]=Math.sin(o)*i}function m(e,t,n,r){g(e,t,n,r),q(n,r,n,r)}function _(e,t,n,s,o){const i=.4999999*Y,a=(0,r.aP)(z*e[t+1],-i,i),l=Math.sin(a);n[s++]=z*e[t]*o.radius,n[s++]=o.halfSemiMajorAxis*Math.log((1+l)/(1-l)),n[s]=e[t+2]}function C(e,t,n,s){_(e,t,n,s,r.a3)}function S(e,t,n,r){n[r]=e[t]*Q,n[r+1]=e[t+1]*Q,n[r+2]=e[t+2]}function R(e,t,n,r){n[r]=e[t]*ee,n[r+1]=e[t+1]*ee,n[r+2]=e[t+2]}function b(e,t,n,r){g(e,t,n,r),S(n,r,n,r)}function E(e,t,n,r){j(e,t,n,r),S(n,r,n,r)}function P(e,t,n,r){L(e,t,n,r),S(n,r,n,r)}function w(e,t,n,r){R(e,t,n,r),N(n,r,n,r)}function M(e,t,n,r){R(e,t,n,r),C(n,r,n,r)}function k(e,t,n,r){R(e,t,n,r),q(n,r,n,r)}function I(e,t,n,r,s){const o=s+e[t+2],i=z*e[t+1],a=z*e[t],l=Math.cos(i)*o;n[r]=Math.cos(a)*l,n[r+1]=Math.sin(a)*l,n[r+2]=Math.sin(i)*o}function T(e,t,n,s){I(e,t,n,s,r.fs.radius)}function A(e,t,n,s){I(e,t,n,s,r.ft.radius)}function N(e,t,n,s){I(e,t,n,s,r.a3.radius)}function G(e,t,n,s,o){const i=e[t],a=e[t+1],l=e[t+2],u=Math.sqrt(i*i+a*a+l*l),c=(0,r.fu)(l/(0===u?1:u)),h=Math.atan2(a,i);n[s++]=J*h,n[s++]=J*c,n[s]=u-o}function F(e,t,n,s){G(e,t,n,s,r.fs.radius)}function O(e,t,n,s){G(e,t,n,s,r.ft.radius)}function L(e,t,n,s){G(e,t,n,s,r.a3.radius)}function v(e,t,n,r){L(e,t,n,r),C(n,r,n,r)}function x(e,t,n,r){L(e,t,n,r),q(n,r,n,r)}function W(e,t,n,r,s){const o=z*e[t],i=z*e[t+1],a=e[t+2],l=Math.sin(i),u=Math.cos(i),c=s.radius/Math.sqrt(1-s.eccentricitySquared*l*l);n[r++]=(c+a)*u*Math.cos(o),n[r++]=(c+a)*u*Math.sin(o),n[r++]=(c*(1-s.eccentricitySquared)+a)*l}function q(e,t,n,s){W(e,t,n,s,r.a3)}function j(e,t,n,s){const o=l,i=e[t],a=e[t+1],u=e[t+2];let c,h,f,d,p,g,y,m,_,C,S,R,b,E,P,w,M,k,I,T,A;c=Math.abs(u),h=i*i+a*a,f=Math.sqrt(h),d=h+u*u,p=Math.sqrt(d),T=Math.atan2(a,i),g=u*u/d,y=h/d,E=o.a2/p,P=o.a3-o.a4/p,y>.3?(m=c/p*(1+y*(o.a1+E+g*P)/p),I=Math.asin(m),C=m*m,_=Math.sqrt(1-C)):(_=f/p*(1-g*(o.a5-E-y*P)/p),I=Math.acos(_),C=1-_*_,m=Math.sqrt(C)),S=1-r.a3.eccentricitySquared*C,R=r.a3.radius/Math.sqrt(S),b=o.a6*R,E=f-R*_,P=c-b*m,M=_*E+m*P,w=_*P-m*E,k=w/(b/S+M),I+=k,A=M+w*k/2,u<0&&(I=-I),n[s++]=J*T,n[s++]=J*I,n[s]=A}function U(e,t,n,r){j(e,t,n,r),N(n,r,n,r)}function V(e,t,n,r){j(e,t,n,r),C(n,r,n,r)}function B(e,t,n){if(null==e||null==t||n.source.spatialReference===e&&n.dest.spatialReference===t)return n;const s=d(e,n.source),o=d(t,n.dest);return s===c.UNKNOWN&&o===c.UNKNOWN?(0,r.bh)(e,t)?n.projector=p:n.projector=null:n.projector=h[s][o],n}function H(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:p}}const D={spatialReference:null,spatialReferenceId:c.UNKNOWN},Z={spatialReference:null,spatialReferenceId:c.UNKNOWN},K=H(),z=(0,r.eI)(1),J=(0,r.dg)(1),Y=Math.PI,X=.5*Y,$=r.a3.radius,Q=$*Y/180,ee=180/($*Y);function te(e,t,n,r,s,o,i=Math.floor(e.length/3)){const a=f(t,s,K);if(null==a)return!1;if(a===p){if(e===r&&n===o)return!0;const t=n+3*i;for(let s=n,i=o;s<t;s++,i++)r[i]=e[s];return!0}const l=n+3*i;for(let u=n,c=o;u<l;u+=3,c+=3)a(e,u,r,c);return!0}const ne=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:te},Symbol.toStringTag,{value:"Module"}))},49555:function(e,t,n){n.r(t),n.d(t,{B:function(){return E},H:function(){return L},J:function(){return x},K:function(){return M},L:function(){return W},N:function(){return q},O:function(){return k},Q:function(){return j},V:function(){return I},W:function(){return w},X:function(){return T},Y:function(){return A},_:function(){return R},a:function(){return K},o:function(){return c},p:function(){return Q},s:function(){return u}});var r=n(98503),s=n(85502);function o(e,t,n,r,o,a){return i[0]=e,i[1]=t,i[2]=n,(0,s.n)(i,r,0,o,a,0)}const i=(0,r.aA)();let a=0;class l{static fromGE(e){const t=new l;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=a++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=a++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=a++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=a++}getInverse(){const e=new l;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let u=class e{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(t){const n=new e;let r="";for(const e of t.steps){const t=l.fromGE(e);n.steps.push(t),r+=t.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof l?this.steps.push(t):this.steps.push(new l({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const t=new e;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const n=this.steps[e];t.steps.push(n.getInverse())}return t}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(t,n,r){this._cachedProjection[e.cacheKey(t,n)]=r}getCachedGeTransformation(t,n){let r="";for(const e of this.steps)r+=e.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const s=this._cachedProjection[e.cacheKey(t,n)];return void 0===s?null:s}};function c(e,t,n){if(null==t||null==n||n.vcsWkid||(0,r.bh)(t,n)||(0,r.gK)(t)||(0,r.gK)(n))return null;const s=(0,r.bg)(t)/(0,r.bg)(n);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return e=>h(e,s);case"polyline":case"esriGeometryPolyline":return e=>d(e,s);case"polygon":case"esriGeometryPolygon":return e=>f(e,s);case"multipoint":case"esriGeometryMultipoint":return e=>p(e,s);case"extent":case"esriGeometryEnvelope":return e=>g(e,s);default:return null}}function h(e,t){null!=e?.z&&(e.z*=t)}function f(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}function d(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}function p(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function g(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}let y=null,m=null,_=null,C={};const S=new r.aQ;function R(){return!!y&&(0,r.gN)()}function b(){return!!R()||((0,r.aR)(S),w(),!1)}function E(e,t){return!e||!t||x(e,t)||b()}function P(e,t){return!x(e,t)&&!R()}function w(e){return null==_&&(_=Promise.all([(0,r.gL)(),Promise.all([n.e(916),n.e(2020)]).then(n.bind(n,90916)).then((e=>e.g)),n.e(6582).then(n.bind(n,6582))])),_.then((([,t,{hydratedAdapter:n}])=>{(0,r.D)(e),m=n,y=t.default,y._enableProjection(r.gM),S.notify()}))}function M(e,t,n=null,r=null){return Array.isArray(e)?0===e.length?[]:k(m,e,e[0].spatialReference,t,n,r):k(m,[e],e.spatialReference,t,n,r)[0]}function k(e,t,n,s,o=null,i=null){if(null==n||null==s)return t;if(x(n,s,o))return t.map((e=>j(e,n,s)));if(null==o&&(0,r.fv)(n))return t.map((e=>j(e,n,r.B.WGS84))).map((e=>L(e,s)));if(null==o&&(0,r.fv)(s))return t.map((e=>L(e,r.B.WGS84))).map((e=>j(e,r.B.WGS84,s)));if(null==o){const e=u.cacheKey(n,s);void 0!==C[e]?o=C[e]:(null==(o=A(n,s,void 0))&&(o=new u),C[e]=o)}if(null==y||null==e)throw new G;return null!=i?y._project(e,t,n,s,o,i):y._project(e,t,n,s,o)}function I(e,t){const n=T([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function T(e,t){if(!R())for(const n of e)if(null!=n&&!(0,r.bh)(n.spatialReference,t)&&(0,r.cg)(n.spatialReference)&&(0,r.cg)(t)&&!x(n.spatialReference,t))return(0,r.aR)(S),{pending:w(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,r.bh)(e.spatialReference,t)?e:(0,r.cg)(e.spatialReference)&&(0,r.cg)(t)?L(e,t):null))}}function A(e,t,n=null){if(null==e||null==t)return null;if(null==y||null==m)throw new G;const r=y._getTransformation(m,e,t,n,n?.spatialReference);return null!==r?u.fromGE(r):null}function N(e,t,n=null){if(null==y||null==m)throw new G;const r=y._getTransformationBySuitability(m,e,t,n,n?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(u.fromGE(t));return e}return[]}class G extends r.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function F(){y=null,m=null,_=null,C={}}const O={get loadPromise(){return _}};function L(e,t){try{const n=M(e,t);return null==n?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),c(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof G))throw n;return null}}async function v(e,t,n){const r=e.spatialReference;return null!=r&&null!=t&&await q(r,t,null,n),L(e,t)}function x(e,t,n){return!n&&(!!(0,r.bh)(e,t)||(0,r.cg)(e)&&(0,r.cg)(t)&&!!(0,s.G)(e,t,s.E))}function W(e,t){if((0,r.bh)(e,t))return!0;if(!(0,r.cg)(e)||!(0,r.cg)(t))return!1;const n=(0,r.cb)(e)||(0,r.cL)(e)||(0,r.eC)(e),s=(0,r.cb)(t)||(0,r.cL)(t)||(0,r.eC)(t);return n&&s}async function q(e,t,n,s){if(R())return(0,r.O)(s);if(Array.isArray(e)){for(const{source:r,dest:o,geographicTransformation:i}of e)if(r&&o&&!x(r,o,i))return w(s)}else if(e&&t&&!x(e,t,n))return w(s);return(0,r.O)(s)}function j(e,t,n){return e?"x"in e?V(e,t,new r.bv,n,0):"xmin"in e?Y(e,t,new r.au,n,0):"rings"in e?z(e,t,new r.bC,n,0):"paths"in e?Z(e,t,new r.aT,n,0):"points"in e?H(e,t,new r.bD,n,0):null:null}function U(e,t,n=t.spatialReference,r=0){return null!=n&&null!=e.spatialReference&&null!=V(e,e.spatialReference,t,n,r)}function V(e,t,n,o,i){$[0]=e.x,$[1]=e.y;const a=e.z;return $[2]=void 0!==a?a:i,(0,s.n)($,t,0,$,o,0)?(n.x=$[0],n.y=$[1],n.spatialReference=o,void 0!==a||(0,r.gK)(o)?(n.z=$[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function B(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=H(e,e.spatialReference,t,n,r)}function H(e,t,n,o,i){const{points:a,hasZ:l,hasM:u}=e,c=[],h=a.length,f=[];for(const r of a)f.push(r[0],r[1],l?r[2]:i);if(!(0,s.n)(f,t,0,f,o,0,h))return null;const d=l||(0,r.gK)(o);for(let r=0;r<h;++r){const e=3*r,t=f[e],n=f[e+1];d&&u?c.push([t,n,f[e+2],a[r][3]]):d?c.push([t,n,f[e+2]]):u?c.push([t,n,a[r][2]]):c.push([t,n])}return n.points=c,n.spatialReference=o,n.hasZ=l,n.hasM=u,n}function D(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=Z(e,e.spatialReference,t,n,r)}function Z(e,t,n,s,o){const{paths:i,hasZ:a,hasM:l}=e,u=[];if(!X(i,a??!1,l??!1,t,u,s,o))return null;const c=a||(0,r.gK)(s);return n.paths=u,n.spatialReference=s,n.hasZ=c,n.hasM=l,n}function K(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=z(e,e.spatialReference,t,n,r)}function z(e,t,n,s,o){const{rings:i,hasZ:a,hasM:l}=e,u=[];if(!X(i,a??!1,l??!1,t,u,s,o))return null;const c=a||(0,r.gK)(s);return n.rings=u,n.spatialReference=s,n.hasZ=c,n.hasM=l,n}function J(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=Y(e,e.spatialReference,t,n,r)}function Y(e,t,n,s,i){const{xmin:a,ymin:l,xmax:u,ymax:c,hasZ:h,hasM:f}=e,d=h?e.zmin:i;if(!o(a,l,d,t,$,s))return null;const p=h||(0,r.gK)(s);n.xmin=$[0],n.ymin=$[1],p&&(n.zmin=$[2]);const g=h?e.zmax:i;return o(u,c,g,t,$,s)?(n.xmax=$[0],n.ymax=$[1],p&&(n.zmax=$[2]),f&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=s,n):null}function X(e,t,n,o,i,a,l=0){const u=new Array;for(const r of e)for(const e of r)u.push(e[0],e[1],t?e[2]:l);if(!(0,s.n)(u,o,0,u,a,0))return!1;let c=0;i.length=0;const h=t||(0,r.gK)(a);for(const r of e){const e=new Array;for(const t of r)h&&n?e.push([u[c++],u[c++],u[c++],t[3]]):h?e.push([u[c++],u[c++],u[c++]]):n?(e.push([u[c++],u[c++],t[2]]),c++):(e.push([u[c++],u[c++]]),c++);i.push(e)}return!0}const $=(0,r.aA)(),Q=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:x,getTransformation:A,getTransformations:N,initializeProjection:q,isEqualBaseGCS:W,isLoaded:R,isLoadedOrLoad:b,isLoadedOrLoadFor:E,load:w,project:M,projectExtent:J,projectMany:k,projectMultipoint:B,projectOrLoad:I,projectOrLoadMany:T,projectPoint:U,projectPolygon:K,projectPolyline:D,projectWithZConversion:v,projectWithoutEngine:j,requiresLoad:P,test:O,tryProjectWithZConversion:L,unload:F},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=5843.59913e76.js.map