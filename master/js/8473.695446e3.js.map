{"version":3,"file":"js/8473.695446e3.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/ArcGISService-BY6uXmrc.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/CustomParametersMixin-C1rOrKc_.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/KnowledgeGraphLayer-C3e2InpG.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/PortalLayer-BC1AAJpi.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/portalItemUtils-B5LG5xsT.js"],"sourcesContent":["import{k as i,o as s,A as l,n as o}from\"./main-I34c1W55.js\";import{d as n,y as u}from\"./arcgisLayerUrl-BTWijBPh.js\";const a=r=>{let e=class extends r{get title(){if(this._get(\"title\")&&this.originOf(\"title\")!==\"defaults\")return this._get(\"title\");if(this.url){const t=n(this.url);if(t!=null&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",u(t,o.getLogger(this)))}};return i([s()],e.prototype,\"title\",null),i([s({type:String})],e.prototype,\"url\",null),e=i([l(\"esri.layers.mixins.ArcGISService\")],e),e};export{a as l};\n","import{k as t,o,A as a}from\"./main-I34c1W55.js\";const i=r=>{let e=class extends r{constructor(){super(...arguments),this.customParameters=null}};return t([o({type:Object,json:{write:{overridePolicy:s=>({enabled:!!(s&&Object.keys(s).length>0)})}}})],e.prototype,\"customParameters\",void 0),e=t([a(\"esri.layers.mixins.CustomParametersMixin\")],e),e};export{i as e};\n","import{V as l,aE as M,az as T,G as _,s as g,bm as y,dt as S,n as u,p as D,bl as L,dk as b,dm as v,ao as E,k as o,o as r,u as k,q as A,A as N,Z as C}from\"./main-I34c1W55.js\";import{S as G}from\"./MultiOriginJSONSupport-DsYvNMb2.js\";import{n as I}from\"./uuid-Dj9mdEVg.js\";import{f as R}from\"./Layer-CYh3Ux8v.js\";import{u as h,c as w,E as O,F as U,R as j}from\"./KnowledgeGraphSublayer-OzrfZO2x.js\";import{l as z}from\"./ArcGISService-BY6uXmrc.js\";import{l as F}from\"./BlendLayer-DPdNbUGL.js\";import{e as P}from\"./CustomParametersMixin-C1rOrKc_.js\";import{b as K}from\"./OperationalLayer-DhLn_F27.js\";import{j as x}from\"./PortalLayer-BC1AAJpi.js\";import{f as H}from\"./RefreshableLayer-DjbX8EP7.js\";import{t as $}from\"./ScaleRangeLayer-kD9VKvAo.js\";import{y as q}from\"./commonProperties-s5Ra1orv.js\";import{F as B}from\"./knowledgeGraphService-Cvx4fB2s.js\";let n=class extends F($(H(z(K(x(G(P(R)))))))){constructor(e){super(e),this._graphTypeLookup=new Map,this._namedTypesModified=!1,this.dataManager=null,this.definitionSetMap=null,this.knowledgeGraph=null,this.layers=new(l.ofType(h)),this.memberEntityTypes=null,this.memberRelationshipTypes=null,this.operationalLayerType=\"KnowledgeGraphLayer\",this.sublayerIdsCache=new Map,this.tables=new(l.ofType(h)),this.type=\"knowledge-graph\",this.url=null,this.addHandles(M(()=>this.layers.concat(this.tables),(t,i)=>this._handleSublayersChange(t,i),T))}load(e){return this.addResolvingPromise(this._doLoad(e)),Promise.resolve(this)}async _doLoad(e){try{await this.loadFromPortal({supportedTypes:[\"Knowledge Graph Layer\"]},e)}catch(t){_(t)}await this._fetchMetadata(),await this._initializeLayerProperties(),this.loadLayerAssumingLocalCache(),await w(this)}async _fetchMetadata(){if(!this.url)throw new g(\"knowledge-graph:missing-url\",\"KnowledgeGraphLayer must be created with a url\");const e=await B(this.url);this.knowledgeGraph=e,this._forEachGraphType(t=>{t.name&&this._graphTypeLookup.set(t.name,t)})}async _initializeLayerProperties(){this.originIdOf(\"inclusionModeDefinition\")===y.USER?this._validateInclusionModeDefinition():await this._initializeInclusionModeDefinition(),this._setMemberTypes(),this.dataManager=new O({knowledgeGraph:this.knowledgeGraph,inclusionModeDefinition:this.inclusionModeDefinition})}async _initializeInclusionModeDefinition(){const e=this.definitionSetMap?await U(this.definitionSetMap,!0):{generateAllSublayers:!0,namedTypeDefinitions:new Map};[...this.layers.toArray(),...this.tables.toArray()].forEach(t=>{const i=this._graphTypeLookup.get(t.graphTypeName);i&&!e.namedTypeDefinitions.has(i.name)&&e.namedTypeDefinitions.set(i.name,{useAllData:!0})}),this.setAtOrigin(\"inclusionModeDefinition\",e,S(this.originIdOf(\"definitionSetMap\")))}_validateInclusionModeDefinition(){const{inclusionModeDefinition:e}=this;if(!e)return;const{namedTypeDefinitions:t}=e;if(t?.size>0)t.forEach((i,a)=>{const s=this._graphTypeLookup.get(a);if(!s)return u.getLogger(this).warn(`A named type, ${a}, was in the inclusion list that wasn't in the data model and will be removed`),void t.delete(a);s.type!==\"relationship\"&&s.type!==\"entity\"&&(u.getLogger(this).warn(`A named type, ${a}, was in the inclusion list that wasn't properly modeled and will be removed`),t.delete(a))});else if(!e.generateAllSublayers)throw new g(\"knowledge-graph:composite-layer-constructor\",\"If an explicit inclusion definition is defined, at least one namedTypeDefinition must also be defined\")}_setMemberTypes(){let e=[],t=[];const{inclusionModeDefinition:i}=this,a=i?.namedTypeDefinitions;!i||i.generateAllSublayers?(e=this.knowledgeGraph.dataModel?.entityTypes??[],t=this.knowledgeGraph.dataModel?.relationshipTypes??[]):a&&a.size>0&&a.forEach((s,d)=>{const p=this._graphTypeLookup.get(d);switch(p?.type){case\"relationship\":t.push(p);break;case\"entity\":e.push(p)}}),this.memberEntityTypes=e,this.memberRelationshipTypes=t}_forEachGraphType(e){[...this.knowledgeGraph.dataModel?.entityTypes??[],...this.knowledgeGraph.dataModel?.relationshipTypes??[]].forEach(t=>{e(t)})}_refreshNamedTypes(){this._namedTypesModified=!0;for(const e of this.layers)e.emit(\"refresh\",{dataChanged:!0});for(const e of this.tables)e.emit(\"refresh\",{dataChanged:!0})}async _handleNewRecords(e){const t=[];this.dataManager.addToLayer(e);for(const i of e)this.sublayerIdsCache.has(i.typeName)||(this.sublayerIdsCache.set(i.typeName,new Set),t.push(i.typeName)),this.sublayerIdsCache.get(i.typeName).add(i.id);for(const i of t){const a=this._graphTypeLookup.get(i);a&&(this._addSublayer(a),a.type===\"entity\"?this.dataManager.entityTypeNames.add(i):this.dataManager.relationshipTypeNames.add(i),this.dataManager.sublayerCaches.set(i,new Map))}await w(this,t),this._refreshNamedTypes()}_createSublayers(e,t,i){e.forEach(a=>{const s=this._createSublayer(a);i(s)&&t.push(s),this._updateSublayerCaches(a)})}_addSublayer(e){const t=this._createSublayer(e);return t.geometryType?this.layers.push(t):this.tables.push(t),t}_createSublayer(e){return new h({objectType:e,parentCompositeLayer:this,graphType:e.type})}_updateSublayers(e,t){t.forEach(i=>{i.parentCompositeLayer=this;const a=e.find(s=>s.type===i.graphType&&s.name===i.graphTypeName);a&&(i.objectType=a,this._updateSublayerCaches(a))})}_updateSublayerCaches(e){const t=this.dataManager.sublayerCaches;t.has(e.name)||t.set(e.name,new Map)}_saveUrlAsNewResource(e,t,i,a){e[t]=\"<pending>\",i.pendingOperations.push(Y(this.inclusionModeDefinition).then(s=>{const d=Z(a);e[t]=d.itemRelativeUrl,i.toAdd.push({resource:d,content:{type:\"blob\",blob:s},compress:!1,finish:p=>{this.definitionSetMap=p.url}})}))}_displaysAllRecords(e){for(const[,{useAllData:t}]of e.namedTypeDefinitions)if(!t)return!1;return!0}_handleSublayersChange(e,t){t&&(t.forEach(i=>{i.parent=null}),this.removeHandles(\"sublayers-owner\")),e&&(e.forEach(i=>{i.parent=this}),this.addHandles([e.on(\"after-add\",({item:i})=>{i.parent=this}),e.on(\"after-remove\",({item:i})=>{i.parent=null})],\"sublayers-owner\"))}readDefinitionSetMap(e,t,i){return D(e,i)}writeDefinitionSetMap(e,t,i,a){const s=a?.portalItem,d=a?.resources,p=L(a?.origin);if(!s||!d||p==null)return void(e&&(t[i]=b(e,a)));const{inclusionModeDefinition:f}=this;if(!f||this._displaysAllRecords(f))return void(this.definitionSetMap=null);const c=this.originIdOf(\"inclusionModeDefinition\");if(c===y.USER||this._namedTypesModified||p<c)this._saveUrlAsNewResource(t,i,d,s);else if(p===c&&e){const m=b(e,a);v(m)?this._saveUrlAsNewResource(t,i,d,s):t[i]=m}}set inclusionModeDefinition(e){this.loadStatus!==\"loaded\"&&this.loadStatus!==\"failed\"?this._set(\"inclusionModeDefinition\",e):u.getLogger(this).error(\"#inclusionModeDefinition\",\"inclusionModeDefinition cannot be changed after the layer is loaded.\")}loadLayerAssumingLocalCache(){const e=[...this.memberEntityTypes,...this.memberRelationshipTypes];this.originIdOf(\"layers\")===y.DEFAULTS?this._createSublayers(e,this.layers,t=>!!t.geometryType):this._updateSublayers(e,this.layers),this.originIdOf(\"tables\")===y.DEFAULTS?this._createSublayers(e,this.tables,t=>!t.geometryType):this._updateSublayers(e,this.tables),this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.forEach((t,i)=>{const a=E(this.sublayerIdsCache,i,()=>new Set);t.members?.forEach(s=>{a.add(s.id)})})}async addRecords(e){await this._handleNewRecords(e)}async removeRecords(e){const t=[];for(const i of e)this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(i.typeName)?.useAllData===!1&&this.dataManager.inclusionModeDefinition?.namedTypeDefinitions?.get(i.typeName)?.members?.has(i.id)&&t.push(i);this.dataManager.removeFromLayer(t);for(const i of t)this.sublayerIdsCache.get(i.typeName)?.delete(i.id);return this._refreshNamedTypes(),t}};o([r()],n.prototype,\"dataManager\",void 0),o([r({json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0}}})],n.prototype,\"definitionSetMap\",void 0),o([k(\"definitionSetMap\")],n.prototype,\"readDefinitionSetMap\",null),o([A(\"definitionSetMap\")],n.prototype,\"writeDefinitionSetMap\",null),o([r()],n.prototype,\"inclusionModeDefinition\",null),o([r()],n.prototype,\"knowledgeGraph\",void 0),o([r({type:l.ofType(h),json:{write:{ignoreOrigin:!0}}})],n.prototype,\"layers\",void 0),o([r()],n.prototype,\"memberEntityTypes\",void 0),o([r()],n.prototype,\"memberRelationshipTypes\",void 0),o([r({type:[\"KnowledgeGraphLayer\"]})],n.prototype,\"operationalLayerType\",void 0),o([r()],n.prototype,\"sublayerIdsCache\",void 0),o([r({type:l.ofType(h),json:{write:{ignoreOrigin:!0}}})],n.prototype,\"tables\",void 0),o([r({json:{read:!1}})],n.prototype,\"type\",void 0),o([r(q)],n.prototype,\"url\",void 0),n=o([N(\"esri.layers.KnowledgeGraphLayer\")],n);const V=n;async function Y(e){const t=await j(e);return new Blob([t],{type:\"application/x-protobuf\"})}function Z(e){const t=`definitionSetMap-${I()}.dat`,i=C(\"knowledgeGraphLayer\",t);return e.resourceFromPath(i)}export{V as default};\n","import{k as l,o as d,u as w,q as U,A as E,C as _,D as H,E as b,n as $,G as n,H as F,J as L,W as M,K as m,b as y,L as I,_ as T,U as k,M as D,N as O,s as S}from\"./main-I34c1W55.js\";import g from\"./PortalItem-CH5hihzj.js\";import{E as v}from\"./portalItemUtils-B5LG5xsT.js\";const C=P=>{let a=class extends P{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=_(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",r))}readPortalItem(r,t,e){if(t.itemId)return new g({id:t.itemId,portal:e?.portal})}writePortalItem(r,t){r?.id&&(t.itemId=r.id)}async loadFromPortal(r,t){if(this.portalItem?.id)try{const{load:e}=await import(\"./layersLoader-DTby3dpB.js\");return H(t),await e({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap},t)}catch(e){throw b(e)||$.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(r){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(r).catch(t=>(n(t),!0)))}async setUserPrivileges(r,t){if(!F.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:e,fullEdit:i},content:{updateItem:s}}=await this._fetchUserPrivileges(r,t);this._set(\"userHasEditingPrivileges\",e),this._set(\"userHasFullEditingPrivileges\",i),this._set(\"userHasUpdateItemPrivileges\",s)}catch(e){n(e)}}async _fetchUserPrivileges(r,t){let e=this.portalItem;if(!r||!e||!e.loaded||e.sourceUrl)return this._fetchFallbackUserPrivileges(t);const i=r===e.id;if(i&&e.portal.user)return v(e);let s,p;if(i)s=e.portal.url;else try{s=await L(this.url,t)}catch(o){n(o)}if(!s||!M(s,e.portal.url))return this._fetchFallbackUserPrivileges(t);try{const o=t!=null?t.signal:null;p=await m?.getCredential(`${s}/sharing`,{prompt:!1,signal:o})}catch(o){n(o)}const c=!0,u=!1,f=!1;if(!p)return{features:{edit:c,fullEdit:u},content:{updateItem:f}};try{if(i?await e.reload():(e=new g({id:r,portal:{url:s}}),await e.load(t)),e.portal.user)return v(e)}catch(o){n(o)}return{features:{edit:c,fullEdit:u},content:{updateItem:f}}}async _fetchFallbackUserPrivileges(r){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(r)}catch(e){n(e)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const t=this.url?m?.findCredential(this.url):null;if(!t)return!0;const e=h.credential===t?h.user:await this._fetchEditingUser(r);return h.credential=t,h.user=e,e?.privileges==null||e.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(r){const t=this.portalItem?.portal?.user;if(t)return t;const e=m?.findServerInfo(this.url??\"\");if(!e?.owningSystemUrl)return null;const i=`${e.owningSystemUrl}/sharing/rest`,s=y.getDefault();if(s&&s.loaded&&I(s.restUrl)===I(i))return s.user;const p=`${i}/community/self`,c=r!=null?r.signal:null,u=await T(k(p,{authMode:\"no-prompt\",query:{f:\"json\"},signal:c}));return u.ok?D.fromJSON(u.value.data):null}read(r,t){t&&(t.layer=this),super.read(r,t)}write(r,t){const e=t?.portal,i=this.portalItem?.id&&(this.portalItem.portal||y.getDefault());return e&&i&&!O(i.restUrl,e.restUrl)?(t.messages&&t.messages.push(new S(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...t,layer:this})}};return l([d({type:g})],a.prototype,\"portalItem\",null),l([w(\"web-document\",\"portalItem\",[\"itemId\"])],a.prototype,\"readPortalItem\",null),l([U(\"web-document\",\"portalItem\",{itemId:{type:String}})],a.prototype,\"writePortalItem\",null),l([d({clonable:!1})],a.prototype,\"resourceReferences\",void 0),l([d({type:Boolean,readOnly:!0})],a.prototype,\"userHasEditingPrivileges\",void 0),l([d({type:Boolean,readOnly:!0})],a.prototype,\"userHasFullEditingPrivileges\",void 0),l([d({type:Boolean,readOnly:!0})],a.prototype,\"userHasUpdateItemPrivileges\",void 0),a=l([E(\"esri.layers.mixins.PortalLayer\")],a),a},h={credential:null,user:null};export{C as j};\n","import{N as f,K as d}from\"./projection-CWCxBqta.js\";import{a0 as p,B as A}from\"./main-I34c1W55.js\";async function y(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return p(e);const n=A.WGS84;return await f(t,n),d(e,n)}function u(e,t){if(!o(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function o(e,t){return!!e.typeKeywords?.includes(t)}function I(e){return o(e,E.HOSTED_SERVICE)}function l(e,t){const n=e.typeKeywords;if(n){const r=n.indexOf(t);r>-1&&n.splice(r,1)}}function L(e,t,n){n?u(e,t):l(e,t)}async function S(e){const t=e.clone().normalize();let n;if(t.length>1)for(const r of t)n?r.width>n.width&&(n=r):n=r;else n=t[0];return y(n)}const E={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\",HOSTED_SERVICE:\"Hosted Service\",LOCAL_SCENE:\"ViewingMode-Local\",TILED_IMAGERY:\"Tiled Imagery\",GROUP_LAYER_MAP:\"Map\",ORIENTED_IMAGERY_LAYER:\"OrientedImageryLayer\"};function m(e){const{portal:t,isOrgItem:n,itemControl:r}=e,s=t.user?.privileges;let i=!s||s.includes(\"features:user:edit\"),a=!!n&&!!s?.includes(\"features:user:fullEdit\");const c=r===\"update\"||r===\"admin\";return c?a=i=!0:a&&(i=!0),{features:{edit:i,fullEdit:a},content:{updateItem:c}}}export{m as E,l as a,I as c,E as f,u as i,S as l,o as s,L as u};\n"],"names":["a","r","e","title","this","_get","originOf","url","t","_set","getLogger","prototype","type","String","i","constructor","super","arguments","customParameters","o","Object","json","write","overridePolicy","s","enabled","keys","length","n","_graphTypeLookup","Map","_namedTypesModified","dataManager","definitionSetMap","knowledgeGraph","layers","ofType","memberEntityTypes","memberRelationshipTypes","operationalLayerType","sublayerIdsCache","tables","addHandles","concat","_handleSublayersChange","load","addResolvingPromise","_doLoad","Promise","resolve","loadFromPortal","supportedTypes","_fetchMetadata","_initializeLayerProperties","loadLayerAssumingLocalCache","_forEachGraphType","name","set","originIdOf","USER","_validateInclusionModeDefinition","_initializeInclusionModeDefinition","_setMemberTypes","inclusionModeDefinition","generateAllSublayers","namedTypeDefinitions","toArray","forEach","get","graphTypeName","has","useAllData","setAtOrigin","size","warn","delete","dataModel","entityTypes","relationshipTypes","d","p","push","_refreshNamedTypes","emit","dataChanged","_handleNewRecords","addToLayer","typeName","Set","add","id","_addSublayer","entityTypeNames","relationshipTypeNames","sublayerCaches","_createSublayers","_createSublayer","_updateSublayerCaches","geometryType","objectType","parentCompositeLayer","graphType","_updateSublayers","find","_saveUrlAsNewResource","pendingOperations","Y","then","Z","itemRelativeUrl","toAdd","resource","content","blob","compress","finish","_displaysAllRecords","parent","removeHandles","on","item","readDefinitionSetMap","writeDefinitionSetMap","portalItem","resources","origin","f","c","m","loadStatus","error","DEFAULTS","members","addRecords","removeRecords","removeFromLayer","ignoreOrigin","writerEnsuresNonNull","read","V","async","Blob","resourceFromPath","C","P","resourceReferences","paths","userHasEditingPrivileges","userHasFullEditingPrivileges","userHasUpdateItemPrivileges","destroy","removeOrigin","readPortalItem","itemId","portal","writePortalItem","instance","validateItem","supportsData","layerModuleTypeMap","finishLoadEditablePortalLayer","_fetchUserHasEditingPrivileges","catch","setUserPrivileges","userPrivilegesApplied","features","edit","fullEdit","updateItem","_fetchUserPrivileges","loaded","sourceUrl","_fetchFallbackUserPrivileges","user","signal","getCredential","prompt","u","reload","findCredential","h","credential","_fetchEditingUser","privileges","includes","findServerInfo","owningSystemUrl","getDefault","restUrl","authMode","query","ok","fromJSON","value","data","layer","messages","clonable","Boolean","readOnly","y","spatialReference","isWGS84","clone","isWebMercator","WGS84","typeKeywords","I","E","HOSTED_SERVICE","l","indexOf","splice","L","S","normalize","width","DEVELOPER_BASEMAP","JSAPI","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE","LOCAL_SCENE","TILED_IMAGERY","GROUP_LAYER_MAP","ORIENTED_IMAGERY_LAYER","isOrgItem","itemControl"],"sourceRoot":""}