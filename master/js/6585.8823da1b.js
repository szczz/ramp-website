"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[6585],{8966:function(e,t,s){s.r(t),s.d(t,{default:function(){return r}});var a=s(98503);const n={en:{"panguard.instructions":"Use two fingers to pan the map"},fr:{"panguard.instructions":"Utilisez deux doigts pour faire un panoramique de la carte"}},o={class:"pg-label"},i=(0,a.dM)({__name:"map-panguard",setup(e){const{t:t}=(0,a.dN)(),s=(0,a.e2)("iApi"),n=(0,a.e3)(),i=(0,a.e3)(-1),p=(0,a.gd)([]),r=(0,a.gd)([]);(0,a.e8)((()=>{d(),r.push(s.event.on(a.dE.MAP_CREATED,(()=>{d()}))),r.push(s.event.on(a.dE.MAP_DESTROYED,(()=>{p.forEach((e=>e.remove()))}))),r.push(s.event.on(a.dE.MAP_REFRESH_START,(()=>{p.forEach((e=>e.remove()))}))),r.push(s.event.on(a.dE.MAP_REFRESH_END,(()=>{d()})))})),(0,a.e9)((()=>{r.forEach((e=>s.event.off(e))),p.forEach((e=>e.remove()))}));const d=()=>{const e=new Map;s.geo.map.viewPromise.then((()=>{p.push(s.geo.map.esriView.on("pointer-down",(t=>{"touch"===t.pointerType&&e.set(t.pointerId,{x:t.x,y:t.y})}))),p.push(s.geo.map.esriView.on(["pointer-up","pointer-leave"],(t=>{"touch"===t.pointerType&&window.setTimeout((()=>{e.delete(t.pointerId)}),200)}))),p.push(s.geo.map.esriView.on("pointer-move",(t=>{const{pointerId:s,pointerType:a,x:o,y:p}=t,r=e.get(s);r&&"touch"===a&&1===e.size?Math.sqrt(Math.pow(o-r.x,2)+Math.pow(p-r.y,2))<20||(n.value.classList.add("pg-active"),-1!==i.value&&clearTimeout(i.value),i.value=window.setTimeout((()=>{n.value.classList.remove("pg-active")}),2e3)):n.value.classList.remove("pg-active")})))}))};return(e,s)=>((0,a.dU)(),(0,a.dY)("div",{class:"pg",ref_key:"panGuard",ref:n},[(0,a.dX)("p",o,(0,a.d$)((0,a.e0)(t)("panguard.instructions")),1)],512))}}),p=(0,a.fN)(i,[["__scopeId","data-v-22ab9ef7"]]);class r extends a.F{added(){Object.entries(n).forEach((e=>this.$iApi.$i18n.mergeLocaleMessage(...e)));const{destroy:e,el:t}=this.mount(p,{app:this.$element});this.$vApp.$el.getElementsByClassName("inner-shell")[0].appendChild(t.childNodes[0]),this.removed=()=>{e()}}}}}]);
//# sourceMappingURL=6585.8823da1b.js.map