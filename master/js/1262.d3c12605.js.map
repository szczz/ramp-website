{"version":3,"file":"js/1262.d3c12605.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/screen-Dd8tUnW3.js"],"sourcesContent":["import{dM as H,fa as A,dN as R,e2 as j,e3 as T,dQ as _,gd as C,e8 as V,dE as X,e7 as U,e9 as F,dR as q,dV as D,dW as k,dU as n,ea as B,d$ as c,e0 as p,dY as d,dX as h}from\"./main-I34c1W55.js\";import{m as Y}from\"./marked.esm-DgqJBp_S.js\";const G=`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xsl:stylesheet version=\"1.0\"\n                xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n                xmlns:gmd=\"http://www.isotc211.org/2005/gmd\"\n                xmlns:gco=\"http://www.isotc211.org/2005/gco\"\n                xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                xmlns:gmdl=\"http://www.canada.gc.ca/ns/gmdl\"\n                xmlns:napec=\"http://www.ec.gc.ca/data_donnees/standards/schemas/napec\"\n                xmlns:gml=\"http://www.opengis.net/gml\"\n                xmlns:geonet=\"http://www.fao.org/geonetwork\"\n                xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n                xsi:schemaLocation=\"http://www.ec.gc.ca/data_donnees/standards/schemas/napec/schema.xsd\">\n\n  <xsl:param name=\"catalogue_url\" />\n  <xsl:decimal-format NaN=\"\"/>\n\n  <xsl:template match=\"/\">\n\n    <div class=\"metadata-view\">\n\n      <xsl:if test=\"//gmd:abstract/gco:CharacterString/text() != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.Abstract}}</h5>\n        <p>\n          <xsl:value-of select=\"//gmd:abstract/gco:CharacterString/text()\" />\n        </p>\n      </xsl:if>\n\n      <xsl:comment>\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.Scope}}</h5>\n        <p>{{metadata.xslt.hereBeScope}}</p>\n      </xsl:comment>\n\n      <xsl:if test=\"//gml:TimePeriod//* != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.timePeriod}}</h5>\n        <p>\n          <xsl:value-of select=\"//gml:TimePeriod//gml:beginPosition\" />\n          <xsl:if test=\"//gml:TimePeriod//gml:beginPosition/text() != '' and //gml:TimePeriod//gml:endPosition/text() != ''\">\n            -\n          </xsl:if>\n          <xsl:value-of select=\"//gml:TimePeriod//gml:endPosition\" />\n        </p>\n      </xsl:if>\n\n      <xsl:comment>\n        <xsl:if test=\"//gmd:supplementalInformation/gco:CharacterString/text() != ''\">\n          <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.supplementalData}}</h5>\n          <p>\n            <xsl:value-of select=\"//gmd:supplementalInformation/gco:CharacterString/text()\" />\n          </p>\n        </xsl:if>\n      </xsl:comment>\n\n      <xsl:if test=\"//gmd:pointOfContact//gmd:individualName/* != '' \n              or //gmd:pointOfContact//gmd:organisationName/gco:CharacterString/text() != ''\n              or //gmd:pointOfContact//gmd:positionName/gco:CharacterString/text() != ''\n              or //gmd:pointOfContact//gmd:electronicMailAddress/* != ''\n              or //gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.contactInfo}}</h5>\n        <p>\n          <xsl:value-of select=\"//gmd:pointOfContact//gmd:individualName\" />\n        </p>\n        <p>\n          <xsl:value-of select=\"//gmd:pointOfContact//gmd:organisationName/gco:CharacterString/text()\" />\n        </p>\n        <p>\n          <xsl:value-of select=\"//gmd:pointOfContact//gmd:positionName/gco:CharacterString/text()\" />\n        </p>\n        <p>\n          <a href=\"mailto:{//gmd:pointOfContact//gmd:electronicMailAddress/gco:CharacterString/text()}?Subject={//gmd:identificationInfo//gmd:title/gco:CharacterString/text()}\">\n            <xsl:value-of select=\"//gmd:pointOfContact//gmd:electronicMailAddress\" />\n          </a>\n        </p>\n        <p>\n          <xsl:variable name=\"roleCode\" >\n            <xsl:value-of select=\"concat(substring(//gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue,1,1),\n                        substring(//gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue, 2))\" />\n          </xsl:variable>\n\n          <xsl:choose>\n            <xsl:when test=\"$roleCode = 'resourceProvider'\">{{metadata.xslt.resourceProvider}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'custodian'\">{{metadata.xslt.custodian}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'owner'\">{{metadata.xslt.owner}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'user'\">{{metadata.xslt.user}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'distributor'\">{{metadata.xslt.distributor}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'originator'\">{{metadata.xslt.originator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'pointOfContact'\">{{metadata.xslt.pointOfContact}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'principalInvestigator'\">{{metadata.xslt.principalInvestigator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'processor'\">{{metadata.xslt.processor}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'publisher'\">{{metadata.xslt.publisher}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'author'\">{{metadata.xslt.author}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'collaborator'\">{{metadata.xslt.collaborator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'editor'\">{{metadata.xslt.editor}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'mediator'\">{{metadata.xslt.mediator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'rightsHolder'\">{{metadata.xslt.rightsHolder}}</xsl:when>\n          </xsl:choose>\n        </p>\n      </xsl:if>\n\n      <xsl:if test=\"$catalogue_url != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.cataloguePage}}</h5>\n        <p>\n          <a href=\"{$catalogue_url}\"\n             rel=\"external\" target=\"_blank\" class=\"ui-link\">\n            {{metadata.xslt.metadata}}\n          </a>\n        </p>\n      </xsl:if>\n    </div>\n  </xsl:template>\n</xsl:stylesheet>\n`,Q=`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<xsl:stylesheet version=\"1.0\"\n                xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n                xmlns:gmd=\"http://www.isotc211.org/2005/gmd\"\n                xmlns:gco=\"http://www.isotc211.org/2005/gco\"\n                xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                xmlns:gmdl=\"http://www.canada.gc.ca/ns/gmdl\"\n                xmlns:napec=\"http://www.ec.gc.ca/data_donnees/standards/schemas/napec\"\n                xmlns:gml=\"http://www.opengis.net/gml\"\n                xmlns:geonet=\"http://www.fao.org/geonetwork\"\n                xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n                xsi:schemaLocation=\"http://www.ec.gc.ca/data_donnees/standards/schemas/napec/schema.xsd\">\n\n  <xsl:param name=\"catalogue_url\" />\n  <xsl:decimal-format NaN=\"\"/>\n\n  <xsl:template match=\"/\">\n\n    <div class=\"metadata-view\">\n\n      <xsl:if test=\"//gmd:abstract//gmd:LocalisedCharacterString[@locale='#fra']/text() != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.Abstract}}</h5>\n        <p>\n          <xsl:value-of select=\"//gmd:abstract//gmd:LocalisedCharacterString[@locale='#fra']/text()\" />\n        </p>\n      </xsl:if>\n\n      <xsl:comment>\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.Scope}}</h5>\n        <p>{{metadata.xslt.hereBeScope}}</p>\n      </xsl:comment>\n\n      <xsl:if test=\"//gml:TimePeriod//* != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.timePeriod}}</h5>\n        <p>\n          <xsl:value-of select=\"//gml:TimePeriod//gml:beginPosition\" />\n          <xsl:if test=\"//gml:TimePeriod//gml:beginPosition/text() != '' and //gml:TimePeriod//gml:endPosition/text() != ''\">\n            -\n          </xsl:if>\n          <xsl:value-of select=\"//gml:TimePeriod//gml:endPosition\" />\n        </p>\n      </xsl:if>\n\n      <xsl:comment>\n        <xsl:if test=\"//gmd:supplementalInformation//gmd:LocalisedCharacterString[@locale='#fra']/text() != ''\">\n          <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.supplementalData}}</h5>\n          <p>\n            <xsl:value-of select=\"//gmd:supplementalInformation//gmd:LocalisedCharacterString[@locale='#fra']/text()\" />\n          </p>\n        </xsl:if>\n      </xsl:comment>\n\n      <xsl:if test=\"//gmd:pointOfContact//gmd:individualName/* != '' \n              or //gmd:pointOfContact//gmd:organisationName//gmd:LocalisedCharacterString[@locale='#fra']/text() != ''\n              or //gmd:pointOfContact//gmd:positionName//gmd:LocalisedCharacterString[@locale='#fra']/text() != ''\n              or //gmd:pointOfContact//gmd:electronicMailAddress/* != ''\n              or //gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.contactInfo}}</h5>\n        <p>\n          <xsl:value-of select=\"//gmd:pointOfContact//gmd:individualName\" />\n        </p>\n        <p>\n          <xsl:value-of select=\"//gmd:pointOfContact//gmd:organisationName//gmd:LocalisedCharacterString[@locale='#fra']/text()\" />\n        </p>\n        <p>\n          <xsl:value-of select=\"//gmd:pointOfContact//gmd:positionName//gmd:LocalisedCharacterString[@locale='#fra']/text()\" />\n        </p>\n        <p>\n          <a href=\"mailto:{//gmd:pointOfContact//gmd:electronicMailAddress//gmd:LocalisedCharacterString[@locale='#fra']/text()}?Subject={//gmd:identificationInfo//gmd:title//gmd:LocalisedCharacterString[@locale='#fra']/text()}\">\n            <xsl:value-of select=\"//gmd:pointOfContact//gmd:electronicMailAddress\" />\n          </a>\n        </p>\n        <p>\n          <xsl:variable name=\"roleCode\" >\n            <xsl:value-of select=\"concat(substring(//gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue,1,1),\n                        substring(//gmd:pointOfContact//gmd:role/gmd:CI_RoleCode/@codeListValue, 2))\" />\n          </xsl:variable>\n\n          <xsl:choose>\n            <xsl:when test=\"$roleCode = 'resourceProvider'\">{{metadata.xslt.resourceProvider}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'custodian'\">{{metadata.xslt.custodian}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'owner'\">{{metadata.xslt.owner}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'user'\">{{metadata.xslt.user}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'distributor'\">{{metadata.xslt.distributor}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'originator'\">{{metadata.xslt.originator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'pointOfContact'\">{{metadata.xslt.pointOfContact}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'principalInvestigator'\">{{metadata.xslt.principalInvestigator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'processor'\">{{metadata.xslt.processor}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'publisher'\">{{metadata.xslt.publisher}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'author'\">{{metadata.xslt.author}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'collaborator'\">{{metadata.xslt.collaborator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'editor'\">{{metadata.xslt.editor}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'mediator'\">{{metadata.xslt.mediator}}</xsl:when>\n            <xsl:when test=\"$roleCode = 'rightsHolder'\">{{metadata.xslt.rightsHolder}}</xsl:when>\n          </xsl:choose>\n        </p>\n      </xsl:if>\n\n      <xsl:if test=\"$catalogue_url != ''\">\n        <h5 class=\"text-xl font-bold mb-3\">{{metadata.xslt.cataloguePage}}</h5>\n        <p>\n          <a href=\"{$catalogue_url}\"\n             rel=\"external\" target=\"_blank\" class=\"ui-link\">\n            {{metadata.xslt.metadata}}\n          </a>\n        </p>\n      </xsl:if>\n    </div>\n  </xsl:template>\n</xsl:stylesheet>\n`,W={key:0},z={class:\"flex justify-center\"},J={key:0,class:\"flex flex-col justify-center text-center\"},K=[\"innerHTML\"],Z=[\"innerHTML\"],ee={key:3,class:\"flex flex-col justify-center text-center\"},te={class:\"text-xl mt-20\"},ae={key:1,class:\"p-5\"},le=H({__name:\"screen\",props:{panel:{type:Object,required:!0},payload:{type:Object,required:!0}},setup(r){const s=A(),{t:o}=R(),u=j(\"iApi\"),M=T(),l=r,f=_(()=>s.status),v=_(()=>s.response),b=T(!1),x=C({}),y=C([]),$=C([]);V(()=>{S(),y.push(u.event.on(X.LAYER_REMOVE,e=>{l.payload.layer?.uid===e.uid&&l.panel.close()})),$.push(U(()=>l.payload.layer.uid,(e,t)=>{e!==t&&S()}))}),F(()=>{y.forEach(e=>u.event.off(e)),$.forEach(e=>e())});const S=()=>{b.value=l.payload.layer!==void 0&&!l.payload.layer.isRemoved,l.payload.type===\"xml\"?I(l.payload.url,[]).then(e=>{if(s.status=\"success\",e!==null){const t=document.createElement(\"div\");t.appendChild(g(`${e.firstElementChild.outerHTML}`)),(l.payload.catalogueUrl||l.payload.url)&&t.appendChild(g(`<h5 class=\"text-xl font-bold mb-3\">${o(\"metadata.xslt.metadata\")}</h5>`)),l.payload.catalogueUrl&&t.appendChild(g(`<p><a style=\"color: blue;\" href=\"${l.payload.catalogueUrl}\" target=\"_blank\">${o(\"metadata.xslt.cataloguePage\")}</a></p>`)),t.appendChild(g(`<p><a style=\"color: blue;\" href=\"${l.payload.url}\" target=\"_blank\">${o(\"metadata.xslt.metadataPage\")}</a> (xml)</p>`)),s.response=t.outerHTML}}):l.payload.type===\"html\"?w(l.payload.url).then(e=>{s.status=e.status,s.response=e.response}):l.payload.type===\"md\"&&w(l.payload.url).then(e=>{s.status=e.status,s.response=Y(e.response)})},I=(e,t)=>{let a=u.language===\"en\"?G:Q;return a=a.replace(/\\{\\{([\\w.]+)\\}\\}/g,(i,m)=>o(m)),x[e]?Promise.resolve(L(x[e],a,t)):w(e).then(i=>(x[e]=i.response,L(x[e],a,t)))},L=(e,t,a)=>{let i=null;if(window.XSLTProcessor){const m=new window.XSLTProcessor,O=new DOMParser,N=O.parseFromString(e,\"text/xml\"),E=O.parseFromString(t,\"text/xml\");m.importStylesheet(E),a&&a.forEach(P=>m.setParameter(\"\",P.key,P.value||\"\")),i=m.transformToFragment(N,document)}return i},w=e=>new Promise(t=>{const a=new XMLHttpRequest;a.open(\"GET\",e,!0),a.responseType=\"text\",a.onload=()=>{a.status===200?t({status:\"success\",response:a.response}):t({status:\"error\",response:\"Could not load results from remote service.\"})},a.onerror=()=>{t({status:\"error\",response:\"Could not load results from remote service.\"})},a.send()});function g(e){const t=document.createElement(\"div\");return t.innerHTML=e,t}return(e,t)=>{const a=q(\"panel-screen\");return n(),D(a,{panel:r.panel,ref_key:\"el\",ref:M},{header:k(()=>[B(c(p(o)(\"metadata.title\"))+\": \"+c(r.payload.layerName),1)]),content:k(()=>[b.value?(n(),d(\"div\",W,[h(\"div\",z,[f.value==\"loading\"?(n(),d(\"div\",J,c(p(o)(\"metadata.loading\")),1)):r.payload.type===\"xml\"&&f.value==\"success\"?(n(),d(\"div\",{key:1,innerHTML:v.value,class:\"flex flex-col justify-center xml-content\"},null,8,K)):(r.payload.type===\"html\"||r.payload.type===\"md\")&&f.value==\"success\"?(n(),d(\"div\",{key:2,innerHTML:v.value,class:\"flex flex-col justify-center max-w-full metadata-view\"},null,8,Z)):(n(),d(\"div\",ee,[t[0]||(t[0]=h(\"img\",{src:\"https://i.imgur.com/fA5EqV6.png\"},null,-1)),h(\"span\",te,c(p(o)(\"metadata.error\")),1)]))])])):(n(),d(\"div\",ae,[h(\"span\",null,c(p(o)(\"metadata.label.no.layer\")),1)]))]),_:1},8,[\"panel\"])}}});export{le as default};\n"],"names":["G","Q","W","key","z","class","J","K","Z","ee","te","ae","le","__name","props","panel","type","Object","required","payload","setup","r","s","t","o","u","M","l","f","status","v","response","b","x","y","$","S","push","event","on","LAYER_REMOVE","e","layer","uid","close","forEach","off","value","isRemoved","I","url","then","document","createElement","appendChild","g","firstElementChild","outerHTML","catalogueUrl","w","a","language","replace","i","m","Promise","resolve","L","window","XSLTProcessor","O","DOMParser","N","parseFromString","E","importStylesheet","P","setParameter","transformToFragment","XMLHttpRequest","open","responseType","onload","onerror","send","innerHTML","ref_key","ref","header","layerName","content","src","_"],"sourceRoot":""}