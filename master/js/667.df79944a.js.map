{"version":3,"file":"js/667.df79944a.js","mappings":"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","sources":["webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/ImmutableArray-CiJxhY8_.js","webpack://ramp-website/./node_modules/ramp-pcar/dist/esDynamic/arcade-C-cgyyCu.js"],"sourcesContent":["class n{constructor(t=[]){this._elements=t}length(){return this._elements.length}get(t){return this._elements[t]}toArray(){return this.slice()}slice(t=0,r=this.length()){const s=[];for(let e=t;e<r;e++)s.push(this.get(e));return s}}export{n as t};\n","import{s as g,f as L,bG as P,b as j,b1 as I}from\"./main-I34c1W55.js\";import{a as T,n as F,m as $}from\"./TimeOnly-UqMRd--c.js\";import{t as J}from\"./ImmutableArray-CiJxhY8_.js\";import M from\"./FeatureLayer-B-P7H-eh.js\";import{d as z}from\"./FeatureSet-DwnIB4d5.js\";let d=null;function E(e,o,a,n={}){const r=o.elementType,s=\"value\",l=r.type===\"array\"?[{name:s,type:r.type,elementType:r.elementType}]:r.type===\"dictionary\"?[{name:s,type:r.type,properties:r.properties}]:[{name:s,type:r.type}];return new J(e.map(c=>{const t={};return w(t,l,{[s]:c},a,n),t[s]}))}function N(e,o,a={}){const n=e instanceof z?new M({source:e.features,geometryType:e.geometryType,fields:e.fields,spatialReference:e.spatialReference}):e;return o.constructFeatureSet(n,a.spatialReference,null,!0,a.lruCache,a.interceptor)}function Y(e,o,a={}){const{spatialReference:n,interceptor:r,lruCache:s}=a;return typeof e==\"string\"?o.createFeatureSetCollectionFromService(e,n,s,r):o.createFeatureSetCollectionFromMap(e,n,s,r)}function V(e,o,a,n={}){const r={};return w(r,o.properties,e,a,n),new d.Dictionary(r)}function w(e,o,a,n,r={}){const s={};for(const l of Object.keys(a))s[l.toLowerCase()]=a[l];for(const l of o){const c=l.name.toLowerCase();if(r.variablesPreProcessed)e[c]=s[c];else switch(l.type){case\"array\":{const t=s[c];e[c]=t==null?null:E(t,l,n,r);break}case\"feature\":{const t=s[c];e[c]=t==null?null:d.Feature.createFromGraphic(t,r?.timeZone);break}case\"featureSet\":{const t=s[c];e[c]=t==null?null:n?N(t,n,r):null;break}case\"featureSetCollection\":{const t=s[c];e[c]=t==null?null:n?Y(t,n,r):null;break}case\"dictionary\":{const t=s[c];e[c]=t==null?null:V(t,l,n,r);break}case\"date\":{const t=s[c];e[c]=t?t instanceof $?t:r?.timeZone?$.dateJSAndZoneToArcadeDate(t,r?.timeZone):$.dateJSToArcadeDate(t):null;break}case\"dateOnly\":{const t=s[c];e[c]=t?t instanceof F?t:F.fromReader(t):null;break}case\"time\":{const t=s[c];e[c]=t?t instanceof T?t:T.fromReader(t):null;break}case\"knowledgeGraph\":case\"geometry\":case\"boolean\":case\"text\":case\"number\":e[c]=s[c]}}}function R(e,o){for(const a of e)o.push(a),a.type===\"dictionary\"&&R(a.properties,o);return o}function D(e,o,a,n,r){const{spatialReference:s,interceptor:l,lruCache:c,console:t,abortSignal:f,timeZone:u,services:S={portal:j.getDefault()}}=a,b={vars:{},spatialReference:s,interceptor:l,timeZone:u,lrucache:c,useAsync:r,services:S,console:t,abortSignal:f};return o&&w(b.vars,e.variables,o,n,a),b}function v(e,o){switch(o.getArcadeType(e)){case\"number\":case\"text\":case\"boolean\":case\"point\":case\"polygon\":case\"polyline\":case\"multipoint\":case\"extent\":return e;case\"date\":return e.toJSDate();case\"time\":case\"dateOnly\":return e.toString();case\"feature\":{const a=(e.type,e),n=\"geometry\"in a?a.geometry():null,r=\"readAttributes\"in a?a.readAttributes():a.attributes;return new I({geometry:n,attributes:r})}case\"dictionary\":{const a=e,n=a.attributes,r={};for(const s of Object.keys(n))r[s]=v(a.field(s),o);return r}case\"array\":return(\"toArray\"in e?e.toArray():e).map(a=>v(a,o))}return e}const O={variables:[{name:\"$feature\",type:\"feature\"},{name:\"$layer\",type:\"featureSet\"},{name:\"$datastore\",type:\"featureSetCollection\"},{name:\"$map\",type:\"featureSetCollection\"},{name:\"$userInput\",type:\"geometry\"},{name:\"$graph\",type:\"knowledgeGraph\"}]},U={variables:[{name:\"$feature\",type:\"feature\"},{name:\"$aggregatedFeatures\",type:\"featureSet\"}]},Z=new Map([[\"aggregate-field\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"form-constraint\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"feature-z\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"field-calculation\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$datastore\",type:\"featureSetCollection\"}]}],[\"form-calculation\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$originalFeature\",type:\"feature\"},{name:\"$layer\",type:\"featureSet\"},{name:\"$featureSet\",type:\"featureSet\"},{name:\"$datastore\",type:\"featureSetCollection\"},{name:\"$map\",type:\"featureSetCollection\"},{name:\"$editContext\",type:\"dictionary\",properties:[{name:\"editType\",type:\"text\"}]}]}],[\"labeling\",{variables:[{name:\"$feature\",type:\"feature\"}]}],[\"popup\",O],[\"popup-element\",O],[\"feature-reduction-popup\",U],[\"feature-reduction-popup-element\",U],[\"visualization\",{variables:[{name:\"$feature\",type:\"feature\"},{name:\"$view\",type:\"dictionary\",properties:[{name:\"scale\",type:\"number\"}]}]}]]);function W(e){const o=Z.get(e);if(!o){const a=Array.from(Z.keys()).map(n=>`'${n}'`).join(\", \");throw new g(\"createArcadeProfile:invalid-profile-name\",`Invalid profile name '${e}'. You must specify one of the following values: ${a}`)}return L(o)}async function X(e,o,a={}){d||(d=await P());const{arcade:n,arcadeUtils:r}=d,{loadScriptDependencies:s,referencesMember:l,scriptIsAsync:c}=n,t=R(o.variables,[]),f=t.filter(i=>i.type===\"featureSet\"||i.type===\"featureSetCollection\").map(i=>i.name.toLowerCase()),u=n.parseScript(e,f);if(!u)throw new g(\"arcade:invalid-script\",\"Unable to create SyntaxTree\");const S=r.extractFieldNames(u),b=n.scriptTouchesGeometry(u),h=t.map(i=>i.name.toLowerCase()).filter(i=>l(u,i)),p=c(u,f);await s(u,p,f);const C={vars:{},spatialReference:null,useAsync:p};for(const i of h)C.vars[i]=\"any\";const{lruCache:A}=a,x=n.compileScript(u,C),k=n.featureSetUtils(),{services:G}=a;return{execute:(i,m={})=>{if(p)throw new g(\"arcade:invalid-execution-mode\",\"Cannot execute the script in synchronous mode\");const y=x(D(o,i,{lruCache:A,...m},k,p));return m.rawOutput?y:v(y,r)},executeAsync:async(i,m={})=>{const y=await x(D(o,i,{lruCache:A,services:G,...m},k,p));return m.rawOutput?y:v(y,r)},isAsync:p,variablesUsed:h,fieldsUsed:S,geometryUsed:b,syntaxTree:u}}export{X as createArcadeExecutor,W as createArcadeProfile};\n"],"names":["n","constructor","t","this","_elements","length","get","toArray","slice","r","s","e","push","d","E","o","a","elementType","l","type","name","properties","map","c","w","N","source","features","geometryType","fields","spatialReference","constructFeatureSet","lruCache","interceptor","Y","createFeatureSetCollectionFromService","createFeatureSetCollectionFromMap","V","Dictionary","Object","keys","toLowerCase","variablesPreProcessed","Feature","createFromGraphic","timeZone","dateJSAndZoneToArcadeDate","dateJSToArcadeDate","fromReader","R","D","console","abortSignal","f","u","services","S","portal","getDefault","b","vars","lrucache","useAsync","variables","v","getArcadeType","toJSDate","toString","geometry","readAttributes","attributes","field","O","U","Z","Map","W","Array","from","join","async","X","arcade","arcadeUtils","loadScriptDependencies","referencesMember","scriptIsAsync","filter","i","parseScript","extractFieldNames","scriptTouchesGeometry","h","p","C","A","x","compileScript","k","featureSetUtils","G","execute","m","y","rawOutput","executeAsync","isAsync","variablesUsed","fieldsUsed","geometryUsed","syntaxTree"],"sourceRoot":""}