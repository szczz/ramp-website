"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3297,8414],{36313:function(e,t,n){n.d(t,{l:function(){return s}});var r=n(98503),i=n(5948);const s=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=(0,i.d)(this.url);if(null!=e&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",(0,i.y)(e,r.n.getLogger(this)))}};return(0,r.k)([(0,r.o)()],t.prototype,"title",null),(0,r.k)([(0,r.o)({type:String})],t.prototype,"url",null),t=(0,r.k)([(0,r.A)("esri.layers.mixins.ArcGISService")],t),t}},44610:function(e,t,n){n.d(t,{y:function(){return a}});var r=n(98503),i=n(82047),s=n(49600),o=n(22102);const l={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let a=class extends r.aD{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const t=(0,s.n)(this.floors,e);return e.toExportImageJSON(t)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&(0,o.n)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(l[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=!!this.floors?.length,t=this.visibleSublayers.filter((t=>null!=t.definitionExpression||e&&null!=t.floorInfo));return t.length?JSON.stringify(t.reduce(((e,t)=>{const n=(0,s.n)(this.floors,t),i=(0,r.bt)(n,t.definitionExpression);return null!=i&&(e[t.id]=i),e}),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,n=this.scale,r=t=>{t.visible&&(0===n||(0,i.d)(n,t.minScale,t.maxScale))&&(t.sublayers?t.sublayers.forEach(r):e.unshift(t))};t&&t.forEach(r);const s=this._get("visibleSublayers");return!s||s.length!==e.length||s.some(((t,n)=>e[n]!==t))?e:s}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"dynamicLayers",null),(0,r.k)([(0,r.o)()],a.prototype,"floors",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"hasDynamicLayers",null),(0,r.k)([(0,r.o)()],a.prototype,"layer",null),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"layers",null),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"layerDefs",null),(0,r.k)([(0,r.o)({type:Number})],a.prototype,"scale",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"version",null),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"visibleSublayers",null),a=(0,r.k)([(0,r.A)("esri.layers.support.ExportImageParameters")],a)},81519:function(e,t,n){n.d(t,{e:function(){return u}});var r=n(98503);const i=-3,s=i-1;var o;(function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"})(o||(o={}));class l{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new r.bX,this._users=new r.bX}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){return this._db.get(e.id+t)?.size??0}put(e,t,n,r,l){t=e.id+t;const u=this._db.get(t);if(u&&(this._size-=u.size,e.size-=u.size,this._db.delete(t),u.entry!==n&&this._notifyRemove(t,u.entry,u.size,o.ALL)),r>this._maxSize)return void this._notifyRemove(t,n,r,o.ALL);if(void 0===n)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return console.warn(`Refusing to cache entry with size ${r} for key ${t}`),void this._notifyRemove(t,n,0,o.ALL);const c=1+Math.max(l,s)-i;this._db.set(t,new a(n,r,c)),this._size+=r,e.size+=r,this._checkSize()}updateSize(e,t,n,r){t=e.id+t;const i=this._db.get(t);if(i&&i.entry===n){for(this._size-=i.size,e.size-=i.size;r>this._maxSize;){const e=this._notifyRemove(t,n,r,o.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);r=e}i.size=r,this._size+=r,e.size+=r,this._checkSize()}}pop(e,t){t=e.id+t;const n=this._db.get(t);if(n)return this._size-=n.size,e.size-=n.size,this._db.delete(t),++this._hit,n.entry;++this._miss}get(e,t){t=e.id+t;const n=this._db.get(t);if(void 0!==n)return this._db.delete(t),n.lives=n.lifetime,this._db.set(t,n),++this._hit,n.entry;++this._miss}peek(e,t){const n=this._db.get(e.id+t);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array;this._db.forEach(((e,r)=>{const i=e.lifetime;n[i]=(n[i]||0)+e.size,this._users.forAll((n=>{const{id:i,name:s}=n;if(r.startsWith(i)){const n=t[s]||0;t[s]=n+e.size}}))}));const r={};this._users.forAll((e=>{const n=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const i=t[n]||0;t[n]=i,r[n]=Math.round(100*e.hitRate)+"%"}else r[n]="0%"}));const s=Object.keys(t);s.sort(((e,n)=>t[n]-t[e])),s.forEach((n=>e[n]=Math.round(t[n]/2**20)+"MB / "+r[n]));for(let o=n.length-1;o>=0;--o){const t=n[o];t&&(e["Priority "+(o+i-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,n)=>{n.startsWith(t)&&(this._size-=e.size,this._db.delete(n),this._notifyRemove(n,e.entry,e.size,o.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,o.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,n,r){let i;return this._removeFuncs.some((s=>{if(e.startsWith(s[0])){const e=s[1](t,r,n);return"number"==typeof e&&(i=e),!0}return!1})),i}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const n=e?.id;let r=!0;for(;r;){r=!1;for(const[i,s]of this._db)if(0===s.lifetime&&(!n||i.startsWith(n))){if(this._purgeItem(i,s,e),t.size<=.9*t.maxSize)return;r||=this._db.has(i)}}for(const[i,s]of this._db)if((!n||i.startsWith(n))&&(this._purgeItem(i,s,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t,n=this._users.find((t=>e.startsWith(t.id)))){if(this._db.delete(e),t.lives<=1){this._size-=t.size,n&&(n.size-=t.size);const r=this._notifyRemove(e,t.entry,t.size,o.SOME);null!=r&&r>0&&(this._size+=r,n&&(n.size+=r),t.lives=t.lifetime,t.size=r,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}class a{constructor(e,t,n){this.entry=e,this.size=t,this.lifetime=n,this.lives=n}}class u{constructor(e,t){this._storage=new l,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,n=1){this._storage.put(this,e,t,n,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},31751:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var r=n(98503),i=n(16787),s=n(88012),o=n(82047),l=n(28252),a=n(18696),u=n(60353),c=n(36313),f=n(50027),d=n(99907),h=n(20784),p=n(50293),m=n(63125),y=n(83424),_=n(47603),g=n(20014),S=n(44610),E=n(98153),R=n(22102),v=n(27505),C=n(50257);let P=class extends((0,f.l)((0,_.l)((0,y.t)((0,u.m)((0,u.f)((0,c.l)((0,h.b)((0,p.j)((0,s.S)((0,m.f)((0,a.i)((0,d.e)(l.f))))))))))))){constructor(...e){super(...e),this._exportImageParameters=new S.y({layer:this}),this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.preferredTimeZone=null,this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(r.G).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){this._exportImageParameters.destroy()}readImageFormat(e,t){const n=t.supportedImageFormatTypes;return n&&n.includes("PNG32")?"png32":"png24"}writeSublayers(e,t,n,i){if(!this.loaded||!e)return;const s=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let o=!1;const l=(0,r.bl)(i.origin);if(this.capabilities?.operations.supportsExportMap&&this.capabilities?.exportMap?.supportsDynamicLayers)if(l===r.bm.PORTAL_ITEM){const e=this.createSublayersForOrigin("service").sublayers;o=(0,R.e)(s,e,r.bm.SERVICE)}else if(l>r.bm.PORTAL_ITEM){const e=this.createSublayersForOrigin("portal-item");o=(0,R.e)(s,e.sublayers,(0,r.bl)(e.origin))}const a=[],u={writeSublayerStructure:o,...i};let c=o||this.hasVisibleLayersForOrigin(l);s.forEach((e=>{const t=e.write({},u);a.push(t),c=c||"user"===e.originOf("visible")})),a.some((e=>Object.keys(e).length>1))&&(t.layers=a),c&&(t.visibleLayers=s.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,t,n,i){const s=i?.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian()),this._exportImageParameters.floors=i?.floors??null,this._exportImageParameters.scale=(0,o.i)({extent:e,width:t})*s;const l=this._exportImageParameters.toJSON(),a=!i?.rotation||this.version<10.3?{}:{rotation:-i.rotation},u=e?.spatialReference,c=(0,r.bn)(u);l.dpi*=s;const f={};if(i?.timeExtent){const{start:e,end:t}=i.timeExtent.toJSON();f.time=e&&t&&e===t?""+e:`${e??"null"},${t??"null"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(f.time="null,null");return{bbox:e&&e.xmin+","+e.ymin+","+e.xmax+","+e.ymax,bboxSR:c,imageSR:c,size:t+","+n,...l,...a,...f}}async fetchImage(e,t,n,r){const{data:i}=await this._fetchImage("image",e,t,n,r);return i}async fetchImageBitmap(e,t,n,r){const{data:i,url:s}=await this._fetchImage("blob",e,t,n,r);return(0,E.t)(i,s,r?.signal)}async fetchRecomputedExtents(e={}){const t={...e,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}},{data:n}=await(0,r.U)(this.url,t),{extent:i,fullExtent:s,timeExtent:o}=n,l=i||s;return{fullExtent:l&&r.au.fromJSON(l),timeExtent:o&&C.p.fromJSON({start:o[0],end:o[1]})}}loadAll(){return(0,i.t)(this,(e=>{e(this.allSublayers),e(this.subtables)}))}serviceSupportsSpatialReference(e){return(0,v.t)(this,e)}async _fetchImage(e,t,n,i,s){const o={responseType:e,signal:s?.signal??null,query:{...this.parsedUrl.query,...this.createExportImageParameters(t,n,i,s),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}},l=this.parsedUrl.path+"/export";if(null!=o.query?.dynamicLayers&&!this.capabilities?.exportMap?.supportsDynamicLayers)throw new r.s("mapimagelayer:dynamiclayer-not-supported",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:o.query});try{const{data:e}=await(0,r.U)(l,o);return{data:e,url:l}}catch(a){throw(0,r.E)(a)?a:new r.s("mapimagelayer:image-fetch-error",`Unable to load image: ${l}`,{error:a})}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const{data:t,ssl:n}=await(0,r.U)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});n&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})}hasVisibleLayersForOrigin(e){return!(null==e||!this.sublayersSourceJSON[e]?.visibleLayers)}};(0,r.k)([(0,r.o)((0,r.bo)("dateFieldsTimeReference"))],P.prototype,"dateFieldsTimeZone",void 0),(0,r.k)([(0,r.o)({type:Boolean})],P.prototype,"datesInUnknownTimezone",void 0),(0,r.k)([(0,r.o)()],P.prototype,"dpi",void 0),(0,r.k)([(0,r.o)()],P.prototype,"gdbVersion",void 0),(0,r.k)([(0,r.o)()],P.prototype,"imageFormat",void 0),(0,r.k)([(0,r.u)("imageFormat",["supportedImageFormatTypes"])],P.prototype,"readImageFormat",null),(0,r.k)([(0,r.o)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],P.prototype,"imageMaxHeight",void 0),(0,r.k)([(0,r.o)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],P.prototype,"imageMaxWidth",void 0),(0,r.k)([(0,r.o)()],P.prototype,"imageTransparency",void 0),(0,r.k)([(0,r.o)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],P.prototype,"isReference",void 0),(0,r.k)([(0,r.o)({json:{read:!1,write:!1}})],P.prototype,"labelsVisible",void 0),(0,r.k)([(0,r.o)({type:["ArcGISMapServiceLayer"]})],P.prototype,"operationalLayerType",void 0),(0,r.k)([(0,r.o)({json:{read:!1,write:!1}})],P.prototype,"popupEnabled",void 0),(0,r.k)([(0,r.o)((0,r.bo)("preferredTimeReference"))],P.prototype,"preferredTimeZone",void 0),(0,r.k)([(0,r.o)()],P.prototype,"sourceJSON",void 0),(0,r.k)([(0,r.o)({json:{write:{ignoreOrigin:!0}}})],P.prototype,"sublayers",void 0),(0,r.k)([(0,r.q)("sublayers",{layers:{type:[u.t]},visibleLayers:{type:[r.bp]}})],P.prototype,"writeSublayers",null),(0,r.k)([(0,r.o)({type:["show","hide","hide-children"]})],P.prototype,"listMode",void 0),(0,r.k)([(0,r.o)({json:{read:!1},readOnly:!0,value:"map-image"})],P.prototype,"type",void 0),(0,r.k)([(0,r.o)(g.y)],P.prototype,"url",void 0),P=(0,r.k)([(0,r.A)("esri.layers.MapImageLayer")],P);const I=P},50293:function(e,t,n){n.d(t,{j:function(){return o}});var r=n(98503),i=n(2031),s=n(83297);const o=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,r.C)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,n){if(t.itemId)return new i["default"]({id:t.itemId,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:i}=await Promise.all([n.e(3338),n.e(1128)]).then(n.bind(n,21128));return(0,r.D)(t),await i({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(i){throw(0,r.E)(i)||r.n.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${i}`),i}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,r.G)(e),!0))))}async setUserPrivileges(e,t){if(!r.H.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",i)}catch(n){(0,r.G)(n)}}async _fetchUserPrivileges(e,t){let n=this.portalItem;if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t);const o=e===n.id;if(o&&n.portal.user)return(0,s.E)(n);let l,a;if(o)l=n.portal.url;else try{l=await(0,r.J)(this.url,t)}catch(d){(0,r.G)(d)}if(!l||!(0,r.W)(l,n.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;a=await(r.K?.getCredential(`${l}/sharing`,{prompt:!1,signal:e}))}catch(d){(0,r.G)(d)}const u=!0,c=!1,f=!1;if(!a)return{features:{edit:u,fullEdit:c},content:{updateItem:f}};try{if(o?await n.reload():(n=new i["default"]({id:e,portal:{url:l}}),await n.load(t)),n.portal.user)return(0,s.E)(n)}catch(d){(0,r.G)(d)}return{features:{edit:u,fullEdit:c},content:{updateItem:f}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(n){(0,r.G)(n)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?r.K?.findCredential(this.url):null;if(!t)return!0;const n=l.credential===t?l.user:await this._fetchEditingUser(e);return l.credential=t,l.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const n=r.K?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const i=`${n.owningSystemUrl}/sharing/rest`,s=r.b.getDefault();if(s&&s.loaded&&(0,r.L)(s.restUrl)===(0,r.L)(i))return s.user;const o=`${i}/community/self`,l=null!=e?e.signal:null,a=await(0,r._)((0,r.U)(o,{authMode:"no-prompt",query:{f:"json"},signal:l}));return a.ok?r.M.fromJSON(a.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const n=t?.portal,i=this.portalItem?.id&&(this.portalItem.portal||r.b.getDefault());return n&&i&&!(0,r.N)(i.restUrl,n.restUrl)?(t.messages&&t.messages.push(new r.s("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r.k)([(0,r.o)({type:i["default"]})],t.prototype,"portalItem",null),(0,r.k)([(0,r.u)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r.k)([(0,r.q)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r.k)([(0,r.o)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.PortalLayer")],t),t},l={credential:null,user:null}},47603:function(e,t,n){n.d(t,{f:function(){return l},l:function(){return a}});var r=n(98503),i=n(20014),s=n(75863),o=n(50257);const l={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:i.a}}},a=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const n=t.timeInfo.exportOptions;if(!n)return null;const r=n.timeOffset,i=s.e.fromJSON(n.timeOffsetUnits);return r&&i?new s.l({value:r,unit:i}):null}set timeInfo(e){(0,r.aZ)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,r.k)([(0,r.o)({type:o.p,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,r.k)([(0,r.o)({type:s.l})],t.prototype,"timeOffset",void 0),(0,r.k)([(0,r.u)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,r.k)([(0,r.o)({value:null,type:s.d,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,r.k)([(0,r.o)(l)],t.prototype,"useViewTime",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.TemporalLayer")],t),t}},75863:function(e,t,n){n.d(t,{d:function(){return c},e:function(){return s},l:function(){return l}});var r=n(98503),i=n(50257);const s=(0,r.g)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let o=class extends((0,r.a_)(r.v)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,i.m)(this.value,this.unit,"milliseconds")}};(0,r.k)([(0,r.bk)(s,{nonNullable:!0})],o.prototype,"unit",void 0),(0,r.k)([(0,r.o)({type:Number,json:{write:!0},nonNullable:!0})],o.prototype,"value",void 0),o=(0,r.k)([(0,r.A)("esri.time.TimeInterval")],o);const l=o;function a(e,t){return l.fromJSON({value:e,unit:t})}let u=class extends((0,r.a_)(r.v)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?i.p.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?a(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?a(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,r.k)([(0,r.o)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],u.prototype,"cumulative",void 0),(0,r.k)([(0,r.o)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"endField",void 0),(0,r.k)([(0,r.o)({type:i.p,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"fullTimeExtent",void 0),(0,r.k)([(0,r.u)("fullTimeExtent",["timeExtent"])],u.prototype,"readFullTimeExtent",null),(0,r.k)([(0,r.q)("fullTimeExtent")],u.prototype,"writeFullTimeExtent",null),(0,r.k)([(0,r.o)({type:Boolean,json:{write:!0}})],u.prototype,"hasLiveData",void 0),(0,r.k)([(0,r.o)({type:l,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"interval",void 0),(0,r.k)([(0,r.u)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],u.prototype,"readInterval",null),(0,r.k)([(0,r.q)("interval")],u.prototype,"writeInterval",null),(0,r.k)([(0,r.o)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"startField",void 0),(0,r.k)([(0,r.o)((0,r.bo)("timeReference",!0))],u.prototype,"timeZone",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"trackIdField",void 0),(0,r.k)([(0,r.o)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],u.prototype,"useTime",void 0),(0,r.k)([(0,r.o)({type:[Date],json:{read:!1}})],u.prototype,"stops",void 0),u=(0,r.k)([(0,r.A)("esri.layers.support.TimeInfo")],u);const c=u},49600:function(e,t,n){function r(e){const t=e.layer;return"floorInfo"in t&&t.floorInfo?.floorField&&"floors"in e.view?s(e.view.floors,t.floorInfo.floorField):null}function i(e,t){return"floorInfo"in t&&t.floorInfo?.floorField?s(e,t.floorInfo.floorField):null}function s(e,t){if(!e?.length)return null;const n=e.filter((e=>""!==e)).map((e=>`'${e}'`));return n.push("''"),`${t} IN (${n.join(",")}) OR ${t} IS NULL`}n.d(t,{n:function(){return i},o:function(){return r}})},83297:function(e,t,n){n.d(t,{E:function(){return h},a:function(){return u},c:function(){return a},f:function(){return d},i:function(){return o},l:function(){return f},s:function(){return l},u:function(){return c}});var r=n(49555),i=n(98503);async function s(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,i.a0)(e);const n=i.B.WGS84;return await(0,r.N)(t,n),(0,r.K)(e,n)}function o(e,t){if(!l(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function l(e,t){return!!e.typeKeywords?.includes(t)}function a(e){return l(e,d.HOSTED_SERVICE)}function u(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function c(e,t,n){n?o(e,t):u(e,t)}async function f(e){const t=e.clone().normalize();let n;if(t.length>1)for(const r of t)n?r.width>n.width&&(n=r):n=r;else n=t[0];return s(n)}const d={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function h(e){const{portal:t,isOrgItem:n,itemControl:r}=e,i=t.user?.privileges;let s=!i||i.includes("features:user:edit"),o=!!n&&!!i?.includes("features:user:fullEdit");const l="update"===r||"admin"===r;return l?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:l}}}},85502:function(e,t,n){n.r(t),n.d(t,{E:function(){return J},F:function(){return h},G:function(){return d},L:function(){return f},N:function(){return c},d:function(){return u},e:function(){return q},i:function(){return i},l:function(){return B},n:function(){return te},p:function(){return ne},t:function(){return s}});var r=n(98503);const i=Math.PI/180,s=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,o=r.a3.radius,l=r.a3.eccentricitySquared,a={a1:o*l,a2:o*l*o*l,a3:o*l*l/2,a4:o*l*o*l*2.5,a5:o*l+o*l*l/2,a6:1-l},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a3.radius,f:r.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.fs.radius,f:r.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.ft.radius,f:r.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var c;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(c||(c={}));const f={[c.WGS84]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:w,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:E,[c.WGS84]:p,[c.WGS84_ECEF]:W},[c.CGCS2000]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:w,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:E,[c.WGS84]:p,[c.WGS84_ECEF]:W},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:p,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:M,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:L,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:m,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:m,[c.SPHERICAL_ECEF]:y,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:p,[c.PLATE_CARREE]:v,[c.WGS84]:m,[c.WGS84_ECEF]:_},[c.WGS84_ECEF]:{[c.CGCS2000]:U,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:U,[c.SPHERICAL_ECEF]:H,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:j,[c.PLATE_CARREE]:C,[c.WGS84]:U,[c.WGS84_ECEF]:p},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:x,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:x,[c.SPHERICAL_ECEF]:p,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:G,[c.PLATE_CARREE]:P,[c.WGS84]:x,[c.WGS84_ECEF]:F},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:T,[c.GCSMOON2000]:null,[c.LON_LAT]:T,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:p,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:k,[c.LON_LAT]:k,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:p,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:p,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:p,[c.GCSMARS2000]:p,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:w,[c.SPHERICAL_MARS_PCPF]:M,[c.SPHERICAL_MOON_PCPF]:L,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:E,[c.WGS84]:p,[c.WGS84_ECEF]:W},[c.PLATE_CARREE]:{[c.CGCS2000]:R,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:R,[c.SPHERICAL_ECEF]:I,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:A,[c.PLATE_CARREE]:p,[c.WGS84]:R,[c.WGS84_ECEF]:O}};function d(e,t,n=D()){return null==e||null==t?null:K(e,t,n).projector}function h(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,r.bq)(e,1)),(0,r.fv)(e)?t.spatialReferenceId=c.SPHERICAL_ECEF:(0,r.cb)(e)?t.spatialReferenceId=c.WGS84:(0,r.cL)(e)?t.spatialReferenceId=c.WEB_MERCATOR:(0,r.fw)(e)?t.spatialReferenceId=c.PLATE_CARREE:e.wkt===r.c4.wkt?t.spatialReferenceId=c.WGS84_ECEF:e.wkid===r.fx.CGCS2000?t.spatialReferenceId=c.CGCS2000:e.wkt===r.c2.wkt?t.spatialReferenceId=c.SPHERICAL_MARS_PCPF:e.wkt===r.c3.wkt?t.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,r.eD)(e)?t.spatialReferenceId=c.GCSMARS2000:(0,r.eE)(e)?t.spatialReferenceId=c.GCSMOON2000:t.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function p(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function m(e,t,n,r){n[r]=$*(e[t]/X),n[r+1]=$*(Y-2*Math.atan(Math.exp(-e[t+1]/X))),n[r+2]=e[t+2]}function y(e,t,n,r){const i=e[t]/X,s=Y-2*Math.atan(Math.exp(-e[t+1]/X)),o=X+e[t+2],l=Math.cos(s)*o;n[r]=Math.cos(i)*l,n[r+1]=Math.sin(i)*l,n[r+2]=Math.sin(s)*o}function _(e,t,n,r){m(e,t,n,r),W(n,r,n,r)}function g(e,t,n,i,s){const o=.4999999*Z,l=(0,r.aP)(V*e[t+1],-o,o),a=Math.sin(l);n[i++]=V*e[t]*s.radius,n[i++]=s.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[i]=e[t+2]}function S(e,t,n,i){g(e,t,n,i,r.a3)}function E(e,t,n,r){n[r]=e[t]*Q,n[r+1]=e[t+1]*Q,n[r+2]=e[t+2]}function R(e,t,n,r){n[r]=e[t]*ee,n[r+1]=e[t+1]*ee,n[r+2]=e[t+2]}function v(e,t,n,r){m(e,t,n,r),E(n,r,n,r)}function C(e,t,n,r){U(e,t,n,r),E(n,r,n,r)}function P(e,t,n,r){x(e,t,n,r),E(n,r,n,r)}function I(e,t,n,r){R(e,t,n,r),w(n,r,n,r)}function A(e,t,n,r){R(e,t,n,r),S(n,r,n,r)}function O(e,t,n,r){R(e,t,n,r),W(n,r,n,r)}function b(e,t,n,r,i){const s=i+e[t+2],o=V*e[t+1],l=V*e[t],a=Math.cos(o)*s;n[r]=Math.cos(l)*a,n[r+1]=Math.sin(l)*a,n[r+2]=Math.sin(o)*s}function L(e,t,n,i){b(e,t,n,i,r.fs.radius)}function M(e,t,n,i){b(e,t,n,i,r.ft.radius)}function w(e,t,n,i){b(e,t,n,i,r.a3.radius)}function N(e,t,n,i,s){const o=e[t],l=e[t+1],a=e[t+2],u=Math.sqrt(o*o+l*l+a*a),c=(0,r.fu)(a/(0===u?1:u)),f=Math.atan2(l,o);n[i++]=$*f,n[i++]=$*c,n[i]=u-s}function k(e,t,n,i){N(e,t,n,i,r.fs.radius)}function T(e,t,n,i){N(e,t,n,i,r.ft.radius)}function x(e,t,n,i){N(e,t,n,i,r.a3.radius)}function G(e,t,n,r){x(e,t,n,r),S(n,r,n,r)}function F(e,t,n,r){x(e,t,n,r),W(n,r,n,r)}function z(e,t,n,r,i){const s=V*e[t],o=V*e[t+1],l=e[t+2],a=Math.sin(o),u=Math.cos(o),c=i.radius/Math.sqrt(1-i.eccentricitySquared*a*a);n[r++]=(c+l)*u*Math.cos(s),n[r++]=(c+l)*u*Math.sin(s),n[r++]=(c*(1-i.eccentricitySquared)+l)*a}function W(e,t,n,i){z(e,t,n,i,r.a3)}function U(e,t,n,i){const s=a,o=e[t],l=e[t+1],u=e[t+2];let c,f,d,h,p,m,y,_,g,S,E,R,v,C,P,I,A,O,b,L,M;c=Math.abs(u),f=o*o+l*l,d=Math.sqrt(f),h=f+u*u,p=Math.sqrt(h),L=Math.atan2(l,o),m=u*u/h,y=f/h,C=s.a2/p,P=s.a3-s.a4/p,y>.3?(_=c/p*(1+y*(s.a1+C+m*P)/p),b=Math.asin(_),S=_*_,g=Math.sqrt(1-S)):(g=d/p*(1-m*(s.a5-C-y*P)/p),b=Math.acos(g),S=1-g*g,_=Math.sqrt(S)),E=1-r.a3.eccentricitySquared*S,R=r.a3.radius/Math.sqrt(E),v=s.a6*R,C=d-R*g,P=c-v*_,A=g*C+_*P,I=g*P-_*C,O=I/(v/E+A),b+=O,M=A+I*O/2,u<0&&(b=-b),n[i++]=$*L,n[i++]=$*b,n[i]=M}function H(e,t,n,r){U(e,t,n,r),w(n,r,n,r)}function j(e,t,n,r){U(e,t,n,r),S(n,r,n,r)}function K(e,t,n){if(null==e||null==t||n.source.spatialReference===e&&n.dest.spatialReference===t)return n;const i=h(e,n.source),s=h(t,n.dest);return i===c.UNKNOWN&&s===c.UNKNOWN?(0,r.bh)(e,t)?n.projector=p:n.projector=null:n.projector=f[i][s],n}function D(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:p}}const B={spatialReference:null,spatialReferenceId:c.UNKNOWN},q={spatialReference:null,spatialReferenceId:c.UNKNOWN},J=D(),V=(0,r.eI)(1),$=(0,r.dg)(1),Z=Math.PI,Y=.5*Z,X=r.a3.radius,Q=X*Z/180,ee=180/(X*Z);function te(e,t,n,r,i,s,o=Math.floor(e.length/3)){const l=d(t,i,J);if(null==l)return!1;if(l===p){if(e===r&&n===s)return!0;const t=n+3*o;for(let i=n,o=s;i<t;i++,o++)r[o]=e[i];return!0}const a=n+3*o;for(let u=n,c=s;u<a;u+=3,c+=3)l(e,u,r,c);return!0}const ne=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:te},Symbol.toStringTag,{value:"Module"}))},49555:function(e,t,n){n.r(t),n.d(t,{B:function(){return C},H:function(){return x},J:function(){return F},K:function(){return A},L:function(){return z},N:function(){return W},O:function(){return O},Q:function(){return U},V:function(){return b},W:function(){return I},X:function(){return L},Y:function(){return M},_:function(){return R},a:function(){return J},o:function(){return c},p:function(){return Q},s:function(){return u}});var r=n(98503),i=n(85502);function s(e,t,n,r,s,l){return o[0]=e,o[1]=t,o[2]=n,(0,i.n)(o,r,0,s,l,0)}const o=(0,r.aA)();let l=0;class a{static fromGE(e){const t=new a;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=l++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=l++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=l++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=l++}getInverse(){const e=new a;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let u=class e{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(t){const n=new e;let r="";for(const e of t.steps){const t=a.fromGE(e);n.steps.push(t),r+=t.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof a?this.steps.push(t):this.steps.push(new a({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const t=new e;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const n=this.steps[e];t.steps.push(n.getInverse())}return t}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(t,n,r){this._cachedProjection[e.cacheKey(t,n)]=r}getCachedGeTransformation(t,n){let r="";for(const e of this.steps)r+=e.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const i=this._cachedProjection[e.cacheKey(t,n)];return void 0===i?null:i}};function c(e,t,n){if(null==t||null==n||n.vcsWkid||(0,r.bh)(t,n)||(0,r.gK)(t)||(0,r.gK)(n))return null;const i=(0,r.bg)(t)/(0,r.bg)(n);if(1===i)return null;switch(e){case"point":case"esriGeometryPoint":return e=>f(e,i);case"polyline":case"esriGeometryPolyline":return e=>h(e,i);case"polygon":case"esriGeometryPolygon":return e=>d(e,i);case"multipoint":case"esriGeometryMultipoint":return e=>p(e,i);case"extent":case"esriGeometryEnvelope":return e=>m(e,i);default:return null}}function f(e,t){null!=e?.z&&(e.z*=t)}function d(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}function h(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}function p(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function m(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}let y=null,_=null,g=null,S={};const E=new r.aQ;function R(){return!!y&&(0,r.gN)()}function v(){return!!R()||((0,r.aR)(E),I(),!1)}function C(e,t){return!e||!t||F(e,t)||v()}function P(e,t){return!F(e,t)&&!R()}function I(e){return null==g&&(g=Promise.all([(0,r.gL)(),Promise.all([n.e(916),n.e(2020)]).then(n.bind(n,90916)).then((e=>e.g)),n.e(6582).then(n.bind(n,6582))])),g.then((([,t,{hydratedAdapter:n}])=>{(0,r.D)(e),_=n,y=t.default,y._enableProjection(r.gM),E.notify()}))}function A(e,t,n=null,r=null){return Array.isArray(e)?0===e.length?[]:O(_,e,e[0].spatialReference,t,n,r):O(_,[e],e.spatialReference,t,n,r)[0]}function O(e,t,n,i,s=null,o=null){if(null==n||null==i)return t;if(F(n,i,s))return t.map((e=>U(e,n,i)));if(null==s&&(0,r.fv)(n))return t.map((e=>U(e,n,r.B.WGS84))).map((e=>x(e,i)));if(null==s&&(0,r.fv)(i))return t.map((e=>x(e,r.B.WGS84))).map((e=>U(e,r.B.WGS84,i)));if(null==s){const e=u.cacheKey(n,i);void 0!==S[e]?s=S[e]:(null==(s=M(n,i,void 0))&&(s=new u),S[e]=s)}if(null==y||null==e)throw new N;return null!=o?y._project(e,t,n,i,s,o):y._project(e,t,n,i,s)}function b(e,t){const n=L([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function L(e,t){if(!R())for(const n of e)if(null!=n&&!(0,r.bh)(n.spatialReference,t)&&(0,r.cg)(n.spatialReference)&&(0,r.cg)(t)&&!F(n.spatialReference,t))return(0,r.aR)(E),{pending:I(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,r.bh)(e.spatialReference,t)?e:(0,r.cg)(e.spatialReference)&&(0,r.cg)(t)?x(e,t):null))}}function M(e,t,n=null){if(null==e||null==t)return null;if(null==y||null==_)throw new N;const r=y._getTransformation(_,e,t,n,n?.spatialReference);return null!==r?u.fromGE(r):null}function w(e,t,n=null){if(null==y||null==_)throw new N;const r=y._getTransformationBySuitability(_,e,t,n,n?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(u.fromGE(t));return e}return[]}class N extends r.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function k(){y=null,_=null,g=null,S={}}const T={get loadPromise(){return g}};function x(e,t){try{const n=A(e,t);return null==n?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),c(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof N))throw n;return null}}async function G(e,t,n){const r=e.spatialReference;return null!=r&&null!=t&&await W(r,t,null,n),x(e,t)}function F(e,t,n){return!n&&(!!(0,r.bh)(e,t)||(0,r.cg)(e)&&(0,r.cg)(t)&&!!(0,i.G)(e,t,i.E))}function z(e,t){if((0,r.bh)(e,t))return!0;if(!(0,r.cg)(e)||!(0,r.cg)(t))return!1;const n=(0,r.cb)(e)||(0,r.cL)(e)||(0,r.eC)(e),i=(0,r.cb)(t)||(0,r.cL)(t)||(0,r.eC)(t);return n&&i}async function W(e,t,n,i){if(R())return(0,r.O)(i);if(Array.isArray(e)){for(const{source:r,dest:s,geographicTransformation:o}of e)if(r&&s&&!F(r,s,o))return I(i)}else if(e&&t&&!F(e,t,n))return I(i);return(0,r.O)(i)}function U(e,t,n){return e?"x"in e?j(e,t,new r.bv,n,0):"xmin"in e?Z(e,t,new r.au,n,0):"rings"in e?V(e,t,new r.bC,n,0):"paths"in e?q(e,t,new r.aT,n,0):"points"in e?D(e,t,new r.bD,n,0):null:null}function H(e,t,n=t.spatialReference,r=0){return null!=n&&null!=e.spatialReference&&null!=j(e,e.spatialReference,t,n,r)}function j(e,t,n,s,o){X[0]=e.x,X[1]=e.y;const l=e.z;return X[2]=void 0!==l?l:o,(0,i.n)(X,t,0,X,s,0)?(n.x=X[0],n.y=X[1],n.spatialReference=s,void 0!==l||(0,r.gK)(s)?(n.z=X[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function K(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=D(e,e.spatialReference,t,n,r)}function D(e,t,n,s,o){const{points:l,hasZ:a,hasM:u}=e,c=[],f=l.length,d=[];for(const r of l)d.push(r[0],r[1],a?r[2]:o);if(!(0,i.n)(d,t,0,d,s,0,f))return null;const h=a||(0,r.gK)(s);for(let r=0;r<f;++r){const e=3*r,t=d[e],n=d[e+1];h&&u?c.push([t,n,d[e+2],l[r][3]]):h?c.push([t,n,d[e+2]]):u?c.push([t,n,l[r][2]]):c.push([t,n])}return n.points=c,n.spatialReference=s,n.hasZ=a,n.hasM=u,n}function B(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=q(e,e.spatialReference,t,n,r)}function q(e,t,n,i,s){const{paths:o,hasZ:l,hasM:a}=e,u=[];if(!Y(o,l??!1,a??!1,t,u,i,s))return null;const c=l||(0,r.gK)(i);return n.paths=u,n.spatialReference=i,n.hasZ=c,n.hasM=a,n}function J(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=V(e,e.spatialReference,t,n,r)}function V(e,t,n,i,s){const{rings:o,hasZ:l,hasM:a}=e,u=[];if(!Y(o,l??!1,a??!1,t,u,i,s))return null;const c=l||(0,r.gK)(i);return n.rings=u,n.spatialReference=i,n.hasZ=c,n.hasM=a,n}function $(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=Z(e,e.spatialReference,t,n,r)}function Z(e,t,n,i,o){const{xmin:l,ymin:a,xmax:u,ymax:c,hasZ:f,hasM:d}=e,h=f?e.zmin:o;if(!s(l,a,h,t,X,i))return null;const p=f||(0,r.gK)(i);n.xmin=X[0],n.ymin=X[1],p&&(n.zmin=X[2]);const m=f?e.zmax:o;return s(u,c,m,t,X,i)?(n.xmax=X[0],n.ymax=X[1],p&&(n.zmax=X[2]),d&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=i,n):null}function Y(e,t,n,s,o,l,a=0){const u=new Array;for(const r of e)for(const e of r)u.push(e[0],e[1],t?e[2]:a);if(!(0,i.n)(u,s,0,u,l,0))return!1;let c=0;o.length=0;const f=t||(0,r.gK)(l);for(const r of e){const e=new Array;for(const t of r)f&&n?e.push([u[c++],u[c++],u[c++],t[3]]):f?e.push([u[c++],u[c++],u[c++]]):n?(e.push([u[c++],u[c++],t[2]]),c++):(e.push([u[c++],u[c++]]),c++);o.push(e)}return!0}const X=(0,r.aA)(),Q=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:F,getTransformation:M,getTransformations:w,initializeProjection:W,isEqualBaseGCS:z,isLoaded:R,isLoadedOrLoad:v,isLoadedOrLoadFor:C,load:I,project:A,projectExtent:$,projectMany:O,projectMultipoint:K,projectOrLoad:b,projectOrLoadMany:L,projectPoint:H,projectPolygon:J,projectPolyline:B,projectWithZConversion:G,projectWithoutEngine:U,requiresLoad:P,test:T,tryProjectWithZConversion:x,unload:k},Symbol.toStringTag,{value:"Module"}))},82047:function(e,t,n){n.d(t,{d:function(){return l},i:function(){return s},o:function(){return o}});var r=n(98503);const i=96;function s(e,t){const n=e.extent,s=e.width,o=(0,r.bq)(n?.spatialReference);return n&&s?n.width/s*o*r.br*i:0}function o(e,t){return e/((0,r.bq)(t)*r.br*i)}function l(e,t,n){return a(e,t)&&u(e,n)}function a(e,t){return 0===t||(0,r.bs)(e,t)||e<t}function u(e,t){return 0===t||(0,r.bs)(e,t)||e>t}},27505:function(e,t,n){n.d(t,{t:function(){return s}});var r=n(5948);const i=[];function s(e,t){if((0,r.g)(e.url??""))return!0;const{wkid:n}=t;for(const r of i){if((e.version??0)>=r[0])return!0;if("function"==typeof r[1]&&(r[1]=r[1]()),r[1].has(n))return!1}return!0}i.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),i.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),i.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),i.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),i.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}])}}]);
//# sourceMappingURL=8414.afd583fd.js.map