"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[2881,3297,8252],{41822:function(t,e,n){n.r(e),n.d(e,{default:function(){return E}});var r=n(98503),i=n(88012),a=n(28252),o=n(50027),s=n(20784),l=n(50293),u=n(63125),c=n(83424),f=n(20014);const h=["atom","xml"],d={base:r.db,key:"type",typeMap:{"simple-line":r.dc},errorContext:"symbol"},p={base:r.db,key:"type",typeMap:{"picture-marker":r.dd,"simple-marker":r.de},errorContext:"symbol"},y={base:r.db,key:"type",typeMap:{"simple-fill":r.df},errorContext:"symbol"};let m=class extends((0,o.l)((0,u.f)((0,s.b)((0,l.j)((0,c.t)((0,i.S)(a.f))))))){constructor(...t){super(...t),this.description=null,this.fullExtent=null,this.legendEnabled=!0,this.lineSymbol=null,this.pointSymbol=null,this.polygonSymbol=null,this.operationalLayerType="GeoRSS",this.url=null,this.type="geo-rss"}normalizeCtorArgs(t,e){return"string"==typeof t?{url:t,...e}:t}readFeatureCollections(t,e){return e.featureCollection.layers.forEach((t=>{const e=t.layerDefinition.drawingInfo.renderer.symbol;e&&"esriSFS"===e.type&&e.outline?.style.includes("esriSFS")&&(e.outline.style="esriSLSSolid")})),e.featureCollection.layers}get hasPoints(){return this._hasGeometry("esriGeometryPoint")}get hasPolylines(){return this._hasGeometry("esriGeometryPolyline")}get hasPolygons(){return this._hasGeometry("esriGeometryPolygon")}get title(){const t=this._get("title");return t&&"defaults"!==this.originOf("title")?t:this.url?(0,r.bA)(this.url,h)||"GeoRSS":t}set title(t){this._set("title",t)}load(t){const e=null!=t?t.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service","Feature Service","Feature Collection","Scene Service"]},t).catch(r.G).then((()=>this._fetchService(e))).then((t=>{this.read(t,{origin:"service"})}))),Promise.resolve(this)}async hasDataChanged(){const t=await this._fetchService();return this.read(t,{origin:"service",ignoreDefaults:!0}),!0}async _fetchService(t){const e=this.spatialReference,{data:n}=await(0,r.U)(r.H.geoRSSServiceUrl,{query:{url:this.url,refresh:!!this.loaded||void 0,outSR:(0,r.cb)(e)?void 0:e.wkid??JSON.stringify(e)},signal:t});return n}_hasGeometry(t){return this.featureCollections?.some((e=>e.featureSet?.geometryType===t&&e.featureSet.features?.length>0))??!1}};(0,r.k)([(0,r.o)()],m.prototype,"description",void 0),(0,r.k)([(0,r.o)()],m.prototype,"featureCollections",void 0),(0,r.k)([(0,r.u)("service","featureCollections",["featureCollection.layers"])],m.prototype,"readFeatureCollections",null),(0,r.k)([(0,r.o)({type:r.au,json:{name:"lookAtExtent"}})],m.prototype,"fullExtent",void 0),(0,r.k)([(0,r.o)(f.u)],m.prototype,"id",void 0),(0,r.k)([(0,r.o)(f.d)],m.prototype,"legendEnabled",void 0),(0,r.k)([(0,r.o)({types:d,json:{write:!0}})],m.prototype,"lineSymbol",void 0),(0,r.k)([(0,r.o)({type:["show","hide"]})],m.prototype,"listMode",void 0),(0,r.k)([(0,r.o)({types:p,json:{write:!0}})],m.prototype,"pointSymbol",void 0),(0,r.k)([(0,r.o)({types:y,json:{write:!0}})],m.prototype,"polygonSymbol",void 0),(0,r.k)([(0,r.o)({type:["GeoRSS"]})],m.prototype,"operationalLayerType",void 0),(0,r.k)([(0,r.o)(f.y)],m.prototype,"url",void 0),(0,r.k)([(0,r.o)({json:{origins:{service:{read:{source:"name",reader:t=>t||void 0}}}}})],m.prototype,"title",null),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1},value:"geo-rss"})],m.prototype,"type",void 0),m=(0,r.k)([(0,r.A)("esri.layers.GeoRSSLayer")],m);const E=m},28252:function(t,e,n){n.d(e,{f:function(){return l}});var r=n(98503),i=n(50257);async function a(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await Promise.all([n.e(2031),n.e(7489)]).then(n.bind(n,67489)).then((t=>t.p));try{return await i(e)}catch(a){const t=e?.portalItem,n=t?.id||"unset",i=t?.portal?.url||r.H.portalUrl;throw r.n.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+n+"')",a),a}}let o=0,s=class extends(r.bP.EventedMixin((0,r.da)(r.e))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new r.au(-180,-90,180,90,r.B.WGS84),this.id=Date.now().toString(16)+"-layer-"+o++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=r.B.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(t){const e="string"==typeof t?{url:t}:t;return(await Promise.all([n.e(2031),n.e(8529)]).then(n.bind(n,58529))).fromUrl(e)}static fromPortalItem(t){return a(t)}initialize(){this.when().catch((t=>{(0,r.E)(t)||r.n.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})}))}destroy(){const t=this.parent;if(t){const e=this;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"referenceLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e),this._set("parent",null)}}get effectiveVisible(){let t=this.visible;const e=this.parent;return t&&e&&"effectiveVisible"in e&&(t&&=e.effectiveVisible),t}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,r.I)(this.url)}async fetchAttributionData(){const t=this.attributionDataUrl;if(this.hasAttributionData&&t)return(await(0,r.U)(t,{query:{f:"json"},responseType:"json"})).data;throw new r.s("layer:no-attribution-data","Layer does not have attribution data")}};(0,r.k)([(0,r.o)({type:String})],s.prototype,"attributionDataUrl",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],s.prototype,"effectiveVisible",null),(0,r.k)([(0,r.o)({type:r.au})],s.prototype,"fullExtent",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],s.prototype,"hasAttributionData",null),(0,r.k)([(0,r.o)({type:String,clonable:!1})],s.prototype,"id",void 0),(0,r.k)([(0,r.o)({type:Boolean,nonNullable:!0})],s.prototype,"legendEnabled",void 0),(0,r.k)([(0,r.o)({type:["show","hide","hide-children"]})],s.prototype,"listMode",void 0),(0,r.k)([(0,r.o)({type:Number,range:{min:0,max:1},nonNullable:!0})],s.prototype,"opacity",void 0),(0,r.k)([(0,r.o)({clonable:!1})],s.prototype,"parent",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],s.prototype,"parsedUrl",null),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],s.prototype,"persistenceEnabled",void 0),(0,r.k)([(0,r.o)({type:Boolean})],s.prototype,"popupEnabled",void 0),(0,r.k)([(0,r.o)({type:Boolean})],s.prototype,"attributionVisible",void 0),(0,r.k)([(0,r.o)({type:r.B})],s.prototype,"spatialReference",void 0),(0,r.k)([(0,r.o)({type:String})],s.prototype,"title",void 0),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1}})],s.prototype,"type",void 0),(0,r.k)([(0,r.o)()],s.prototype,"url",void 0),(0,r.k)([(0,r.o)({type:i.p})],s.prototype,"visibilityTimeExtent",void 0),(0,r.k)([(0,r.o)({type:Boolean,nonNullable:!0})],s.prototype,"visible",void 0),s=(0,r.k)([(0,r.A)("esri.layers.Layer")],s);const l=s},50293:function(t,e,n){n.d(e,{j:function(){return o}});var r=n(98503),i=n(2031),a=n(83297);const o=t=>{let e=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,r.C)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,e,n){if(e.itemId)return new i["default"]({id:e.itemId,portal:n?.portal})}writePortalItem(t,e){t?.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem?.id)try{const{load:i}=await Promise.all([n.e(3338),n.e(1128)]).then(n.bind(n,21128));return(0,r.D)(e),await i({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(i){throw(0,r.E)(i)||r.n.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${i}`),i}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch((t=>((0,r.G)(t),!0))))}async setUserPrivileges(t,e){if(!r.H.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(e);if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(t,e);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",i)}catch(n){(0,r.G)(n)}}async _fetchUserPrivileges(t,e){let n=this.portalItem;if(!t||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(e);const o=t===n.id;if(o&&n.portal.user)return(0,a.E)(n);let s,l;if(o)s=n.portal.url;else try{s=await(0,r.J)(this.url,e)}catch(h){(0,r.G)(h)}if(!s||!(0,r.W)(s,n.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;l=await(r.K?.getCredential(`${s}/sharing`,{prompt:!1,signal:t}))}catch(h){(0,r.G)(h)}const u=!0,c=!1,f=!1;if(!l)return{features:{edit:u,fullEdit:c},content:{updateItem:f}};try{if(o?await n.reload():(n=new i["default"]({id:t,portal:{url:s}}),await n.load(e)),n.portal.user)return(0,a.E)(n)}catch(h){(0,r.G)(h)}return{features:{edit:u,fullEdit:c},content:{updateItem:f}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(n){(0,r.G)(n)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?r.K?.findCredential(this.url):null;if(!e)return!0;const n=s.credential===e?s.user:await this._fetchEditingUser(t);return s.credential=e,s.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const n=r.K?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const i=`${n.owningSystemUrl}/sharing/rest`,a=r.b.getDefault();if(a&&a.loaded&&(0,r.L)(a.restUrl)===(0,r.L)(i))return a.user;const o=`${i}/community/self`,s=null!=t?t.signal:null,l=await(0,r._)((0,r.U)(o,{authMode:"no-prompt",query:{f:"json"},signal:s}));return l.ok?r.M.fromJSON(l.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const n=e?.portal,i=this.portalItem?.id&&(this.portalItem.portal||r.b.getDefault());return n&&i&&!(0,r.N)(i.restUrl,n.restUrl)?(e.messages&&e.messages.push(new r.s("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return(0,r.k)([(0,r.o)({type:i["default"]})],e.prototype,"portalItem",null),(0,r.k)([(0,r.u)("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),(0,r.k)([(0,r.q)("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),(0,r.k)([(0,r.o)({clonable:!1})],e.prototype,"resourceReferences",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],e.prototype,"userHasEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],e.prototype,"userHasFullEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],e.prototype,"userHasUpdateItemPrivileges",void 0),e=(0,r.k)([(0,r.A)("esri.layers.mixins.PortalLayer")],e),e},s={credential:null,user:null}},50257:function(t,e,n){n.d(e,{i:function(){return o},m:function(){return l},o:function(){return a},p:function(){return h},r:function(){return i}});var r=n(98503);const i={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function a(t,e,n,i=r.dL){const a=new r.a6((0,r.dK)(i)),o=r.at.fromJSDate(t,{zone:a}),s="decades"===n||"centuries"===n?"year":u(n);return"decades"===n&&(e*=10),"centuries"===n&&(e*=100),o.plus({[s]:e}).toJSDate()}function o(t,e,n="milliseconds"){const r=t.getTime(),i=l(e,n,"milliseconds");return new Date(r+i)}function s(t,e,n=r.dL){const i=new r.a6((0,r.dK)(n)),a=r.at.fromJSDate(t,{zone:i});if("decades"===e||"centuries"===e){const t=a.startOf("year"),{year:n}=t,r=n-n%("decades"===e?10:100);return t.set({year:r}).toJSDate()}const o=u(e);return a.startOf(o).toJSDate()}function l(t,e,n){return 0===t?0:t*i[e]/i[n]}function u(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var c;let f=c=class extends r.v{static get allTime(){return d}static get empty(){return p}static fromArray(t){return new c({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(c.allTime)}get isEmpty(){return this.equals(c.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new c({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=t.start?.getTime()??t.start,i=t.end?.getTime()??t.end;return e===r&&n===i}expandTo(t,e=r.dL){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=s(n,t,e));let i=this.end;if(i){const n=s(i,t,e);i=i.getTime()===n.getTime()?n:a(n,1,t,e)}return new c({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return c.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,r=t.start?.getTime()??-1/0,i=t.end?.getTime()??1/0;let a,o;return r>=e&&r<=n?a=r:e>=r&&e<=i&&(a=e),n>=r&&n<=i?o=n:i>=e&&i<=n&&(o=i),null==a||null==o||isNaN(a)||isNaN(o)?c.empty:new c({start:a===-1/0?null:new Date(a),end:o===1/0?null:new Date(o)})}offset(t,e,n=r.dL){if(this.isEmpty||this.isAllTime)return this.clone();const i=new c,{start:o,end:s}=this;return null!=o&&(i.start=a(o,t,e,n)),null!=s&&(i.end=a(s,t,e,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return d.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,n=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new c({start:e,end:n})}};(0,r.k)([(0,r.o)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"end",void 0),(0,r.k)([(0,r.u)("end")],f.prototype,"readEnd",null),(0,r.k)([(0,r.q)("end")],f.prototype,"writeEnd",null),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1}})],f.prototype,"isAllTime",null),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1}})],f.prototype,"isEmpty",null),(0,r.k)([(0,r.o)({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"start",void 0),(0,r.k)([(0,r.u)("start")],f.prototype,"readStart",null),(0,r.k)([(0,r.q)("start")],f.prototype,"writeStart",null),f=c=(0,r.k)([(0,r.A)("esri.time.TimeExtent")],f);const h=f,d=new f,p=new f({start:void 0,end:void 0})},25209:function(t,e,n){n.d(e,{c:function(){return c},e:function(){return i},o:function(){return o},u:function(){return u}});let r=1e-6;function i(){return r}function a(t){r=t}const o=Math.random,s=Math.PI/180,l=180/Math.PI;function u(t){return t*s}function c(t){return t*l}function f(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:o,equals:f,getEpsilon:i,setEpsilon:a,toDegree:c,toRadian:u},Symbol.toStringTag,{value:"Module"}))},74362:function(t,e,n){n.d(e,{A:function(){return k},B:function(){return V},C:function(){return Z},D:function(){return G},G:function(){return J},H:function(){return $},I:function(){return w},O:function(){return I},P:function(){return N},X:function(){return x},b:function(){return m},c:function(){return d},f:function(){return y},g:function(){return R},h:function(){return c},i:function(){return p},j:function(){return L},n:function(){return a},o:function(){return s},p:function(){return C},q:function(){return g},r:function(){return o},s:function(){return l}});var r=n(98503),i=n(25209);function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,n,r,i,a,o,s,l,u,c,f,h,d,p,y,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=l,t[8]=u,t[9]=c,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=y,t[15]=m,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t,e){if(t===e){const n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function u(t,e){return c(t,e)||s(t),t}function c(t,e){const n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],y=e[13],m=e[14],E=e[15],M=n*s-r*o,S=n*l-i*o,g=n*u-a*o,_=r*l-i*s,C=r*u-a*s,R=i*u-a*l,P=c*y-f*p,A=c*m-h*p,b=c*E-d*p,O=f*m-h*y,v=f*E-d*y,w=h*E-d*m;let I=M*w-S*v+g*O+_*b-C*A+R*P;return I?(I=1/I,t[0]=(s*w-l*v+u*O)*I,t[1]=(i*v-r*w-a*O)*I,t[2]=(y*R-m*C+E*_)*I,t[3]=(h*C-f*R-d*_)*I,t[4]=(l*b-o*w-u*A)*I,t[5]=(n*w-i*b+a*A)*I,t[6]=(m*g-p*R-E*S)*I,t[7]=(c*R-h*g+d*S)*I,t[8]=(o*v-s*b+u*P)*I,t[9]=(r*b-n*v-a*P)*I,t[10]=(p*C-y*g+E*M)*I,t[11]=(f*g-c*C-d*M)*I,t[12]=(s*A-o*O-l*P)*I,t[13]=(n*O-r*A+i*P)*I,t[14]=(y*S-p*_-m*M)*I,t[15]=(c*_-f*S+h*M)*I,t):null}function f(t,e){const n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],y=e[13],m=e[14],E=e[15];return t[0]=s*(h*E-d*m)-f*(l*E-u*m)+y*(l*d-u*h),t[1]=-(r*(h*E-d*m)-f*(i*E-a*m)+y*(i*d-a*h)),t[2]=r*(l*E-u*m)-s*(i*E-a*m)+y*(i*u-a*l),t[3]=-(r*(l*d-u*h)-s*(i*d-a*h)+f*(i*u-a*l)),t[4]=-(o*(h*E-d*m)-c*(l*E-u*m)+p*(l*d-u*h)),t[5]=n*(h*E-d*m)-c*(i*E-a*m)+p*(i*d-a*h),t[6]=-(n*(l*E-u*m)-o*(i*E-a*m)+p*(i*u-a*l)),t[7]=n*(l*d-u*h)-o*(i*d-a*h)+c*(i*u-a*l),t[8]=o*(f*E-d*y)-c*(s*E-u*y)+p*(s*d-u*f),t[9]=-(n*(f*E-d*y)-c*(r*E-a*y)+p*(r*d-a*f)),t[10]=n*(s*E-u*y)-o*(r*E-a*y)+p*(r*u-a*s),t[11]=-(n*(s*d-u*f)-o*(r*d-a*f)+c*(r*u-a*s)),t[12]=-(o*(f*m-h*y)-c*(s*m-l*y)+p*(s*h-l*f)),t[13]=n*(f*m-h*y)-c*(r*m-i*y)+p*(r*h-i*f),t[14]=-(n*(s*m-l*y)-o*(r*m-i*y)+p*(r*l-i*s)),t[15]=n*(s*h-l*f)-o*(r*h-i*f)+c*(r*l-i*s),t}function h(t){const e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],h=t[11],d=t[12],p=t[13],y=t[14],m=t[15];return(e*o-n*a)*(f*m-h*y)-(e*s-r*a)*(c*m-h*p)+(e*l-i*a)*(c*y-f*p)+(n*s-r*o)*(u*m-h*d)-(n*l-i*o)*(u*y-f*d)+(r*l-i*s)*(u*p-c*d)}function d(t,e,n){const r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],y=e[12],m=e[13],E=e[14],M=e[15];let S=n[0],g=n[1],_=n[2],C=n[3];return t[0]=S*r+g*s+_*f+C*y,t[1]=S*i+g*l+_*h+C*m,t[2]=S*a+g*u+_*d+C*E,t[3]=S*o+g*c+_*p+C*M,S=n[4],g=n[5],_=n[6],C=n[7],t[4]=S*r+g*s+_*f+C*y,t[5]=S*i+g*l+_*h+C*m,t[6]=S*a+g*u+_*d+C*E,t[7]=S*o+g*c+_*p+C*M,S=n[8],g=n[9],_=n[10],C=n[11],t[8]=S*r+g*s+_*f+C*y,t[9]=S*i+g*l+_*h+C*m,t[10]=S*a+g*u+_*d+C*E,t[11]=S*o+g*c+_*p+C*M,S=n[12],g=n[13],_=n[14],C=n[15],t[12]=S*r+g*s+_*f+C*y,t[13]=S*i+g*l+_*h+C*m,t[14]=S*a+g*u+_*d+C*E,t[15]=S*o+g*c+_*p+C*M,t}function p(t,e,n){const r=n[0],i=n[1],a=n[2];if(e===t)t[12]=e[0]*r+e[4]*i+e[8]*a+e[12],t[13]=e[1]*r+e[5]*i+e[9]*a+e[13],t[14]=e[2]*r+e[6]*i+e[10]*a+e[14],t[15]=e[3]*r+e[7]*i+e[11]*a+e[15];else{const n=e[0],o=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],h=e[7],d=e[8],p=e[9],y=e[10],m=e[11];t[0]=n,t[1]=o,t[2]=s,t[3]=l,t[4]=u,t[5]=c,t[6]=f,t[7]=h,t[8]=d,t[9]=p,t[10]=y,t[11]=m,t[12]=n*r+u*i+d*a+e[12],t[13]=o*r+c*i+p*a+e[13],t[14]=s*r+f*i+y*a+e[14],t[15]=l*r+h*i+m*a+e[15]}return t}function y(t,e,n){const r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function m(t,e,n,r){let o=r[0],s=r[1],l=r[2],u=Math.sqrt(o*o+s*s+l*l);if(u<=(0,i.e)())return void a(t,e);u=1/u,o*=u,s*=u,l*=u;const c=Math.sin(n),f=Math.cos(n),h=1-f,d=e[0],p=e[1],y=e[2],m=e[3],E=e[4],M=e[5],S=e[6],g=e[7],_=e[8],C=e[9],R=e[10],P=e[11],A=o*o*h+f,b=s*o*h+l*c,O=l*o*h-s*c,v=o*s*h-l*c,w=s*s*h+f,I=l*s*h+o*c,L=o*l*h+s*c,N=s*l*h-o*c,G=l*l*h+f;t[0]=d*A+E*b+_*O,t[1]=p*A+M*b+C*O,t[2]=y*A+S*b+R*O,t[3]=m*A+g*b+P*O,t[4]=d*v+E*w+_*I,t[5]=p*v+M*w+C*I,t[6]=y*v+S*w+R*I,t[7]=m*v+g*w+P*I,t[8]=d*L+E*N+_*G,t[9]=p*L+M*N+C*G,t[10]=y*L+S*N+R*G,t[11]=m*L+g*N+P*G,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function E(t,e,n){const r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+u*r,t[5]=o*i+c*r,t[6]=s*i+f*r,t[7]=l*i+h*r,t[8]=u*i-a*r,t[9]=c*i-o*r,t[10]=f*i-s*r,t[11]=h*i-l*r,t}function M(t,e,n){const r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],u=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-u*r,t[1]=o*i-c*r,t[2]=s*i-f*r,t[3]=l*i-h*r,t[8]=a*r+u*i,t[9]=o*r+c*i,t[10]=s*r+f*i,t[11]=l*r+h*i,t}function S(t,e,n){const r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],u=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+u*r,t[1]=o*i+c*r,t[2]=s*i+f*r,t[3]=l*i+h*r,t[4]=u*i-a*r,t[5]=c*i-o*r,t[6]=f*i-s*r,t[7]=h*i-l*r,t}function g(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function _(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e,n){if(0===e)return s(t);let r=n[0],a=n[1],o=n[2],l=Math.sqrt(r*r+a*a+o*o);if(l<=(0,i.e)())return null;l=1/l,r*=l,a*=l,o*=l;const u=Math.sin(e),c=Math.cos(e),f=1-c;return t[0]=r*r*f+c,t[1]=a*r*f+o*u,t[2]=o*r*f-a*u,t[3]=0,t[4]=r*a*f-o*u,t[5]=a*a*f+c,t[6]=o*a*f+r*u,t[7]=0,t[8]=r*o*f+a*u,t[9]=a*o*f-r*u,t[10]=o*o*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function R(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,e,n){const r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,u=a+a,c=r*s,f=r*l,h=r*u,d=i*l,p=i*u,y=a*u,m=o*s,E=o*l,M=o*u;return t[0]=1-(d+y),t[1]=f+M,t[2]=h-E,t[3]=0,t[4]=f-M,t[5]=1-(c+y),t[6]=p+m,t[7]=0,t[8]=h+E,t[9]=p-m,t[10]=1-(c+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function O(t,e){const n=v,r=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],l=e[5],u=e[6],c=e[7],f=r*r+i*i+a*a+o*o;return f>0?(n[0]=2*(s*o+c*r+l*a-u*i)/f,n[1]=2*(l*o+c*i+u*r-s*a)/f,n[2]=2*(u*o+c*a+s*i-l*r)/f):(n[0]=2*(s*o+c*r+l*a-u*i),n[1]=2*(l*o+c*i+u*r-s*a),n[2]=2*(u*o+c*a+s*i-l*r)),b(t,e,n),t}const v=(0,r.aA)();function w(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function I(t,e){const n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],l=e[8],u=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+i*i),t[1]=Math.sqrt(a*a+o*o+s*s),t[2]=Math.sqrt(l*l+u*u+c*c),t}function L(t,e){const n=e[0]+e[5]+e[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function N(t,e,n,r){const i=e[0],a=e[1],o=e[2],s=e[3],l=i+i,u=a+a,c=o+o,f=i*l,h=i*u,d=i*c,p=a*u,y=a*c,m=o*c,E=s*l,M=s*u,S=s*c,g=r[0],_=r[1],C=r[2];return t[0]=(1-(p+m))*g,t[1]=(h+S)*g,t[2]=(d-M)*g,t[3]=0,t[4]=(h-S)*_,t[5]=(1-(f+m))*_,t[6]=(y+E)*_,t[7]=0,t[8]=(d+M)*C,t[9]=(y-E)*C,t[10]=(1-(f+p))*C,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function G(t,e,n,r,i){const a=e[0],o=e[1],s=e[2],l=e[3],u=a+a,c=o+o,f=s+s,h=a*u,d=a*c,p=a*f,y=o*c,m=o*f,E=s*f,M=l*u,S=l*c,g=l*f,_=r[0],C=r[1],R=r[2],P=i[0],A=i[1],b=i[2],O=(1-(y+E))*_,v=(d+g)*_,w=(p-S)*_,I=(d-g)*C,L=(1-(h+E))*C,N=(m+M)*C,G=(p+S)*R,T=(m-M)*R,k=(1-(h+y))*R;return t[0]=O,t[1]=v,t[2]=w,t[3]=0,t[4]=I,t[5]=L,t[6]=N,t[7]=0,t[8]=G,t[9]=T,t[10]=k,t[11]=0,t[12]=n[0]+P-(O*P+I*A+G*b),t[13]=n[1]+A-(v*P+L*A+T*b),t[14]=n[2]+b-(w*P+N*A+k*b),t[15]=1,t}function T(t,e){const n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,u=n*o,c=r*o,f=r*s,h=i*o,d=i*s,p=i*l,y=a*o,m=a*s,E=a*l;return t[0]=1-f-p,t[1]=c+E,t[2]=h-m,t[3]=0,t[4]=c-E,t[5]=1-u-p,t[6]=d+y,t[7]=0,t[8]=h+m,t[9]=d-y,t[10]=1-u-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function k(t,e,n,r,i,a,o){const s=1/(n-e),l=1/(i-r),u=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(o+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*u,t[15]=0,t}function F(t,e,n,r,i){const a=1/Math.tan(e/2);let o;return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(o=1/(r-i),t[10]=(i+r)*o,t[14]=2*i*r*o):(t[10]=-1,t[14]=-2*r),t}function W(t,e,n,r){const i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(o-s)*l*.5,t[9]=(i-a)*u*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function H(t,e,n,r,i,a,o){const s=1/(e-n),l=1/(r-i),u=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*u,t[15]=1,t}function x(t,e,n,r){const a=e[0],o=e[1],l=e[2];let u=a-n[0],c=o-n[1],f=l-n[2];const h=(0,i.e)();if(Math.abs(u)<h&&Math.abs(c)<h&&Math.abs(f)<h)return void s(t);let d=1/Math.sqrt(u*u+c*c+f*f);u*=d,c*=d,f*=d;const p=r[0],y=r[1],m=r[2];let E=y*f-m*c,M=m*u-p*f,S=p*c-y*u;d=Math.sqrt(E*E+M*M+S*S),d?(d=1/d,E*=d,M*=d,S*=d):(E=0,M=0,S=0);let g=c*S-f*M,_=f*E-u*S,C=u*M-c*E;d=Math.sqrt(g*g+_*_+C*C),d?(d=1/d,g*=d,_*=d,C*=d):(g=0,_=0,C=0),t[0]=E,t[1]=g,t[2]=u,t[3]=0,t[4]=M,t[5]=_,t[6]=c,t[7]=0,t[8]=S,t[9]=C,t[10]=f,t[11]=0,t[12]=-(E*a+M*o+S*l),t[13]=-(g*a+_*o+C*l),t[14]=-(u*a+c*o+f*l),t[15]=1}function U(t,e,n,r){const i=e[0],a=e[1],o=e[2],s=r[0],l=r[1],u=r[2];let c=i-n[0],f=a-n[1],h=o-n[2],d=c*c+f*f+h*h;d>0&&(d=1/Math.sqrt(d),c*=d,f*=d,h*=d);let p=l*h-u*f,y=u*c-s*h,m=s*f-l*c;return d=p*p+y*y+m*m,d>0&&(d=1/Math.sqrt(d),p*=d,y*=d,m*=d),t[0]=p,t[1]=y,t[2]=m,t[3]=0,t[4]=f*m-h*y,t[5]=h*p-c*m,t[6]=c*y-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function j(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function D(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function K(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function q(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function B(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function z(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Z(t,e){if(t===e)return!0;const n=t[0],r=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],y=t[12],m=t[13],E=t[14],M=t[15],S=e[0],g=e[1],_=e[2],C=e[3],R=e[4],P=e[5],A=e[6],b=e[7],O=e[8],v=e[9],w=e[10],I=e[11],L=e[12],N=e[13],G=e[14],T=e[15],k=(0,i.e)();return Math.abs(n-S)<=k*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-g)<=k*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(a-_)<=k*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-C)<=k*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(s-R)<=k*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(l-P)<=k*Math.max(1,Math.abs(l),Math.abs(P))&&Math.abs(u-A)<=k*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-b)<=k*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-O)<=k*Math.max(1,Math.abs(f),Math.abs(O))&&Math.abs(h-v)<=k*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(d-w)<=k*Math.max(1,Math.abs(d),Math.abs(w))&&Math.abs(p-I)<=k*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(y-L)<=k*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(m-N)<=k*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(E-G)<=k*Math.max(1,Math.abs(E),Math.abs(G))&&Math.abs(M-T)<=k*Math.max(1,Math.abs(M),Math.abs(T))}function J(t){const e=(0,i.e)(),n=t[0],r=t[1],a=t[2],o=t[4],s=t[5],l=t[6],u=t[8],c=t[9],f=t[10];return Math.abs(1-(n*n+o*o+u*u))<=e&&Math.abs(1-(r*r+s*s+c*c))<=e&&Math.abs(1-(a*a+l*l+f*f))<=e}function $(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const Y=d,Q=q;Object.freeze(Object.defineProperty({__proto__:null,add:K,adjoint:f,copy:a,determinant:h,equals:Z,exactEquals:V,frob:D,fromQuat:T,fromQuat2:O,fromRotation:C,fromRotationTranslation:b,fromRotationTranslationScale:N,fromRotationTranslationScaleOrigin:G,fromScaling:_,fromTranslation:g,fromXRotation:R,fromYRotation:P,fromZRotation:A,frustum:k,getRotation:L,getScaling:I,getTranslation:w,hasIdentityRotation:$,identity:s,invert:c,invertOrIdentity:u,isOrthoNormal:J,lookAt:x,mul:Y,multiply:d,multiplyScalar:B,multiplyScalarAndAdd:z,ortho:H,perspective:F,perspectiveFromFieldOfView:W,rotate:m,rotateX:E,rotateY:M,rotateZ:S,scale:y,set:o,str:j,sub:Q,subtract:q,targetTo:U,translate:p,transpose:l},Symbol.toStringTag,{value:"Module"}))},92113:function(t,e,n){function r(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function i(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t,e,n,r,i,a,o,s,l,u,c,f,h,d,p,y){const m=new Float32Array(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=i,m[5]=a,m[6]=o,m[7]=s,m[8]=l,m[9]=u,m[10]=c,m[11]=f,m[12]=h,m[13]=d,m[14]=p,m[15]=y,m}function o(t,e){return new Float32Array(t,e,16)}n.d(e,{e:function(){return r}});const s=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,createView:o,fromValues:a},Symbol.toStringTag,{value:"Module"}))},83297:function(t,e,n){n.d(e,{E:function(){return d},a:function(){return u},c:function(){return l},f:function(){return h},i:function(){return o},l:function(){return f},s:function(){return s},u:function(){return c}});var r=n(49555),i=n(98503);async function a(t){const e=t.spatialReference;if(e.isWGS84)return t.clone();if(e.isWebMercator)return(0,i.a0)(t);const n=i.B.WGS84;return await(0,r.N)(e,n),(0,r.K)(t,n)}function o(t,e){if(!s(t,e)){const n=t.typeKeywords;n?n.push(e):t.typeKeywords=[e]}}function s(t,e){return!!t.typeKeywords?.includes(e)}function l(t){return s(t,h.HOSTED_SERVICE)}function u(t,e){const n=t.typeKeywords;if(n){const t=n.indexOf(e);t>-1&&n.splice(t,1)}}function c(t,e,n){n?o(t,e):u(t,e)}async function f(t){const e=t.clone().normalize();let n;if(e.length>1)for(const r of e)n?r.width>n.width&&(n=r):n=r;else n=e[0];return a(n)}const h={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function d(t){const{portal:e,isOrgItem:n,itemControl:r}=t,i=e.user?.privileges;let a=!i||i.includes("features:user:edit"),o=!!n&&!!i?.includes("features:user:fullEdit");const s="update"===r||"admin"===r;return s?o=a=!0:o&&(a=!0),{features:{edit:a,fullEdit:o},content:{updateItem:s}}}},85502:function(t,e,n){n.r(e),n.d(e,{E:function(){return V},F:function(){return d},G:function(){return h},L:function(){return f},N:function(){return c},d:function(){return u},e:function(){return z},i:function(){return i},l:function(){return B},n:function(){return et},p:function(){return nt},t:function(){return a}});var r=n(98503);const i=Math.PI/180,a=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,o=r.a3.radius,s=r.a3.eccentricitySquared,l={a1:o*s,a2:o*s*o*s,a3:o*s*s/2,a4:o*s*o*s*2.5,a5:o*s+o*s*s/2,a6:1-s},u={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a3.radius,f:r.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.fs.radius,f:r.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.ft.radius,f:r.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var c;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(c||(c={}));const f={[c.WGS84]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:L,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:g,[c.WGS84]:p,[c.WGS84_ECEF]:x},[c.CGCS2000]:{[c.CGCS2000]:p,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:L,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:g,[c.WGS84]:p,[c.WGS84_ECEF]:x},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:p,[c.GCSMOON2000]:null,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:I,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:w,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:y,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:y,[c.SPHERICAL_ECEF]:m,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:p,[c.PLATE_CARREE]:C,[c.WGS84]:y,[c.WGS84_ECEF]:E},[c.WGS84_ECEF]:{[c.CGCS2000]:U,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:U,[c.SPHERICAL_ECEF]:j,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:D,[c.PLATE_CARREE]:R,[c.WGS84]:U,[c.WGS84_ECEF]:p},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:k,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:k,[c.SPHERICAL_ECEF]:p,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:F,[c.PLATE_CARREE]:P,[c.WGS84]:k,[c.WGS84_ECEF]:W},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:T,[c.GCSMOON2000]:null,[c.LON_LAT]:T,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:p,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:G,[c.LON_LAT]:G,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:p,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:p,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:p,[c.GCSMARS2000]:p,[c.GCSMOON2000]:p,[c.LON_LAT]:p,[c.SPHERICAL_ECEF]:L,[c.SPHERICAL_MARS_PCPF]:I,[c.SPHERICAL_MOON_PCPF]:w,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:g,[c.WGS84]:p,[c.WGS84_ECEF]:x},[c.PLATE_CARREE]:{[c.CGCS2000]:_,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:_,[c.SPHERICAL_ECEF]:A,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:b,[c.PLATE_CARREE]:p,[c.WGS84]:_,[c.WGS84_ECEF]:O}};function h(t,e,n=q()){return null==t||null==e?null:K(t,e,n).projector}function d(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=(0,r.bq)(t,1)),(0,r.fv)(t)?e.spatialReferenceId=c.SPHERICAL_ECEF:(0,r.cb)(t)?e.spatialReferenceId=c.WGS84:(0,r.cL)(t)?e.spatialReferenceId=c.WEB_MERCATOR:(0,r.fw)(t)?e.spatialReferenceId=c.PLATE_CARREE:t.wkt===r.c4.wkt?e.spatialReferenceId=c.WGS84_ECEF:t.wkid===r.fx.CGCS2000?e.spatialReferenceId=c.CGCS2000:t.wkt===r.c2.wkt?e.spatialReferenceId=c.SPHERICAL_MARS_PCPF:t.wkt===r.c3.wkt?e.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,r.eD)(t)?e.spatialReferenceId=c.GCSMARS2000:(0,r.eE)(t)?e.spatialReferenceId=c.GCSMOON2000:e.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function p(t,e,n,r){t!==n&&(n[r++]=t[e++],n[r++]=t[e++],n[r]=t[e])}function y(t,e,n,r){n[r]=J*(t[e]/Q),n[r+1]=J*(Y-2*Math.atan(Math.exp(-t[e+1]/Q))),n[r+2]=t[e+2]}function m(t,e,n,r){const i=t[e]/Q,a=Y-2*Math.atan(Math.exp(-t[e+1]/Q)),o=Q+t[e+2],s=Math.cos(a)*o;n[r]=Math.cos(i)*s,n[r+1]=Math.sin(i)*s,n[r+2]=Math.sin(a)*o}function E(t,e,n,r){y(t,e,n,r),x(n,r,n,r)}function M(t,e,n,i,a){const o=.4999999*$,s=(0,r.aP)(Z*t[e+1],-o,o),l=Math.sin(s);n[i++]=Z*t[e]*a.radius,n[i++]=a.halfSemiMajorAxis*Math.log((1+l)/(1-l)),n[i]=t[e+2]}function S(t,e,n,i){M(t,e,n,i,r.a3)}function g(t,e,n,r){n[r]=t[e]*X,n[r+1]=t[e+1]*X,n[r+2]=t[e+2]}function _(t,e,n,r){n[r]=t[e]*tt,n[r+1]=t[e+1]*tt,n[r+2]=t[e+2]}function C(t,e,n,r){y(t,e,n,r),g(n,r,n,r)}function R(t,e,n,r){U(t,e,n,r),g(n,r,n,r)}function P(t,e,n,r){k(t,e,n,r),g(n,r,n,r)}function A(t,e,n,r){_(t,e,n,r),L(n,r,n,r)}function b(t,e,n,r){_(t,e,n,r),S(n,r,n,r)}function O(t,e,n,r){_(t,e,n,r),x(n,r,n,r)}function v(t,e,n,r,i){const a=i+t[e+2],o=Z*t[e+1],s=Z*t[e],l=Math.cos(o)*a;n[r]=Math.cos(s)*l,n[r+1]=Math.sin(s)*l,n[r+2]=Math.sin(o)*a}function w(t,e,n,i){v(t,e,n,i,r.fs.radius)}function I(t,e,n,i){v(t,e,n,i,r.ft.radius)}function L(t,e,n,i){v(t,e,n,i,r.a3.radius)}function N(t,e,n,i,a){const o=t[e],s=t[e+1],l=t[e+2],u=Math.sqrt(o*o+s*s+l*l),c=(0,r.fu)(l/(0===u?1:u)),f=Math.atan2(s,o);n[i++]=J*f,n[i++]=J*c,n[i]=u-a}function G(t,e,n,i){N(t,e,n,i,r.fs.radius)}function T(t,e,n,i){N(t,e,n,i,r.ft.radius)}function k(t,e,n,i){N(t,e,n,i,r.a3.radius)}function F(t,e,n,r){k(t,e,n,r),S(n,r,n,r)}function W(t,e,n,r){k(t,e,n,r),x(n,r,n,r)}function H(t,e,n,r,i){const a=Z*t[e],o=Z*t[e+1],s=t[e+2],l=Math.sin(o),u=Math.cos(o),c=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);n[r++]=(c+s)*u*Math.cos(a),n[r++]=(c+s)*u*Math.sin(a),n[r++]=(c*(1-i.eccentricitySquared)+s)*l}function x(t,e,n,i){H(t,e,n,i,r.a3)}function U(t,e,n,i){const a=l,o=t[e],s=t[e+1],u=t[e+2];let c,f,h,d,p,y,m,E,M,S,g,_,C,R,P,A,b,O,v,w,I;c=Math.abs(u),f=o*o+s*s,h=Math.sqrt(f),d=f+u*u,p=Math.sqrt(d),w=Math.atan2(s,o),y=u*u/d,m=f/d,R=a.a2/p,P=a.a3-a.a4/p,m>.3?(E=c/p*(1+m*(a.a1+R+y*P)/p),v=Math.asin(E),S=E*E,M=Math.sqrt(1-S)):(M=h/p*(1-y*(a.a5-R-m*P)/p),v=Math.acos(M),S=1-M*M,E=Math.sqrt(S)),g=1-r.a3.eccentricitySquared*S,_=r.a3.radius/Math.sqrt(g),C=a.a6*_,R=h-_*M,P=c-C*E,b=M*R+E*P,A=M*P-E*R,O=A/(C/g+b),v+=O,I=b+A*O/2,u<0&&(v=-v),n[i++]=J*w,n[i++]=J*v,n[i]=I}function j(t,e,n,r){U(t,e,n,r),L(n,r,n,r)}function D(t,e,n,r){U(t,e,n,r),S(n,r,n,r)}function K(t,e,n){if(null==t||null==e||n.source.spatialReference===t&&n.dest.spatialReference===e)return n;const i=d(t,n.source),a=d(e,n.dest);return i===c.UNKNOWN&&a===c.UNKNOWN?(0,r.bh)(t,e)?n.projector=p:n.projector=null:n.projector=f[i][a],n}function q(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:p}}const B={spatialReference:null,spatialReferenceId:c.UNKNOWN},z={spatialReference:null,spatialReferenceId:c.UNKNOWN},V=q(),Z=(0,r.eI)(1),J=(0,r.dg)(1),$=Math.PI,Y=.5*$,Q=r.a3.radius,X=Q*$/180,tt=180/(Q*$);function et(t,e,n,r,i,a,o=Math.floor(t.length/3)){const s=h(e,i,V);if(null==s)return!1;if(s===p){if(t===r&&n===a)return!0;const e=n+3*o;for(let i=n,o=a;i<e;i++,o++)r[o]=t[i];return!0}const l=n+3*o;for(let u=n,c=a;u<l;u+=3,c+=3)s(t,u,r,c);return!0}const nt=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:et},Symbol.toStringTag,{value:"Module"}))},49555:function(t,e,n){n.r(e),n.d(e,{B:function(){return R},H:function(){return k},J:function(){return W},K:function(){return b},L:function(){return H},N:function(){return x},O:function(){return O},Q:function(){return U},V:function(){return v},W:function(){return A},X:function(){return w},Y:function(){return I},_:function(){return _},a:function(){return V},o:function(){return c},p:function(){return X},s:function(){return u}});var r=n(98503),i=n(85502);function a(t,e,n,r,a,s){return o[0]=t,o[1]=e,o[2]=n,(0,i.n)(o,r,0,a,s,0)}const o=(0,r.aA)();let s=0;class l{static fromGE(t){const e=new l;return e._wkt=t.wkt,e._wkid=t.wkid,e._isInverse=t.isInverse,e}constructor(t){this.uid=s++,t?(this._wkt=null!=t.wkt?t.wkt:null,this._wkid=null!=t.wkid?t.wkid:-1,this._isInverse=null!=t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=s++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=s++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=s++}getInverse(){const t=new l;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}let u=class t{static cacheKey(t,e){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??""].join()}static fromGE(e){const n=new t;let r="";for(const t of e.steps){const e=l.fromGE(t);n.steps.push(e),r+=e.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const e of t.steps)e instanceof l?this.steps.push(e):this.steps.push(new l({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))}getInverse(){const e=new t;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const n=this.steps[t];e.steps.push(n.getInverse())}return e}getGTListEntry(){let t="";for(const e of this.steps)t+=e.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(e,n,r){this._cachedProjection[t.cacheKey(e,n)]=r}getCachedGeTransformation(e,n){let r="";for(const t of this.steps)r+=t.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const i=this._cachedProjection[t.cacheKey(e,n)];return void 0===i?null:i}};function c(t,e,n){if(null==e||null==n||n.vcsWkid||(0,r.bh)(e,n)||(0,r.gK)(e)||(0,r.gK)(n))return null;const i=(0,r.bg)(e)/(0,r.bg)(n);if(1===i)return null;switch(t){case"point":case"esriGeometryPoint":return t=>f(t,i);case"polyline":case"esriGeometryPolyline":return t=>d(t,i);case"polygon":case"esriGeometryPolygon":return t=>h(t,i);case"multipoint":case"esriGeometryMultipoint":return t=>p(t,i);case"extent":case"esriGeometryEnvelope":return t=>y(t,i);default:return null}}function f(t,e){null!=t?.z&&(t.z*=e)}function h(t,e){if(t)for(const n of t.rings)for(const t of n)t.length>2&&(t[2]*=e)}function d(t,e){if(t)for(const n of t.paths)for(const t of n)t.length>2&&(t[2]*=e)}function p(t,e){if(t)for(const n of t.points)n.length>2&&(n[2]*=e)}function y(t,e){t&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=e,t.zmax*=e)}let m=null,E=null,M=null,S={};const g=new r.aQ;function _(){return!!m&&(0,r.gN)()}function C(){return!!_()||((0,r.aR)(g),A(),!1)}function R(t,e){return!t||!e||W(t,e)||C()}function P(t,e){return!W(t,e)&&!_()}function A(t){return null==M&&(M=Promise.all([(0,r.gL)(),Promise.all([n.e(916),n.e(2020)]).then(n.bind(n,90916)).then((t=>t.g)),n.e(6582).then(n.bind(n,6582))])),M.then((([,e,{hydratedAdapter:n}])=>{(0,r.D)(t),E=n,m=e.default,m._enableProjection(r.gM),g.notify()}))}function b(t,e,n=null,r=null){return Array.isArray(t)?0===t.length?[]:O(E,t,t[0].spatialReference,e,n,r):O(E,[t],t.spatialReference,e,n,r)[0]}function O(t,e,n,i,a=null,o=null){if(null==n||null==i)return e;if(W(n,i,a))return e.map((t=>U(t,n,i)));if(null==a&&(0,r.fv)(n))return e.map((t=>U(t,n,r.B.WGS84))).map((t=>k(t,i)));if(null==a&&(0,r.fv)(i))return e.map((t=>k(t,r.B.WGS84))).map((t=>U(t,r.B.WGS84,i)));if(null==a){const t=u.cacheKey(n,i);void 0!==S[t]?a=S[t]:(null==(a=I(n,i,void 0))&&(a=new u),S[t]=a)}if(null==m||null==t)throw new N;return null!=o?m._project(t,e,n,i,a,o):m._project(t,e,n,i,a)}function v(t,e){const n=w([t],e);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function w(t,e){if(!_())for(const n of t)if(null!=n&&!(0,r.bh)(n.spatialReference,e)&&(0,r.cg)(n.spatialReference)&&(0,r.cg)(e)&&!W(n.spatialReference,e))return(0,r.aR)(g),{pending:A(),geometries:null};return{pending:null,geometries:t.map((t=>null==t?null:(0,r.bh)(t.spatialReference,e)?t:(0,r.cg)(t.spatialReference)&&(0,r.cg)(e)?k(t,e):null))}}function I(t,e,n=null){if(null==t||null==e)return null;if(null==m||null==E)throw new N;const r=m._getTransformation(E,t,e,n,n?.spatialReference);return null!==r?u.fromGE(r):null}function L(t,e,n=null){if(null==m||null==E)throw new N;const r=m._getTransformationBySuitability(E,t,e,n,n?.spatialReference);if(null!==r){const t=[];for(const e of r)t.push(u.fromGE(e));return t}return[]}class N extends r.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function G(){m=null,E=null,M=null,S={}}const T={get loadPromise(){return M}};function k(t,e){try{const n=b(t,e);return null==n?null:("xmin"in t&&"xmin"in n&&(n.zmin=t.zmin,n.zmax=t.zmax),c(n.type,t.spatialReference,e)?.(n),n)}catch(n){if(!(n instanceof N))throw n;return null}}async function F(t,e,n){const r=t.spatialReference;return null!=r&&null!=e&&await x(r,e,null,n),k(t,e)}function W(t,e,n){return!n&&(!!(0,r.bh)(t,e)||(0,r.cg)(t)&&(0,r.cg)(e)&&!!(0,i.G)(t,e,i.E))}function H(t,e){if((0,r.bh)(t,e))return!0;if(!(0,r.cg)(t)||!(0,r.cg)(e))return!1;const n=(0,r.cb)(t)||(0,r.cL)(t)||(0,r.eC)(t),i=(0,r.cb)(e)||(0,r.cL)(e)||(0,r.eC)(e);return n&&i}async function x(t,e,n,i){if(_())return(0,r.O)(i);if(Array.isArray(t)){for(const{source:r,dest:a,geographicTransformation:o}of t)if(r&&a&&!W(r,a,o))return A(i)}else if(t&&e&&!W(t,e,n))return A(i);return(0,r.O)(i)}function U(t,e,n){return t?"x"in t?D(t,e,new r.bv,n,0):"xmin"in t?$(t,e,new r.au,n,0):"rings"in t?Z(t,e,new r.bC,n,0):"paths"in t?z(t,e,new r.aT,n,0):"points"in t?q(t,e,new r.bD,n,0):null:null}function j(t,e,n=e.spatialReference,r=0){return null!=n&&null!=t.spatialReference&&null!=D(t,t.spatialReference,e,n,r)}function D(t,e,n,a,o){Q[0]=t.x,Q[1]=t.y;const s=t.z;return Q[2]=void 0!==s?s:o,(0,i.n)(Q,e,0,Q,a,0)?(n.x=Q[0],n.y=Q[1],n.spatialReference=a,void 0!==s||(0,r.gK)(a)?(n.z=Q[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===t.m?(n.m=void 0,n.hasM=!1):(n.m=t.m,n.hasM=!0),n):null}function K(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=q(t,t.spatialReference,e,n,r)}function q(t,e,n,a,o){const{points:s,hasZ:l,hasM:u}=t,c=[],f=s.length,h=[];for(const r of s)h.push(r[0],r[1],l?r[2]:o);if(!(0,i.n)(h,e,0,h,a,0,f))return null;const d=l||(0,r.gK)(a);for(let r=0;r<f;++r){const t=3*r,e=h[t],n=h[t+1];d&&u?c.push([e,n,h[t+2],s[r][3]]):d?c.push([e,n,h[t+2]]):u?c.push([e,n,s[r][2]]):c.push([e,n])}return n.points=c,n.spatialReference=a,n.hasZ=l,n.hasM=u,n}function B(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=z(t,t.spatialReference,e,n,r)}function z(t,e,n,i,a){const{paths:o,hasZ:s,hasM:l}=t,u=[];if(!Y(o,s??!1,l??!1,e,u,i,a))return null;const c=s||(0,r.gK)(i);return n.paths=u,n.spatialReference=i,n.hasZ=c,n.hasM=l,n}function V(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=Z(t,t.spatialReference,e,n,r)}function Z(t,e,n,i,a){const{rings:o,hasZ:s,hasM:l}=t,u=[];if(!Y(o,s??!1,l??!1,e,u,i,a))return null;const c=s||(0,r.gK)(i);return n.rings=u,n.spatialReference=i,n.hasZ=c,n.hasM=l,n}function J(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=$(t,t.spatialReference,e,n,r)}function $(t,e,n,i,o){const{xmin:s,ymin:l,xmax:u,ymax:c,hasZ:f,hasM:h}=t,d=f?t.zmin:o;if(!a(s,l,d,e,Q,i))return null;const p=f||(0,r.gK)(i);n.xmin=Q[0],n.ymin=Q[1],p&&(n.zmin=Q[2]);const y=f?t.zmax:o;return a(u,c,y,e,Q,i)?(n.xmax=Q[0],n.ymax=Q[1],p&&(n.zmax=Q[2]),h&&(n.mmin=t.mmin,n.mmax=t.mmax),n.spatialReference=i,n):null}function Y(t,e,n,a,o,s,l=0){const u=new Array;for(const r of t)for(const t of r)u.push(t[0],t[1],e?t[2]:l);if(!(0,i.n)(u,a,0,u,s,0))return!1;let c=0;o.length=0;const f=e||(0,r.gK)(s);for(const r of t){const t=new Array;for(const e of r)f&&n?t.push([u[c++],u[c++],u[c++],e[3]]):f?t.push([u[c++],u[c++],u[c++]]):n?(t.push([u[c++],u[c++],e[2]]),c++):(t.push([u[c++],u[c++]]),c++);o.push(t)}return!0}const Q=(0,r.aA)(),X=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:W,getTransformation:I,getTransformations:L,initializeProjection:x,isEqualBaseGCS:H,isLoaded:_,isLoadedOrLoad:C,isLoadedOrLoadFor:R,load:A,project:b,projectExtent:J,projectMany:O,projectMultipoint:K,projectOrLoad:v,projectOrLoadMany:w,projectPoint:j,projectPolygon:V,projectPolyline:B,projectWithZConversion:F,projectWithoutEngine:U,requiresLoad:P,test:T,tryProjectWithZConversion:k,unload:G},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=2881.43b3275f.js.map