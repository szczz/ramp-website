"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[6868],{76868:function(e,t,o){o.r(t),o.d(t,{default:function(){return f}});var n=o(98503);const a={},i={class:"border-b p-0 self-center w-2/3"};function s(e,t){return(0,n.dU)(),(0,n.dY)("span",i)}const r=(0,n.fN)(a,[["render",s]]),l=(0,n.dM)({__name:"zoom-nav",setup(e){const{t:t}=(0,n.dN)(),o=(0,n.e2)("iApi"),a=(0,n.hw)(400,!0,(()=>o.geo.map.zoomIn())),i=(0,n.hw)(400,!0,(()=>o.geo.map.zoomOut()));return(e,o)=>{const s=(0,n.dR)("mapnav-button");return(0,n.dU)(),(0,n.dY)("div",null,[(0,n.ec)(s,{onClickFunction:(0,n.e0)(a),tooltip:(0,n.e0)(t)("mapnav.zoomIn")},{default:(0,n.dW)((()=>o[0]||(o[0]=[(0,n.dX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[(0,n.dX)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),(0,n.dX)("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)]))),_:1},8,["onClickFunction","tooltip"]),(0,n.ec)(r),(0,n.ec)(s,{onClickFunction:(0,n.e0)(i),tooltip:(0,n.e0)(t)("mapnav.zoomOut")},{default:(0,n.dW)((()=>o[1]||(o[1]=[(0,n.dX)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:"fill-current w-32 h-20"},[(0,n.dX)("path",{d:"M19 13H5v-2h14v2z"}),(0,n.dX)("path",{d:"M0 0h24v24H0z",fill:"none"})],-1)]))),_:1},8,["onClickFunction","tooltip"])])}}}),p={class:"mapnav absolute right-0 bottom-0 pb-36 sm:pb-48 pr-12"},c=["content"],d={class:"mapnav-section bg-white-75 hover:bg-white"},m=(0,n.dM)({__name:"mapnav",setup(e){const t=(0,n.f8)(),{t:o}=(0,n.dN)(),a=(0,n.e3)(),i=()=>{a.value._tippy.hide()},s=e=>{"Tab"===e.key&&a.value?.matches(":focus")&&a.value._tippy.show()};(0,n.e8)((()=>{a.value?.addEventListener("blur",i),a.value?.addEventListener("keyup",s)})),(0,n.e9)((()=>{a.value?.removeEventListener("blur",i),a.value?.removeEventListener("keyup",s)}));const m=(0,n.dQ)((()=>t.order.map((e=>t.items[e])).filter((e=>e.componentId))));return(e,t)=>{const i=(0,n.dS)("focus-list"),s=(0,n.dS)("tippy");return(0,n.dU)(),(0,n.dY)("div",p,[(0,n.dT)(((0,n.dU)(),(0,n.dY)("div",{class:"flex flex-col",content:(0,n.e0)(o)("panels.controls.items"),ref_key:"el",ref:a},[(0,n.ec)(l,{class:"mapnav-section bg-white-75 hover:bg-white"}),t[0]||(t[0]=(0,n.dX)("span",{class:"py-1"},null,-1)),(0,n.dX)("div",d,[((0,n.dU)(!0),(0,n.dY)(n.e1,null,(0,n.dZ)(m.value,((e,t)=>((0,n.dU)(),(0,n.dY)(n.e1,{key:e.id+"button"},[((0,n.dU)(),(0,n.dV)((0,n.hx)(e.id+"-nav-button"))),t!==m.value.length-1?((0,n.dU)(),(0,n.dV)(r,{key:0,class:"mapnav-divider"})):(0,n.eb)("",!0)],64)))),128))])],8,c)),[[i],[s,{trigger:"manual",placement:"top-end",touch:!1,maxWidth:190}]])])}}}),v=(0,n.fN)(m,[["__scopeId","data-v-41a5c7b7"]]);class u extends n.F{mapnavStore=(0,n.f8)(this.$vApp.$pinia);get config(){return super.config}_parseConfig(e){if(!e)return;const t=e.items.map((e=>({id:e})));this.mapnavStore.items=t.reduce(((e,t)=>(e[t.id]=t,e)),{}),this.mapnavStore.order=t.map((e=>e.id)),this._validateItems()}_validateItems(){const e=["geolocator","zoom","home","fullscreen"];this.mapnavStore.order.forEach((t=>{(this.$iApi.fixture.exists(t)||e.includes(t))&&(this.mapnavStore.items[t].componentId=`${t}-nav-button`)}))}}const h={en:{"mapnav.zoomIn":"Zoom In","mapnav.zoomOut":"Zoom Out","mapnav.home":"Home","mapnav.fullscreen":"Full Screen","mapnav.geolocator":"Your Location","mapnav.geolocator.error.permission":"The location request was denied. Please check your browser permission settings.","mapnav.geolocator.error.internal":"Your location could not be found."},fr:{"mapnav.zoomIn":"Zoom avant","mapnav.zoomOut":"Zoom arrière","mapnav.home":"Accueil","mapnav.fullscreen":"Plein Écran","mapnav.geolocator":"Votre position","mapnav.geolocator.error.permission":"Demande de localisation refusée. Veuillez vérifier les paramètres d'autorisation de votre navigateur.","mapnav.geolocator.error.internal":"Votre emplacement n'a pu être trouvé."}};class f extends u{async added(){Object.entries(h).forEach((e=>this.$iApi.$i18n.mergeLocaleMessage(...e)));const{destroy:e,el:t}=this.mount(v,{app:this.$element});this.$vApp.$el.getElementsByClassName("inner-shell")[0].appendChild(t.childNodes[0]),this._parseConfig(this.config);const o=this.$vApp.$watch((()=>this.config),(e=>this._parseConfig(e))),a=this.$iApi.event.on(n.dE.COMPONENT,(()=>{this._parseConfig(this.config)}));this.removed=()=>{o(),this.$iApi.event.off(a);const t=(0,n.f8)(this.$vApp.$pinia),i={...t.items};Object.keys(i).forEach((e=>t.removeItem(e))),t.$reset(),e()}}}}}]);
//# sourceMappingURL=6868.364dd72c.js.map