"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3281],{21112:function(e,t,i){i.d(t,{w:function(){return d}});var r,n=i(98503),s=i(78546),o=i(43126);const l={read:{reader:s.n},write:{writer:s.a,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},a={read:{reader:s.n},write:{writer:s.a,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},u={name:"showExcludedLabels",default:!0};let p=r=class extends n.v{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const i=super.write(e,t);if(t?.origin){if(i.filter){const e=Object.keys(i.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new n.s("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in i)return t.messages?.push(new n.s("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return i}clone(){return new r({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};(0,n.k)([(0,n.o)({type:o["default"],json:{write:{allowNull:!0,writer(e,t,i,r){const s=e?.write({},r);s&&0!==Object.keys(s).length?(0,n.aY)(i,s,t):(0,n.aY)(i,null,t)}}}})],p.prototype,"filter",void 0),(0,n.k)([(0,n.o)({json:{read:s.n,write:{writer:s.a,allowNull:!0},origins:{"web-map":l,"portal-item":l}}})],p.prototype,"includedEffect",void 0),(0,n.k)([(0,n.o)({json:{read:s.n,write:{writer:s.a,allowNull:!0},origins:{"web-map":a,"portal-item":a}}})],p.prototype,"excludedEffect",void 0),(0,n.k)([(0,n.o)({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":u,"portal-item":u}}})],p.prototype,"excludedLabelsVisible",void 0),p=r=(0,n.k)([(0,n.A)("esri.layers.support.FeatureEffect")],p);const d=p},29821:function(e,t,i){i.d(t,{c:function(){return l},p:function(){return o}});var r=i(98503),n=i(21112);const s={write:{allowNull:!0}},o={type:n.w,json:{origins:{"web-map":s,"portal-item":s}}},l=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return(0,r.k)([(0,r.o)(o)],t.prototype,"featureEffect",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.FeatureEffectLayer")],t),t}},43126:function(e,t,i){i.r(t),i.d(t,{default:function(){return p}});var r,n=i(98503),s=i(13193),o=i(50257);const l=new n.ax({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),a=new n.ax({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let u=r=class extends n.v{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:o,objectIds:l,units:a,distance:u}=this;return new s.b({geometry:(0,n.f)(i),objectIds:(0,n.f)(l),spatialRelationship:r,timeExtent:(0,n.f)(o),where:t,units:a,distance:u,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:s,objectIds:o,units:l,distance:a}=this;return new r({geometry:(0,n.f)(t),objectIds:(0,n.f)(o),spatialRelationship:i,timeExtent:(0,n.f)(s),where:e,units:l,distance:a})}};(0,n.k)([(0,n.o)({type:String,json:{write:!0}})],u.prototype,"where",void 0),(0,n.k)([(0,n.o)({types:n.b2,json:{write:!0}})],u.prototype,"geometry",void 0),(0,n.k)([(0,n.o)({type:l.apiValues,json:{name:"spatialRel",read:{reader:l.read},write:{allowNull:!1,writer:l.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],u.prototype,"spatialRelationship",void 0),(0,n.k)([(0,n.o)({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],u.prototype,"distance",void 0),(0,n.k)([(0,n.o)({type:[Number],json:{write:!0}})],u.prototype,"objectIds",void 0),(0,n.k)([(0,n.o)({type:a.apiValues,json:{read:a.read,write:{writer:a.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],u.prototype,"units",void 0),(0,n.k)([(0,n.o)({type:o.p,json:{write:!0}})],u.prototype,"timeExtent",void 0),u=r=(0,n.k)([(0,n.A)("esri.layers.support.FeatureFilter")],u);const p=u},83043:function(e,t,i){i.d(t,{c:function(){return N},p:function(){return I}});var r=i(98503),n=i(61140),s=i(47509),o=i(20014),l=i(2776),a=i(2432),u=i(70309),p=i(16473);let d=class extends((0,r.a_)(r.v)){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],d.prototype,"expression",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],d.prototype,"title",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],d.prototype,"returnType",void 0),d=(0,r.k)([(0,r.A)("esri.layers.support.ExpressionInfo")],d);const c=d;var f;let y=f=class extends r.v{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new f({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:(0,r.f)(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};(0,r.k)([(0,r.o)({type:Boolean,json:{write:!0}})],y.prototype,"isAutoGenerated",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],y.prototype,"name",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],y.prototype,"alias",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],y.prototype,"onStatisticField",void 0),(0,r.k)([(0,r.o)({type:c,json:{write:!0}})],y.prototype,"onStatisticExpression",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],y.prototype,"statisticType",void 0),y=f=(0,r.k)([(0,r.A)("esri.layers.support.AggregateField")],y);const m=y;var h;let v=h=class extends l.t{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=(0,r.fy)("12px"),this.fields=[],this.renderer=null}writeFields(e,t,i){const n=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));(0,r.aY)(i,n,t)}readRenderer(e,t,i){const r=t.drawingInfo?.renderer;return r?(0,s.o)(r,t,i)??void 0:(0,a.z)(t,i)}clone(){return new h({fields:(0,r.f)(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:(0,r.f)(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:(0,r.f)(this.popupTemplate),renderer:(0,r.f)(this.renderer),binType:(0,r.f)(this.binType),size:this.size})}};(0,r.k)([(0,r.bk)({binning:"binning"})],v.prototype,"type",void 0),(0,r.k)([(0,r.bk)({geohash:"geohash",square:"square"}),(0,r.o)({type:["geohash","square"]})],v.prototype,"binType",void 0),(0,r.k)([(0,r.o)({type:Number,json:{write:!0}})],v.prototype,"fixedBinLevel",void 0),(0,r.k)([(0,r.o)({type:[u.C],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],v.prototype,"labelingInfo",void 0),(0,r.k)([(0,r.o)(o.p)],v.prototype,"labelsVisible",void 0),(0,r.k)([(0,r.o)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],v.prototype,"maxScale",void 0),(0,r.k)([(0,r.o)(o.l)],v.prototype,"popupEnabled",void 0),(0,r.k)([(0,r.o)({type:r.b4,json:{name:"popupInfo",write:!0}})],v.prototype,"popupTemplate",void 0),(0,r.k)([(0,r.o)({cast:e=>"auto"===e?e:(0,r.f$)((0,r.fy)(e))})],v.prototype,"size",void 0),(0,r.k)([(0,r.o)({type:[m],json:{write:!0}})],v.prototype,"fields",void 0),(0,r.k)([(0,r.q)("fields")],v.prototype,"writeFields",null),(0,r.k)([(0,r.o)({types:s.m,json:{write:{target:"drawingInfo.renderer"}}})],v.prototype,"renderer",void 0),(0,r.k)([(0,r.u)("renderer",["drawingInfo.renderer"])],v.prototype,"readRenderer",null),v=h=(0,r.k)([(0,r.A)("esri.layers.support.FeatureReductionBinning")],v);const w=v;var b;function g(e){return"simple"===e.type&&!e.visualVariables?.length}let x=b=class extends r.v{constructor(e){super(e),this.type="cluster",this.clusterRadius=(0,r.fy)("80px"),this.clusterMinSize=(0,r.fy)("12px"),this.clusterMaxSize=(0,r.fy)("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(e,t,i){const r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r?g(r)?null:(0,s.o)(r,t,i)??void 0:(0,a.z)(t,i)}readSymbol(e,t,i){const r=t.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r&&g(r)?(0,s.o)(r,t,i)?.symbol:null}writeSymbol(e,t,i,r){const n=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||n){const i=new s.p({symbol:e});t.drawingInfo={renderer:i.write({},r)}}}writeFields(e,t,i){const n=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));(0,r.aY)(i,n,t)}readFields(e,t,i){return e.filter((e=>!e.isAutoGenerated)).map((e=>m.fromJSON(e)))}clone(){return new b({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:(0,r.f)(this.labelingInfo),labelsVisible:this.labelsVisible,fields:(0,r.f)(this.fields),maxScale:this.maxScale,renderer:(0,r.f)(this.renderer),symbol:(0,r.f)(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:(0,r.f)(this.popupTemplate)})}};(0,r.k)([(0,r.o)({type:["cluster"],readOnly:!0,json:{write:!0}})],x.prototype,"type",void 0),(0,r.k)([(0,r.o)({cast:e=>"auto"===e?e:(0,r.f$)((0,r.fy)(e)),json:{write:!0}})],x.prototype,"clusterRadius",void 0),(0,r.k)([(0,r.o)({type:Number,cast:r.fy,json:{write:!0}})],x.prototype,"clusterMinSize",void 0),(0,r.k)([(0,r.o)({type:Number,cast:r.fy,json:{write:!0}})],x.prototype,"clusterMaxSize",void 0),(0,r.k)([(0,r.o)({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],x.prototype,"maxScale",void 0),(0,r.k)([(0,r.o)(o.l)],x.prototype,"popupEnabled",void 0),(0,r.k)([(0,r.o)({type:r.b4,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],x.prototype,"popupTemplate",void 0),(0,r.k)([(0,r.o)({types:s.m,json:{write:{target:"drawingInfo.renderer"}}})],x.prototype,"renderer",void 0),(0,r.k)([(0,r.u)("renderer",["drawingInfo.renderer"])],x.prototype,"readRenderer",null),(0,r.k)([(0,r.o)({types:r.ht})],x.prototype,"symbol",void 0),(0,r.k)([(0,r.u)("symbol",["drawingInfo.renderer"])],x.prototype,"readSymbol",null),(0,r.k)([(0,r.q)("symbol")],x.prototype,"writeSymbol",null),(0,r.k)([(0,r.o)({type:[u.C],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],x.prototype,"labelingInfo",void 0),(0,r.k)([(0,r.o)(o.p)],x.prototype,"labelsVisible",void 0),(0,r.k)([(0,r.o)({type:[m],json:{write:!0}})],x.prototype,"fields",void 0),(0,r.k)([(0,r.q)("fields")],x.prototype,"writeFields",null),(0,r.k)([(0,r.u)("fields")],x.prototype,"readFields",null),x=b=(0,r.k)([(0,r.A)("esri.layers.support.FeatureReductionCluster")],x);const k=x,E={key:"type",base:l.t,typeMap:{cluster:k,binning:w}},I={types:{key:"type",base:l.t,typeMap:{selection:l.p,cluster:k,binning:w}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:E},"portal-item":{types:E},"web-scene":{types:{key:"type",base:l.t,typeMap:{selection:l.p}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:o.a}}}}},S=()=>r.n.getLogger("esri.views.2d.layers.support.clusterUtils");r.a$.add("esri-cluster-arcade-enabled",!0);const R=(0,r.a$)("esri-cluster-arcade-enabled"),T=new Set(["simple-line","simple-fill","picture-fill"]);function j(e,t){let i=t.clone();if(!F(i))return i;if(t.getSymbols().some((e=>T.has(e.type)))&&(i=new s.p({symbol:new r.de})),i.authoringInfo||(i.authoringInfo=new n.j),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const t=(i.visualVariables||[]).filter((e=>"$view.scale"!==e.valueExpression));t.forEach((t=>{"rotation"===t.type?t.field?t.field=V(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=A(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=V(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=V(e,t.field,"avg","number"):t.valueExpression&&(t.field=A(e,t.valueExpression,"avg","number"),t.valueExpression=null)})),i.visualVariables=t}switch(i.type){case"simple":break;case"pie-chart":for(const t of i.attributes)t.field?t.field=V(e,t.field,"sum","number"):t.valueExpression&&(t.field=A(e,t.valueExpression,"sum","number"),t.valueExpression=null);break;case"unique-value":i.field?i.field=V(e,i.field,"mode","string"):i.valueExpression&&(i.field=A(e,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=V(e,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=V(e,i.field,"avg","number"):i.valueExpression&&(i.field=A(e,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const F=e=>{const t=t=>S().error(new r.s("Unsupported-renderer",t,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const i=e.normalizationType;if("field"!==i)return t(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!R){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some((e=>!(!("valueExpression"in e)||!e.valueExpression))))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function _(e,t,i){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const e=i,r="field",n=t.toLowerCase()+",norm:"+r+","+e.toLowerCase();return"cluster_avg_"+(0,p.x)(n)}}}function A(e,t,i,r){const n=(0,p.x)(t),s="mode"===i?`cluster_type_${n}`:"sum"===i?`cluster_sum_${n}`:`cluster_avg_${n}`;return e.some((e=>e.name===s))||e.push(new m({name:s,isAutoGenerated:!0,onStatisticExpression:new c({expression:t,returnType:r}),statisticType:i})),s}function V(e,t,i,r,n){if("cluster_count"===t||e.some((e=>e.name===t)))return t;const s=_(i,t,n);return e.some((e=>e.name===s))||("avg_norm"===i?e.push(new m({name:s,isAutoGenerated:!0,onStatisticExpression:new c({expression:`$feature.${t} / $feature.${n}`,returnType:r}),statisticType:"avg"})):e.push(new m({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:i}))),s}const N=e=>{let t=class extends e{constructor(...e){super(...e),this.addHandles((0,r.aE)((()=>this.renderer),(()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",e)}}),r.az))}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}set renderer(e){}_withClusterVariable(e,t,i){const r=e.clone();return"visualVariables"in r&&(r.visualVariables||(r.visualVariables=[]),r.visualVariables.some((e=>"size"===e.type))||r.visualVariables.push(new n.b({field:"cluster_count",stops:[new n.a({value:1}),new n.a({useMinValue:!0,size:t}),new n.a({useMaxValue:!0,size:i})]}))),r}_normalizeFeatureReduction(e){if("cluster"!==e?.type)return e;const t=e.clone(),i=[new m({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],r=(t.fields??[]).filter((e=>!e.isAutoGenerated)),n=e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:o,clusterMaxSize:l}=t;if(n){t.fields=[...i,...r];const e=this._withClusterVariable(t.renderer,o,l);return t.effectiveFeatureRenderer=e,t.effectiveClusterRenderer=e,t}if(e.symbol){if(t.fields=[...i,...r],t.renderer=null,!this.renderer)return t.effectiveFeatureRenderer=null,t.effectiveClusterRenderer=null,t;const n=j(i,this.renderer),a=this._withClusterVariable(n,o,l),u="visualVariables"in a&&a.visualVariables?a.visualVariables:[],p=new s.p({symbol:e.symbol,visualVariables:u});return t.fields=[...i,...r],t.effectiveFeatureRenderer=a,t.effectiveClusterRenderer=p,t}if(!this.renderer)return e;const a=j(i,this.renderer);t.fields=[...i,...r],t.renderer=a;const u=this._withClusterVariable(a,o,l);return t.effectiveFeatureRenderer=u,t.effectiveClusterRenderer=u,t}};return(0,r.k)([(0,r.o)(I)],t.prototype,"featureReduction",null),t=(0,r.k)([(0,r.A)("esri.layers.mixins.FeatureReductionLayer")],t),t}},2776:function(e,t,i){i.d(t,{p:function(){return l},t:function(){return n}});var r=i(98503);let n=class extends r.v{constructor(){super(...arguments),this.type=null}};var s;(0,r.k)([(0,r.o)({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],n.prototype,"type",void 0),n=(0,r.k)([(0,r.A)("esri.layers.support.FeatureReduction")],n);let o=s=class extends n{constructor(e){super(e),this.type="selection"}clone(){return new s}};(0,r.k)([(0,r.o)({type:["selection"]})],o.prototype,"type",void 0),o=s=(0,r.k)([(0,r.A)("esri.layers.support.FeatureReductionSelection")],o);const l=o},16473:function(e,t,i){i.d(t,{n:function(){return r},x:function(){return w}});const r={Base64:0,Hex:1,String:2,Raw:3},n=8,s=(1<<n)-1;function o(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function l(e){const t=[];for(let i=0,r=e.length*n;i<r;i+=n)t[i>>5]|=(e.charCodeAt(i/n)&s)<<i%32;return t}function a(e){const t=[];for(let i=0,r=32*e.length;i<r;i+=n)t.push(String.fromCharCode(e[i>>5]>>>i%32&s));return t.join("")}function u(e){const t="0123456789abcdef",i=[];for(let r=0,n=4*e.length;r<n;r++)i.push(t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15));return i.join("")}function p(e){const t="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let n=0,s=4*e.length;n<s;n+=3){const s=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let o=0;o<4;o++)8*n+6*o>32*e.length?r.push(t):r.push(i.charAt(s>>6*(3-o)&63))}return r.join("")}function d(e,t){return e<<t|e>>>32-t}function c(e,t,i,r,n,s){return o(d(o(o(t,e),o(r,s)),n),i)}function f(e,t,i,r,n,s,o){return c(t&i|~t&r,e,t,n,s,o)}function y(e,t,i,r,n,s,o){return c(t&r|i&~r,e,t,n,s,o)}function m(e,t,i,r,n,s,o){return c(t^i^r,e,t,n,s,o)}function h(e,t,i,r,n,s,o){return c(i^(t|~r),e,t,n,s,o)}function v(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let i=1732584193,r=-271733879,n=-1732584194,s=271733878;for(let l=0;l<e.length;l+=16){const t=i,a=r,u=n,p=s;i=f(i,r,n,s,e[l],7,-680876936),s=f(s,i,r,n,e[l+1],12,-389564586),n=f(n,s,i,r,e[l+2],17,606105819),r=f(r,n,s,i,e[l+3],22,-1044525330),i=f(i,r,n,s,e[l+4],7,-176418897),s=f(s,i,r,n,e[l+5],12,1200080426),n=f(n,s,i,r,e[l+6],17,-1473231341),r=f(r,n,s,i,e[l+7],22,-45705983),i=f(i,r,n,s,e[l+8],7,1770035416),s=f(s,i,r,n,e[l+9],12,-1958414417),n=f(n,s,i,r,e[l+10],17,-42063),r=f(r,n,s,i,e[l+11],22,-1990404162),i=f(i,r,n,s,e[l+12],7,1804603682),s=f(s,i,r,n,e[l+13],12,-40341101),n=f(n,s,i,r,e[l+14],17,-1502002290),r=f(r,n,s,i,e[l+15],22,1236535329),i=y(i,r,n,s,e[l+1],5,-165796510),s=y(s,i,r,n,e[l+6],9,-1069501632),n=y(n,s,i,r,e[l+11],14,643717713),r=y(r,n,s,i,e[l],20,-373897302),i=y(i,r,n,s,e[l+5],5,-701558691),s=y(s,i,r,n,e[l+10],9,38016083),n=y(n,s,i,r,e[l+15],14,-660478335),r=y(r,n,s,i,e[l+4],20,-405537848),i=y(i,r,n,s,e[l+9],5,568446438),s=y(s,i,r,n,e[l+14],9,-1019803690),n=y(n,s,i,r,e[l+3],14,-187363961),r=y(r,n,s,i,e[l+8],20,1163531501),i=y(i,r,n,s,e[l+13],5,-1444681467),s=y(s,i,r,n,e[l+2],9,-51403784),n=y(n,s,i,r,e[l+7],14,1735328473),r=y(r,n,s,i,e[l+12],20,-1926607734),i=m(i,r,n,s,e[l+5],4,-378558),s=m(s,i,r,n,e[l+8],11,-2022574463),n=m(n,s,i,r,e[l+11],16,1839030562),r=m(r,n,s,i,e[l+14],23,-35309556),i=m(i,r,n,s,e[l+1],4,-1530992060),s=m(s,i,r,n,e[l+4],11,1272893353),n=m(n,s,i,r,e[l+7],16,-155497632),r=m(r,n,s,i,e[l+10],23,-1094730640),i=m(i,r,n,s,e[l+13],4,681279174),s=m(s,i,r,n,e[l],11,-358537222),n=m(n,s,i,r,e[l+3],16,-722521979),r=m(r,n,s,i,e[l+6],23,76029189),i=m(i,r,n,s,e[l+9],4,-640364487),s=m(s,i,r,n,e[l+12],11,-421815835),n=m(n,s,i,r,e[l+15],16,530742520),r=m(r,n,s,i,e[l+2],23,-995338651),i=h(i,r,n,s,e[l],6,-198630844),s=h(s,i,r,n,e[l+7],10,1126891415),n=h(n,s,i,r,e[l+14],15,-1416354905),r=h(r,n,s,i,e[l+5],21,-57434055),i=h(i,r,n,s,e[l+12],6,1700485571),s=h(s,i,r,n,e[l+3],10,-1894986606),n=h(n,s,i,r,e[l+10],15,-1051523),r=h(r,n,s,i,e[l+1],21,-2054922799),i=h(i,r,n,s,e[l+8],6,1873313359),s=h(s,i,r,n,e[l+15],10,-30611744),n=h(n,s,i,r,e[l+6],15,-1560198380),r=h(r,n,s,i,e[l+13],21,1309151649),i=h(i,r,n,s,e[l+4],6,-145523070),s=h(s,i,r,n,e[l+11],10,-1120210379),n=h(n,s,i,r,e[l+2],15,718787259),r=h(r,n,s,i,e[l+9],21,-343485551),i=o(i,t),r=o(r,a),n=o(n,u),s=o(s,p)}return[i,r,n,s]}function w(e,t=r.Hex){const i=t||r.Base64,s=v(l(e),e.length*n);switch(i){case r.Raw:return s;case r.Hex:return u(s);case r.String:return a(s);case r.Base64:return p(s)}}},47603:function(e,t,i){i.d(t,{f:function(){return l},l:function(){return a}});var r=i(98503),n=i(20014),s=i(75863),o=i(50257);const l={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:n.a}}},a=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const i=t.timeInfo.exportOptions;if(!i)return null;const r=i.timeOffset,n=s.e.fromJSON(i.timeOffsetUnits);return r&&n?new s.l({value:r,unit:n}):null}set timeInfo(e){(0,r.aZ)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,r.k)([(0,r.o)({type:o.p,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,r.k)([(0,r.o)({type:s.l})],t.prototype,"timeOffset",void 0),(0,r.k)([(0,r.u)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,r.k)([(0,r.o)({value:null,type:s.d,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,r.k)([(0,r.o)(l)],t.prototype,"useViewTime",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.TemporalLayer")],t),t}},75863:function(e,t,i){i.d(t,{d:function(){return p},e:function(){return s},l:function(){return l}});var r=i(98503),n=i(50257);const s=(0,r.g)()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let o=class extends((0,r.a_)(r.v)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return(0,n.m)(this.value,this.unit,"milliseconds")}};(0,r.k)([(0,r.bk)(s,{nonNullable:!0})],o.prototype,"unit",void 0),(0,r.k)([(0,r.o)({type:Number,json:{write:!0},nonNullable:!0})],o.prototype,"value",void 0),o=(0,r.k)([(0,r.A)("esri.time.TimeInterval")],o);const l=o;function a(e,t){return l.fromJSON({value:e,unit:t})}let u=class extends((0,r.a_)(r.v)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?n.p.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?a(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?a(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,r.k)([(0,r.o)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],u.prototype,"cumulative",void 0),(0,r.k)([(0,r.o)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"endField",void 0),(0,r.k)([(0,r.o)({type:n.p,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"fullTimeExtent",void 0),(0,r.k)([(0,r.u)("fullTimeExtent",["timeExtent"])],u.prototype,"readFullTimeExtent",null),(0,r.k)([(0,r.q)("fullTimeExtent")],u.prototype,"writeFullTimeExtent",null),(0,r.k)([(0,r.o)({type:Boolean,json:{write:!0}})],u.prototype,"hasLiveData",void 0),(0,r.k)([(0,r.o)({type:l,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"interval",void 0),(0,r.k)([(0,r.u)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],u.prototype,"readInterval",null),(0,r.k)([(0,r.q)("interval")],u.prototype,"writeInterval",null),(0,r.k)([(0,r.o)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],u.prototype,"startField",void 0),(0,r.k)([(0,r.o)((0,r.bo)("timeReference",!0))],u.prototype,"timeZone",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],u.prototype,"trackIdField",void 0),(0,r.k)([(0,r.o)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],u.prototype,"useTime",void 0),(0,r.k)([(0,r.o)({type:[Date],json:{read:!1}})],u.prototype,"stops",void 0),u=(0,r.k)([(0,r.A)("esri.layers.support.TimeInfo")],u);const p=u},86477:function(e,t,i){i.d(t,{s:function(){return o}});var r=i(98503),n=i(98089),s=i(36879);function o(){return{fields:{type:[n.y],value:null,set:function(e){if(e&&(0,r.a$)("big-integer-warning-enabled")){const t=e.filter((e=>"big-integer"===e.type||"oid"===e.type&&(e.length||0)>=8));if(t.length){const e=t.map((e=>`'${e.name}'`)).join(", ");r.n.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return s.Z.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e)this.fieldsIndex?.has(t)||r.n.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e});return(0,r.b0)(this.fieldsIndex,e)}}}}}}]);
//# sourceMappingURL=3281.e589feac.js.map