"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3297,3567,5948,7489],{5948:function(e,t,n){n.d(t,{C:function(){return m},S:function(){return S},b:function(){return C},d:function(){return o},g:function(){return h},h:function(){return f},m:function(){return y},p:function(){return c},w:function(){return d},y:function(){return p}});var r=n(98503);const a={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},i=Object.values(a),l=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${i.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${i.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function c(e){return l.test(e)}function o(e){if(null==e)return null;const t=(0,r.I)(e),n=t?.path.match(l)||t?.path.match(s);if(!n)return null;const[,i,u,c,o]=n,f=u.indexOf("/");return{title:y(-1!==f?u.slice(f+1):u),serverType:a[c.toLowerCase()],sublayer:null!=o&&""!==o?parseInt(o,10):null,url:{path:i}}}function f(e){const t=(0,r.I)(e).path.match(u);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function y(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function d(e,t){const n=[];if(e){const t=o(e);null!=t&&t.title&&n.push(t.title)}if(t){const e=y(t);n.push(e)}if(2===n.length){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function h(e){let t=(0,r.X)(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function p(e,t){return e&&(0,r.Q)((0,r.S)(e,t))}function S(e){let{url:t}=e;if(!t)return{url:t};t=(0,r.S)(t,e.logger);const n=(0,r.I)(t),a=o(n.path);let i;if(null!=a)null!=a.sublayer&&null==e.layer.layerId&&(i=a.sublayer),t=a.url.path;else if(e.nonStandardUrlAllowed){const e=f(n.path);null!=e&&(t=e.serviceUrl,i=e.sublayerId)}return{url:(0,r.Q)(t),layerId:i}}function m(e,t,n,a,i){(0,r.T)(t,a,"url",i),a.url&&null!=e.layerId&&(a.url=(0,r.Z)(a.url,n,e.layerId.toString()))}function C(e){if(!e)return!1;const t=e.toLowerCase(),n=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),a=t.includes("/imageserver/wmsserver"),i=t.includes("/wmsserver");return n&&(r||a||i)}},22692:function(e,t,n){n.d(t,{s:function(){return l}});var r=n(98503),a=n(5948),i=n(2031);async function l(e,t){const n=(0,a.d)(e);if(!n)throw new r.s("invalid-url","Invalid scene service url");const i={...t,sceneServerUrl:n.url.path,layerId:n.sublayer??void 0};if(i.sceneLayerItem??=await s(i),null==i.sceneLayerItem)return o(i.sceneServerUrl.replace("/SceneServer","/FeatureServer"),i);const l=await f(i);if(!l?.url)throw new r.s("related-service-not-found","Could not find feature service through portal item relationship");i.featureServiceItem=l;const u=await o(l.url,i);return u.portalItem=l,u}async function s(e){const t=(await u(e)).serviceItemId;if(!t)return null;const n=new i["default"]({id:t,apiKey:e.apiKey}),a=await c(e);null!=a&&(n.portal=new r.b({url:a}));try{return await n.load({signal:e.signal})}catch(l){return(0,r.G)(l),null}}async function u(e){if(e.rootDocument)return e.rootDocument;const t={query:{f:"json",...e.customParameters,token:e.apiKey},responseType:"json",signal:e.signal};try{const n=await(0,r.U)(e.sceneServerUrl,t);e.rootDocument=n.data}catch{e.rootDocument={}}return e.rootDocument}async function c(e){const t=r.K?.findServerInfo(e.sceneServerUrl);if(t?.owningSystemUrl)return t.owningSystemUrl;const n=e.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const t=(await(0,r.U)(n,{query:{f:"json"},responseType:"json",signal:e.signal})).data.owningSystemUrl;if(t)return t}catch(a){(0,r.G)(a)}return null}async function o(e,t){const n=(0,a.d)(e);if(!n)throw new r.s("invalid-feature-service-url","Invalid feature service url");const i=n.url.path,l=t.layerId;if(null==l)return{serverUrl:i};const s=u(t),c=t.featureServiceItem?await t.featureServiceItem.fetchData("json"):null,o=(c?.layers?.[0]||c?.tables?.[0])?.customParameters,f=e=>{const n={query:{f:"json",...o},responseType:"json",authMode:e,signal:t.signal};return(0,r.U)(i,n)},y=f("anonymous").catch((()=>f("no-prompt"))),[d,h]=await Promise.all([y,s]),p=h?.layers,S=d.data&&d.data.layers;if(!Array.isArray(S))throw new Error("expected layers array");if(Array.isArray(p)){for(let r=0;r<Math.min(p.length,S.length);r++)if(p[r].id===l)return{serverUrl:i,layerId:S[r].id}}else if(null!=l&&l<S.length)return{serverUrl:i,layerId:S[l].id};throw new Error("could not find matching associated sublayer")}async function f({sceneLayerItem:e,signal:t}){if(!e)return null;try{const n=(await e.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:t})).find((e=>"Feature Service"===e.type))||null;if(!n)return null;const r=new i["default"]({portal:n.portal,id:n.id});return await r.load(),r}catch(n){return(0,r.G)(n),null}}},33824:function(e,t,n){n.d(t,{a:function(){return s},b:function(){return i},i:function(){return h},t:function(){return a}});var r=n(98503);async function a(e,t){const{data:n}=await(0,r.U)(e,{responseType:"json",query:{f:"json",...t?.customParameters,token:t?.apiKey}});return n}const i={BingMapsLayer:async()=>(await Promise.all([n.e(6146),n.e(1451),n.e(2313)]).then(n.bind(n,92313))).default,BuildingSceneLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(3281),n.e(3029),n.e(5420),n.e(5716),n.e(2564),n.e(5329),n.e(7278),n.e(7212)]).then(n.bind(n,99838))).default,CSVLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(3281),n.e(3029),n.e(5420),n.e(4240)]).then(n.bind(n,88847))).default,CatalogLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(3029),n.e(626),n.e(5842),n.e(8845),n.e(9089)]).then(n.bind(n,53406))).default,DimensionLayer:async()=>(await Promise.all([n.e(3346),n.e(5455)]).then(n.bind(n,45455))).default,ElevationLayer:async()=>(await Promise.all([n.e(5271),n.e(1903),n.e(8643)]).then(n.bind(n,28643))).default,FeatureLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(3281),n.e(3029),n.e(5420),n.e(718)]).then(n.bind(n,55420))).default,GeoJSONLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(3281),n.e(685)]).then(n.bind(n,59028))).default,GeoRSSLayer:async()=>(await Promise.all([n.e(6146),n.e(2881)]).then(n.bind(n,41822))).default,GroupLayer:async()=>(await Promise.all([n.e(9541),n.e(4063),n.e(8252)]).then(n.bind(n,54063))).default,ImageryLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(5271),n.e(1451),n.e(626),n.e(879),n.e(8932),n.e(2806),n.e(9658)]).then(n.bind(n,88377))).default,ImageryTileLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(5271),n.e(1903),n.e(879),n.e(8932),n.e(2806),n.e(1279),n.e(8966)]).then(n.bind(n,82287))).default,IntegratedMesh3DTilesLayer:async()=>(await n.e(8872).then(n.bind(n,68872))).default,IntegratedMeshLayer:async()=>(await Promise.all([n.e(2564),n.e(543),n.e(3574)]).then(n.bind(n,23574))).default,KMLLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(8954)]).then(n.bind(n,73075))).default,KnowledgeGraphLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(6849),n.e(3281),n.e(7113),n.e(6510),n.e(149),n.e(2611),n.e(3557),n.e(1770),n.e(850),n.e(3658),n.e(8473)]).then(n.bind(n,18473))).default,LineOfSightLayer:async()=>(await Promise.all([n.e(543),n.e(3346),n.e(8260),n.e(4162)]).then(n.bind(n,92523))).default,LinkChartLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(6849),n.e(3281),n.e(7113),n.e(6510),n.e(149),n.e(2611),n.e(3557),n.e(1770),n.e(850),n.e(3658),n.e(7918)]).then(n.bind(n,97918))).default,MapImageLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(1451),n.e(626),n.e(5842),n.e(8911),n.e(8414)]).then(n.bind(n,31751))).default,MapNotesLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(3281),n.e(3029),n.e(5420),n.e(2677)]).then(n.bind(n,14464))).default,MediaLayer:async()=>(await Promise.all([n.e(3557),n.e(4284)]).then(n.bind(n,75187))).default,OGCFeatureLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(3281),n.e(6854),n.e(78)]).then(n.bind(n,19721))).default,OpenStreetMapLayer:async()=>(await Promise.all([n.e(6146),n.e(1451),n.e(7345),n.e(34)]).then(n.bind(n,57653))).default,OrientedImageryLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(3281),n.e(3029),n.e(5420),n.e(8521)]).then(n.bind(n,129))).default,PointCloudLayer:async()=>(await Promise.all([n.e(2564),n.e(7144)]).then(n.bind(n,7144))).default,RouteLayer:async()=>(await Promise.all([n.e(3313),n.e(136),n.e(7509),n.e(8848),n.e(7384)]).then(n.bind(n,8986))).default,SceneLayer:async()=>(await Promise.all([n.e(3313),n.e(136),n.e(7509),n.e(9459),n.e(5716),n.e(720),n.e(2564),n.e(5329),n.e(543),n.e(7278),n.e(2858),n.e(9254)]).then(n.bind(n,69111))).default,StreamLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(3281),n.e(2434)]).then(n.bind(n,69973))).default,SubtypeGroupLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(3029),n.e(5807)]).then(n.bind(n,96967))).default,TileLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(1451),n.e(626),n.e(5842),n.e(1903),n.e(8911),n.e(4405)]).then(n.bind(n,96786))).default,UnknownLayer:async()=>(await n.e(609).then(n.bind(n,50609))).default,UnsupportedLayer:async()=>(await n.e(3825).then(n.bind(n,93825))).default,VectorTileLayer:async()=>(await Promise.all([n.e(6146),n.e(1903),n.e(6964),n.e(798)]).then(n.bind(n,73726))).default,VideoLayer:async()=>(await n.e(4377).then(n.bind(n,94377))).default,ViewshedLayer:async()=>(await Promise.all([n.e(3346),n.e(8260),n.e(6077)]).then(n.bind(n,66077))).default,VoxelLayer:async()=>(await Promise.all([n.e(2564),n.e(543),n.e(7610)]).then(n.bind(n,27610))).default,WFSLayer:async()=>(await Promise.all([n.e(3313),n.e(6146),n.e(136),n.e(7509),n.e(9459),n.e(5271),n.e(3281),n.e(4840),n.e(4684)]).then(n.bind(n,11996))).default,WMSLayer:async()=>(await Promise.all([n.e(6146),n.e(1451),n.e(7307)]).then(n.bind(n,97307))).default,WMTSLayer:async()=>(await Promise.all([n.e(6146),n.e(1451),n.e(7345),n.e(1479)]).then(n.bind(n,91479))).default,WebTileLayer:async()=>(await Promise.all([n.e(6146),n.e(1451),n.e(7345)]).then(n.bind(n,27345)).then((e=>e.W))).default},l=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function s(e,t){const{loadContext:n,...r}=t||{},i=n?await n.fetchServiceMetadata(e,r):await a(e,r);d(i),o(i);const l={serviceJSON:i};if((i.currentVersion??0)<10.5)return l;const s=`${e}/layers`,u=n?await n.fetchServiceMetadata(s,r):await a(s,r);return d(u),o(u),l.layersJSON={layers:u.layers,tables:u.tables},l}function u(e){const{type:t}=e;return!!t&&l.has(t)}function c(e){return"Table"===e.type}function o(e){e.layers=e.layers?.filter(u),e.tables=e.tables?.filter(c)}function f(e){e.type||="Feature Layer"}function y(e){e.type||="Table"}function d(e){e.layers?.forEach(f),e.tables?.forEach(y)}function h(e){switch(e){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},83297:function(e,t,n){n.d(t,{E:function(){return d},a:function(){return c},c:function(){return u},f:function(){return y},i:function(){return l},l:function(){return f},s:function(){return s},u:function(){return o}});var r=n(49555),a=n(98503);async function i(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,a.a0)(e);const n=a.B.WGS84;return await(0,r.N)(t,n),(0,r.K)(e,n)}function l(e,t){if(!s(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function u(e){return s(e,y.HOSTED_SERVICE)}function c(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function o(e,t,n){n?l(e,t):c(e,t)}async function f(e){const t=e.clone().normalize();let n;if(t.length>1)for(const r of t)n?r.width>n.width&&(n=r):n=r;else n=t[0];return i(n)}const y={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function d(e){const{portal:t,isOrgItem:n,itemControl:r}=e,a=t.user?.privileges;let i=!a||a.includes("features:user:edit"),l=!!n&&!!a?.includes("features:user:fullEdit");const s="update"===r||"admin"===r;return s?l=i=!0:l&&(i=!0),{features:{edit:i,fullEdit:l},content:{updateItem:s}}}},67489:function(e,t,n){n.r(t),n.d(t,{L:function(){return E},a:function(){return o},c:function(){return p},e:function(){return u},i:function(){return S},l:function(){return f},n:function(){return d},o:function(){return m},p:function(){return B},t:function(){return c},u:function(){return h}});var r=n(98503),a=n(22692),i=n(33824),l=n(2031),s=n(83297);class u{constructor(){this._serviceMetadatas=new Map,this._itemDatas=new Map}async fetchServiceMetadata(e,t){const n=this._serviceMetadatas.get(e);if(n)return n;const r=await(0,i.t)(e,t);return this._serviceMetadatas.set(e,r),r}async fetchItemData(e){const{id:t}=e;if(!t)return null;const{_itemDatas:n}=this;if(n.has(t))return n.get(t);const r=await e.fetchData();return n.set(t,r),r}async fetchCustomParameters(e,t){const n=await this.fetchItemData(e);return n&&"object"==typeof n&&(t?t(n):n.customParameters)||null}}function c(e){const t={id:e.id,name:e.name},n=(0,i.i)(e.type);return"FeatureLayer"!==n&&(t.layerType=n),t}async function o(e,t,n){if(null==e?.layers||null==e?.tables){const r=await n.fetchServiceMetadata(t,{customParameters:f(e)?.customParameters});(e=e||{}).layers=e.layers||r?.layers?.map(c),e.tables=e.tables||r?.tables?.map(c)}return e}function f(e){if(!e)return null;const{layers:t,tables:n}=e;return t?.length?t[0]:n?.length?n[0]:null}function y(e,t){return null==t?null:[...e.layers||[],...e.tables||[]].find((e=>e.id===t))}function d(e,t){return[...e.layers||[],...e.tables||[]].filter((({layerType:e})=>e?e===t:"ArcGISFeatureLayer"===t))}function h(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function p(e){switch(e){case"catalog":return"CatalogLayer";case"feature":return"ArcGISFeatureLayer";case"oriented-imagery":return"OrientedImageryLayer";case"subtype-group":return"SubtypeGroupLayer"}return null}function S(e){switch(e){case"CatalogLayer":return"CatalogLayer";case"OrientedImageryLayer":return"OrientedImageryLayer";case"SubtypeGroupLayer":return"SubtypeGroupLayer"}return"FeatureLayer"}async function m(e,t,n){if(!e?.url)return t??{};if(t??={},!t.layers){const r=await n.fetchServiceMetadata(e.url);t.layers=r.layers?.map(c)}const{serverUrl:r,portalItem:i}=await(0,a.s)(e.url,{sceneLayerItem:e,customParameters:f(t)?.customParameters}).catch((()=>({serverUrl:null,portalItem:null})));if(null==r)return t.tables=[],t;if(!t.tables&&i){const e=await i.fetchData().catch((()=>null));if(e?.tables)t.tables=e.tables.map(c);else{const a=await n.fetchServiceMetadata(r,{customParameters:f(e)?.customParameters}).catch((()=>null));t.tables=a?.tables?.map(c)}}if(t.tables)for(const a of t.tables)a.url=`${r}/${a.id}`;return t}async function C(e){let{portalItem:t}=e;!t||t instanceof l["default"]||(t=new l["default"](t));const n=await L(t);return new n.constructor({portalItem:t,...n.properties})}async function L(e){await e.load();const t=new u;return w(await E(e,t))}async function E(e,t){switch(e.type){case"3DTiles Service":return O();case"CSV":return v();case"Feature Collection":return g(e);case"Feature Service":return R(e,t);case"Feed":return j();case"GeoJson":return N();case"Group Layer":return K();case"Image Service":return M(e,t);case"KML":return G();case"Knowledge Graph Layer":return b();case"Map Service":return P(e,t);case"Media Layer":return k();case"Scene Service":return _(e,t);case"Stream Service":return A();case"Vector Tile Service":return I();case"WFS":return T();case"WMS":return W();case"WMTS":return F();default:throw new r.s("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type})}}async function w(e){const t=e.className,n=i.b[t];return{constructor:await n(),properties:e.properties}}async function P(e,t){return await U(e,t)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function R(e,t){const n=await H(e,t);if("object"==typeof n){const{sourceJSON:e,className:t}=n,r={sourceJSON:e};return null!=n.id&&(r.layerId=n.id),{className:t||"FeatureLayer",properties:r}}return{className:"GroupLayer"}}async function _(e,t){const n=await H(e,t,(async()=>{try{if(!e.url)return[];const{serverUrl:n}=await(0,a.s)(e.url,{sceneLayerItem:e});return(await t.fetchServiceMetadata(n))?.tables??[]}catch{return[]}}));if("object"==typeof n){const a={};let i;if(null!=n.id?(a.layerId=n.id,i=`${e.url}/layers/${n.id}`):i=e.url,e.typeKeywords?.length)for(const t of Object.keys(r.bB))if(e.typeKeywords.includes(t))return{className:r.bB[t]};const l=await t.fetchServiceMetadata(i,{customParameters:await t.fetchCustomParameters(e,(e=>f(e)?.customParameters))});return{className:r.bB[l?.layerType]||"SceneLayer",properties:a}}return!1===n&&"Voxel"===(await t.fetchServiceMetadata(e.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function g(e){await e.load();const t=(0,s.s)(e,"Map Notes"),n=(0,s.s)(e,"Markup");if(t||n)return{className:"MapNotesLayer"};if((0,s.s)(e,"Route Layer"))return{className:"RouteLayer"};const r=await e.fetchData();return 1===h(r)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function M(e,t){await e.load();const n=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(n.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(n.includes("tiled imagery"))return{className:"ImageryTileLayer"};const r=await t.fetchItemData(e),a=r?.layerType;if("ArcGISTiledImageServiceLayer"===a)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===a)return{className:"ImageryLayer"};const i=await t.fetchServiceMetadata(e.url,{customParameters:await t.fetchCustomParameters(e)}),l=i.cacheType?.toLowerCase(),s=i.capabilities?.toLowerCase().includes("tilesonly"),u=i.tileInfo?.format?.toLowerCase()??"",c=null==l&&["jpg","jpeg","png","png8","png24","png32","mixed"].includes(u);return"map"===l||c||s?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}function A(){return{className:"StreamLayer"}}function I(){return{className:"VectorTileLayer"}}function N(){return{className:"GeoJSONLayer"}}function O(){return{className:"IntegratedMesh3DTilesLayer"}}function v(){return{className:"CSVLayer"}}function G(){return{className:"KMLLayer"}}function b(){return{className:"KnowledgeGraphLayer"}}function T(){return{className:"WFSLayer"}}function W(){return{className:"WMSLayer"}}function F(){return{className:"WMTSLayer"}}function j(){return{className:"StreamLayer"}}function K(){return{className:"GroupLayer"}}function k(){return{className:"MediaLayer"}}async function U(e,t){const{tileInfo:n}=await t.fetchServiceMetadata(e.url,{customParameters:await t.fetchCustomParameters(e)});return n}async function H(e,t,n){const{url:r,type:a}=e,l="Feature Service"===a;if(!r)return{};if(/\/\d+$/.test(r)){if(l){const n=await t.fetchServiceMetadata(r,{customParameters:await t.fetchCustomParameters(e,(e=>f(e)?.customParameters))});return{id:n.id,className:(0,i.i)(n.type),sourceJSON:n}}return{}}await e.load();let s=await t.fetchItemData(e);if(l){const e=await o(s,r,t),n=x(e);if("object"==typeof n){const t=y(e,n.id);n.className=S(t?.layerType)}return n}if("Scene Service"===a&&(s=await m(e,s,t)),h(s)>0)return x(s);const u=await t.fetchServiceMetadata(r);return n&&(u.tables=await n()),x(u)}function x(e){return 1===h(e)&&{id:f(e)?.id}}const B=Object.freeze(Object.defineProperty({__proto__:null,fromItem:C,selectLayerClassPath:E},Symbol.toStringTag,{value:"Module"}))},85502:function(e,t,n){n.r(t),n.d(t,{E:function(){return q},F:function(){return d},G:function(){return y},L:function(){return f},N:function(){return o},d:function(){return c},e:function(){return V},i:function(){return a},l:function(){return z},n:function(){return te},p:function(){return ne},t:function(){return i}});var r=n(98503);const a=Math.PI/180,i=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,l=r.a3.radius,s=r.a3.eccentricitySquared,u={a1:l*s,a2:l*s*l*s,a3:l*s*s/2,a4:l*s*l*s*2.5,a5:l*s+l*s*s/2,a6:1-s},c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a3.radius,f:r.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.fs.radius,f:r.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.ft.radius,f:r.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var o;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=7]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=9]="GCSMOON2000",e[e.LON_LAT=10]="LON_LAT",e[e.PLATE_CARREE=11]="PLATE_CARREE"})(o||(o={}));const f={[o.WGS84]:{[o.CGCS2000]:h,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:h,[o.SPHERICAL_ECEF]:v,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:L,[o.PLATE_CARREE]:E,[o.WGS84]:h,[o.WGS84_ECEF]:k},[o.CGCS2000]:{[o.CGCS2000]:h,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:h,[o.SPHERICAL_ECEF]:v,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:L,[o.PLATE_CARREE]:E,[o.WGS84]:h,[o.WGS84_ECEF]:k},[o.GCSMARS2000]:{[o.CGCS2000]:null,[o.GCSMARS2000]:h,[o.GCSMOON2000]:null,[o.LON_LAT]:h,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:O,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.GCSMOON2000]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:h,[o.LON_LAT]:h,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:N,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.WEB_MERCATOR]:{[o.CGCS2000]:p,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:p,[o.SPHERICAL_ECEF]:S,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:h,[o.PLATE_CARREE]:P,[o.WGS84]:p,[o.WGS84_ECEF]:m},[o.WGS84_ECEF]:{[o.CGCS2000]:U,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:U,[o.SPHERICAL_ECEF]:H,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:x,[o.PLATE_CARREE]:R,[o.WGS84]:U,[o.WGS84_ECEF]:h},[o.SPHERICAL_ECEF]:{[o.CGCS2000]:W,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:W,[o.SPHERICAL_ECEF]:h,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:F,[o.PLATE_CARREE]:_,[o.WGS84]:W,[o.WGS84_ECEF]:j},[o.SPHERICAL_MARS_PCPF]:{[o.CGCS2000]:null,[o.GCSMARS2000]:T,[o.GCSMOON2000]:null,[o.LON_LAT]:T,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:h,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.SPHERICAL_MOON_PCPF]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:b,[o.LON_LAT]:b,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:h,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.UNKNOWN]:{[o.CGCS2000]:null,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:null,[o.SPHERICAL_ECEF]:null,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:h,[o.WEB_MERCATOR]:null,[o.PLATE_CARREE]:null,[o.WGS84]:null,[o.WGS84_ECEF]:null},[o.LON_LAT]:{[o.CGCS2000]:h,[o.GCSMARS2000]:h,[o.GCSMOON2000]:h,[o.LON_LAT]:h,[o.SPHERICAL_ECEF]:v,[o.SPHERICAL_MARS_PCPF]:O,[o.SPHERICAL_MOON_PCPF]:N,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:L,[o.PLATE_CARREE]:E,[o.WGS84]:h,[o.WGS84_ECEF]:k},[o.PLATE_CARREE]:{[o.CGCS2000]:w,[o.GCSMARS2000]:null,[o.GCSMOON2000]:null,[o.LON_LAT]:w,[o.SPHERICAL_ECEF]:g,[o.SPHERICAL_MARS_PCPF]:null,[o.SPHERICAL_MOON_PCPF]:null,[o.UNKNOWN]:null,[o.WEB_MERCATOR]:M,[o.PLATE_CARREE]:h,[o.WGS84]:w,[o.WGS84_ECEF]:A}};function y(e,t,n=D()){return null==e||null==t?null:B(e,t,n).projector}function d(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,r.bq)(e,1)),(0,r.fv)(e)?t.spatialReferenceId=o.SPHERICAL_ECEF:(0,r.cb)(e)?t.spatialReferenceId=o.WGS84:(0,r.cL)(e)?t.spatialReferenceId=o.WEB_MERCATOR:(0,r.fw)(e)?t.spatialReferenceId=o.PLATE_CARREE:e.wkt===r.c4.wkt?t.spatialReferenceId=o.WGS84_ECEF:e.wkid===r.fx.CGCS2000?t.spatialReferenceId=o.CGCS2000:e.wkt===r.c2.wkt?t.spatialReferenceId=o.SPHERICAL_MARS_PCPF:e.wkt===r.c3.wkt?t.spatialReferenceId=o.SPHERICAL_MOON_PCPF:(0,r.eD)(e)?t.spatialReferenceId=o.GCSMARS2000:(0,r.eE)(e)?t.spatialReferenceId=o.GCSMOON2000:t.spatialReferenceId=o.UNKNOWN):o.UNKNOWN}function h(e,t,n,r){e!==n&&(n[r++]=e[t++],n[r++]=e[t++],n[r]=e[t])}function p(e,t,n,r){n[r]=J*(e[t]/Q),n[r+1]=J*(Y-2*Math.atan(Math.exp(-e[t+1]/Q))),n[r+2]=e[t+2]}function S(e,t,n,r){const a=e[t]/Q,i=Y-2*Math.atan(Math.exp(-e[t+1]/Q)),l=Q+e[t+2],s=Math.cos(i)*l;n[r]=Math.cos(a)*s,n[r+1]=Math.sin(a)*s,n[r+2]=Math.sin(i)*l}function m(e,t,n,r){p(e,t,n,r),k(n,r,n,r)}function C(e,t,n,a,i){const l=.4999999*$,s=(0,r.aP)(Z*e[t+1],-l,l),u=Math.sin(s);n[a++]=Z*e[t]*i.radius,n[a++]=i.halfSemiMajorAxis*Math.log((1+u)/(1-u)),n[a]=e[t+2]}function L(e,t,n,a){C(e,t,n,a,r.a3)}function E(e,t,n,r){n[r]=e[t]*X,n[r+1]=e[t+1]*X,n[r+2]=e[t+2]}function w(e,t,n,r){n[r]=e[t]*ee,n[r+1]=e[t+1]*ee,n[r+2]=e[t+2]}function P(e,t,n,r){p(e,t,n,r),E(n,r,n,r)}function R(e,t,n,r){U(e,t,n,r),E(n,r,n,r)}function _(e,t,n,r){W(e,t,n,r),E(n,r,n,r)}function g(e,t,n,r){w(e,t,n,r),v(n,r,n,r)}function M(e,t,n,r){w(e,t,n,r),L(n,r,n,r)}function A(e,t,n,r){w(e,t,n,r),k(n,r,n,r)}function I(e,t,n,r,a){const i=a+e[t+2],l=Z*e[t+1],s=Z*e[t],u=Math.cos(l)*i;n[r]=Math.cos(s)*u,n[r+1]=Math.sin(s)*u,n[r+2]=Math.sin(l)*i}function N(e,t,n,a){I(e,t,n,a,r.fs.radius)}function O(e,t,n,a){I(e,t,n,a,r.ft.radius)}function v(e,t,n,a){I(e,t,n,a,r.a3.radius)}function G(e,t,n,a,i){const l=e[t],s=e[t+1],u=e[t+2],c=Math.sqrt(l*l+s*s+u*u),o=(0,r.fu)(u/(0===c?1:c)),f=Math.atan2(s,l);n[a++]=J*f,n[a++]=J*o,n[a]=c-i}function b(e,t,n,a){G(e,t,n,a,r.fs.radius)}function T(e,t,n,a){G(e,t,n,a,r.ft.radius)}function W(e,t,n,a){G(e,t,n,a,r.a3.radius)}function F(e,t,n,r){W(e,t,n,r),L(n,r,n,r)}function j(e,t,n,r){W(e,t,n,r),k(n,r,n,r)}function K(e,t,n,r,a){const i=Z*e[t],l=Z*e[t+1],s=e[t+2],u=Math.sin(l),c=Math.cos(l),o=a.radius/Math.sqrt(1-a.eccentricitySquared*u*u);n[r++]=(o+s)*c*Math.cos(i),n[r++]=(o+s)*c*Math.sin(i),n[r++]=(o*(1-a.eccentricitySquared)+s)*u}function k(e,t,n,a){K(e,t,n,a,r.a3)}function U(e,t,n,a){const i=u,l=e[t],s=e[t+1],c=e[t+2];let o,f,y,d,h,p,S,m,C,L,E,w,P,R,_,g,M,A,I,N,O;o=Math.abs(c),f=l*l+s*s,y=Math.sqrt(f),d=f+c*c,h=Math.sqrt(d),N=Math.atan2(s,l),p=c*c/d,S=f/d,R=i.a2/h,_=i.a3-i.a4/h,S>.3?(m=o/h*(1+S*(i.a1+R+p*_)/h),I=Math.asin(m),L=m*m,C=Math.sqrt(1-L)):(C=y/h*(1-p*(i.a5-R-S*_)/h),I=Math.acos(C),L=1-C*C,m=Math.sqrt(L)),E=1-r.a3.eccentricitySquared*L,w=r.a3.radius/Math.sqrt(E),P=i.a6*w,R=y-w*C,_=o-P*m,M=C*R+m*_,g=C*_-m*R,A=g/(P/E+M),I+=A,O=M+g*A/2,c<0&&(I=-I),n[a++]=J*N,n[a++]=J*I,n[a]=O}function H(e,t,n,r){U(e,t,n,r),v(n,r,n,r)}function x(e,t,n,r){U(e,t,n,r),L(n,r,n,r)}function B(e,t,n){if(null==e||null==t||n.source.spatialReference===e&&n.dest.spatialReference===t)return n;const a=d(e,n.source),i=d(t,n.dest);return a===o.UNKNOWN&&i===o.UNKNOWN?(0,r.bh)(e,t)?n.projector=h:n.projector=null:n.projector=f[a][i],n}function D(){return{source:{spatialReference:null,spatialReferenceId:o.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:o.UNKNOWN,metersPerUnit:1},projector:h}}const z={spatialReference:null,spatialReferenceId:o.UNKNOWN},V={spatialReference:null,spatialReferenceId:o.UNKNOWN},q=D(),Z=(0,r.eI)(1),J=(0,r.dg)(1),$=Math.PI,Y=.5*$,Q=r.a3.radius,X=Q*$/180,ee=180/(Q*$);function te(e,t,n,r,a,i,l=Math.floor(e.length/3)){const s=y(t,a,q);if(null==s)return!1;if(s===h){if(e===r&&n===i)return!0;const t=n+3*l;for(let a=n,l=i;a<t;a++,l++)r[l]=e[a];return!0}const u=n+3*l;for(let c=n,o=i;c<u;c+=3,o+=3)s(e,c,r,o);return!0}const ne=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:te},Symbol.toStringTag,{value:"Module"}))},49555:function(e,t,n){n.r(t),n.d(t,{B:function(){return R},H:function(){return W},J:function(){return j},K:function(){return M},L:function(){return K},N:function(){return k},O:function(){return A},Q:function(){return U},V:function(){return I},W:function(){return g},X:function(){return N},Y:function(){return O},_:function(){return w},a:function(){return q},o:function(){return o},p:function(){return X},s:function(){return c}});var r=n(98503),a=n(85502);function i(e,t,n,r,i,s){return l[0]=e,l[1]=t,l[2]=n,(0,a.n)(l,r,0,i,s,0)}const l=(0,r.aA)();let s=0;class u{static fromGE(e){const t=new u;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=s++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=s++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=s++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=s++}getInverse(){const e=new u;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}let c=class e{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(t){const n=new e;let r="";for(const e of t.steps){const t=u.fromGE(e);n.steps.push(t),r+=t.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const t of e.steps)t instanceof u?this.steps.push(t):this.steps.push(new u({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const t=new e;t.steps=[];for(let e=this.steps.length-1;e>=0;e--){const n=this.steps[e];t.steps.push(n.getInverse())}return t}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(t,n,r){this._cachedProjection[e.cacheKey(t,n)]=r}getCachedGeTransformation(t,n){let r="";for(const e of this.steps)r+=e.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const a=this._cachedProjection[e.cacheKey(t,n)];return void 0===a?null:a}};function o(e,t,n){if(null==t||null==n||n.vcsWkid||(0,r.bh)(t,n)||(0,r.gK)(t)||(0,r.gK)(n))return null;const a=(0,r.bg)(t)/(0,r.bg)(n);if(1===a)return null;switch(e){case"point":case"esriGeometryPoint":return e=>f(e,a);case"polyline":case"esriGeometryPolyline":return e=>d(e,a);case"polygon":case"esriGeometryPolygon":return e=>y(e,a);case"multipoint":case"esriGeometryMultipoint":return e=>h(e,a);case"extent":case"esriGeometryEnvelope":return e=>p(e,a);default:return null}}function f(e,t){null!=e?.z&&(e.z*=t)}function y(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}function d(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}function h(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function p(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}let S=null,m=null,C=null,L={};const E=new r.aQ;function w(){return!!S&&(0,r.gN)()}function P(){return!!w()||((0,r.aR)(E),g(),!1)}function R(e,t){return!e||!t||j(e,t)||P()}function _(e,t){return!j(e,t)&&!w()}function g(e){return null==C&&(C=Promise.all([(0,r.gL)(),Promise.all([n.e(916),n.e(2020)]).then(n.bind(n,90916)).then((e=>e.g)),n.e(6582).then(n.bind(n,6582))])),C.then((([,t,{hydratedAdapter:n}])=>{(0,r.D)(e),m=n,S=t.default,S._enableProjection(r.gM),E.notify()}))}function M(e,t,n=null,r=null){return Array.isArray(e)?0===e.length?[]:A(m,e,e[0].spatialReference,t,n,r):A(m,[e],e.spatialReference,t,n,r)[0]}function A(e,t,n,a,i=null,l=null){if(null==n||null==a)return t;if(j(n,a,i))return t.map((e=>U(e,n,a)));if(null==i&&(0,r.fv)(n))return t.map((e=>U(e,n,r.B.WGS84))).map((e=>W(e,a)));if(null==i&&(0,r.fv)(a))return t.map((e=>W(e,r.B.WGS84))).map((e=>U(e,r.B.WGS84,a)));if(null==i){const e=c.cacheKey(n,a);void 0!==L[e]?i=L[e]:(null==(i=O(n,a,void 0))&&(i=new c),L[e]=i)}if(null==S||null==e)throw new G;return null!=l?S._project(e,t,n,a,i,l):S._project(e,t,n,a,i)}function I(e,t){const n=N([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function N(e,t){if(!w())for(const n of e)if(null!=n&&!(0,r.bh)(n.spatialReference,t)&&(0,r.cg)(n.spatialReference)&&(0,r.cg)(t)&&!j(n.spatialReference,t))return(0,r.aR)(E),{pending:g(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:(0,r.bh)(e.spatialReference,t)?e:(0,r.cg)(e.spatialReference)&&(0,r.cg)(t)?W(e,t):null))}}function O(e,t,n=null){if(null==e||null==t)return null;if(null==S||null==m)throw new G;const r=S._getTransformation(m,e,t,n,n?.spatialReference);return null!==r?c.fromGE(r):null}function v(e,t,n=null){if(null==S||null==m)throw new G;const r=S._getTransformationBySuitability(m,e,t,n,n?.spatialReference);if(null!==r){const e=[];for(const t of r)e.push(c.fromGE(t));return e}return[]}class G extends r.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function b(){S=null,m=null,C=null,L={}}const T={get loadPromise(){return C}};function W(e,t){try{const n=M(e,t);return null==n?null:("xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax),o(n.type,e.spatialReference,t)?.(n),n)}catch(n){if(!(n instanceof G))throw n;return null}}async function F(e,t,n){const r=e.spatialReference;return null!=r&&null!=t&&await k(r,t,null,n),W(e,t)}function j(e,t,n){return!n&&(!!(0,r.bh)(e,t)||(0,r.cg)(e)&&(0,r.cg)(t)&&!!(0,a.G)(e,t,a.E))}function K(e,t){if((0,r.bh)(e,t))return!0;if(!(0,r.cg)(e)||!(0,r.cg)(t))return!1;const n=(0,r.cb)(e)||(0,r.cL)(e)||(0,r.eC)(e),a=(0,r.cb)(t)||(0,r.cL)(t)||(0,r.eC)(t);return n&&a}async function k(e,t,n,a){if(w())return(0,r.O)(a);if(Array.isArray(e)){for(const{source:r,dest:i,geographicTransformation:l}of e)if(r&&i&&!j(r,i,l))return g(a)}else if(e&&t&&!j(e,t,n))return g(a);return(0,r.O)(a)}function U(e,t,n){return e?"x"in e?x(e,t,new r.bv,n,0):"xmin"in e?$(e,t,new r.au,n,0):"rings"in e?Z(e,t,new r.bC,n,0):"paths"in e?V(e,t,new r.aT,n,0):"points"in e?D(e,t,new r.bD,n,0):null:null}function H(e,t,n=t.spatialReference,r=0){return null!=n&&null!=e.spatialReference&&null!=x(e,e.spatialReference,t,n,r)}function x(e,t,n,i,l){Q[0]=e.x,Q[1]=e.y;const s=e.z;return Q[2]=void 0!==s?s:l,(0,a.n)(Q,t,0,Q,i,0)?(n.x=Q[0],n.y=Q[1],n.spatialReference=i,void 0!==s||(0,r.gK)(i)?(n.z=Q[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function B(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=D(e,e.spatialReference,t,n,r)}function D(e,t,n,i,l){const{points:s,hasZ:u,hasM:c}=e,o=[],f=s.length,y=[];for(const r of s)y.push(r[0],r[1],u?r[2]:l);if(!(0,a.n)(y,t,0,y,i,0,f))return null;const d=u||(0,r.gK)(i);for(let r=0;r<f;++r){const e=3*r,t=y[e],n=y[e+1];d&&c?o.push([t,n,y[e+2],s[r][3]]):d?o.push([t,n,y[e+2]]):c?o.push([t,n,s[r][2]]):o.push([t,n])}return n.points=o,n.spatialReference=i,n.hasZ=u,n.hasM=c,n}function z(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=V(e,e.spatialReference,t,n,r)}function V(e,t,n,a,i){const{paths:l,hasZ:s,hasM:u}=e,c=[];if(!Y(l,s??!1,u??!1,t,c,a,i))return null;const o=s||(0,r.gK)(a);return n.paths=c,n.spatialReference=a,n.hasZ=o,n.hasM=u,n}function q(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=Z(e,e.spatialReference,t,n,r)}function Z(e,t,n,a,i){const{rings:l,hasZ:s,hasM:u}=e,c=[];if(!Y(l,s??!1,u??!1,t,c,a,i))return null;const o=s||(0,r.gK)(a);return n.rings=c,n.spatialReference=a,n.hasZ=o,n.hasM=u,n}function J(e,t,n=t.spatialReference,r=0){return null!=e.spatialReference&&null!=n&&null!=$(e,e.spatialReference,t,n,r)}function $(e,t,n,a,l){const{xmin:s,ymin:u,xmax:c,ymax:o,hasZ:f,hasM:y}=e,d=f?e.zmin:l;if(!i(s,u,d,t,Q,a))return null;const h=f||(0,r.gK)(a);n.xmin=Q[0],n.ymin=Q[1],h&&(n.zmin=Q[2]);const p=f?e.zmax:l;return i(c,o,p,t,Q,a)?(n.xmax=Q[0],n.ymax=Q[1],h&&(n.zmax=Q[2]),y&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=a,n):null}function Y(e,t,n,i,l,s,u=0){const c=new Array;for(const r of e)for(const e of r)c.push(e[0],e[1],t?e[2]:u);if(!(0,a.n)(c,i,0,c,s,0))return!1;let o=0;l.length=0;const f=t||(0,r.gK)(s);for(const r of e){const e=new Array;for(const t of r)f&&n?e.push([c[o++],c[o++],c[o++],t[3]]):f?e.push([c[o++],c[o++],c[o++]]):n?(e.push([c[o++],c[o++],t[2]]),o++):(e.push([c[o++],c[o++]]),o++);l.push(e)}return!0}const Q=(0,r.aA)(),X=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:j,getTransformation:O,getTransformations:v,initializeProjection:k,isEqualBaseGCS:K,isLoaded:w,isLoadedOrLoad:P,isLoadedOrLoadFor:R,load:g,project:M,projectExtent:J,projectMany:A,projectMultipoint:B,projectOrLoad:I,projectOrLoadMany:N,projectPoint:H,projectPolygon:q,projectPolyline:z,projectWithZConversion:F,projectWithoutEngine:U,requiresLoad:_,test:T,tryProjectWithZConversion:W,unload:b},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=7489.98b8cfb8.js.map