"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[6854],{81519:function(t,e,n){n.d(e,{e:function(){return l}});var r=n(98503);const s=-3,i=s-1;var o;(function(t){t[t.ALL=0]="ALL",t[t.SOME=1]="SOME"})(o||(o={}));class u{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new r.bX,this._users=new r.bX}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(t){this._users.push(t)}deregister(t){this._users.removeUnordered(t)}registerRemoveFunc(t,e){this._removeFuncs.push([t,e])}deregisterRemoveFunc(t){this._removeFuncs.filterInPlace((e=>e[0]!==t))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,e){return this._db.get(t.id+e)?.size??0}put(t,e,n,r,u){e=t.id+e;const l=this._db.get(e);if(l&&(this._size-=l.size,t.size-=l.size,this._db.delete(e),l.entry!==n&&this._notifyRemove(e,l.entry,l.size,o.ALL)),r>this._maxSize)return void this._notifyRemove(e,n,r,o.ALL);if(void 0===n)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return console.warn(`Refusing to cache entry with size ${r} for key ${e}`),void this._notifyRemove(e,n,0,o.ALL);const c=1+Math.max(u,i)-s;this._db.set(e,new a(n,r,c)),this._size+=r,t.size+=r,this._checkSize()}updateSize(t,e,n,r){e=t.id+e;const s=this._db.get(e);if(s&&s.entry===n){for(this._size-=s.size,t.size-=s.size;r>this._maxSize;){const t=this._notifyRemove(e,n,r,o.SOME);if(!(null!=t&&t>0))return void this._db.delete(e);r=t}s.size=r,this._size+=r,t.size+=r,this._checkSize()}}pop(t,e){e=t.id+e;const n=this._db.get(e);if(n)return this._size-=n.size,t.size-=n.size,this._db.delete(e),++this._hit,n.entry;++this._miss}get(t,e){e=t.id+e;const n=this._db.get(e);if(void 0!==n)return this._db.delete(e),n.lives=n.lifetime,this._db.set(e,n),++this._hit,n.entry;++this._miss}peek(t,e){const n=this._db.get(t.id+e);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},n=new Array;this._db.forEach(((t,r)=>{const s=t.lifetime;n[s]=(n[s]||0)+t.size,this._users.forAll((n=>{const{id:s,name:i}=n;if(r.startsWith(s)){const n=e[i]||0;e[i]=n+t.size}}))}));const r={};this._users.forAll((t=>{const n=t.name;if("hitRate"in t&&"number"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){const s=e[n]||0;e[n]=s,r[n]=Math.round(100*t.hitRate)+"%"}else r[n]="0%"}));const i=Object.keys(e);i.sort(((t,n)=>e[n]-e[t])),i.forEach((n=>t[n]=Math.round(e[n]/2**20)+"MB / "+r[n]));for(let o=n.length-1;o>=0;--o){const e=n[o];e&&(t["Priority "+(o+s-1)]=Math.round(e/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forAll((t=>t.resetHitRate()))}clear(t){const e=t.id;this._db.forEach(((t,n)=>{n.startsWith(e)&&(this._size-=t.size,this._db.delete(n),this._notifyRemove(n,t.entry,t.size,o.ALL))})),t.size=0}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,t.size,o.ALL))),this._users.forAll((t=>t.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,n,r){let s;return this._removeFuncs.some((i=>{if(t.startsWith(i[0])){const t=i[1](e,r,n);return"number"==typeof t&&(s=t),!0}return!1})),s}_checkSize(){this._users.forAll((t=>this._checkSizeLimits(t))),this._checkSizeLimits()}_checkSizeLimits(t){const e=t??this;if(e.maxSize<0||e.size<=e.maxSize)return;const n=t?.id;let r=!0;for(;r;){r=!1;for(const[s,i]of this._db)if(0===i.lifetime&&(!n||s.startsWith(n))){if(this._purgeItem(s,i,t),e.size<=.9*e.maxSize)return;r||=this._db.has(s)}}for(const[s,i]of this._db)if((!n||s.startsWith(n))&&(this._purgeItem(s,i,t),e.size<=.9*e.maxSize))return}_purgeItem(t,e,n=this._users.find((e=>t.startsWith(e.id)))){if(this._db.delete(t),e.lives<=1){this._size-=e.size,n&&(n.size-=e.size);const r=this._notifyRemove(t,e.entry,e.size,o.SOME);null!=r&&r>0&&(this._size+=r,n&&(n.size+=r),e.lives=e.lifetime,e.size=r,this._db.set(t,e))}else--e.lives,this._db.set(t,e)}}class a{constructor(t,e,n){this.entry=t,this.size=e,this.lifetime=n,this.lives=n}}class l{constructor(t,e){this._storage=new u,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this),e&&this._storage.registerRemoveFunc("",e)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,e,n=1){this._storage.put(this,t,e,n,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}},96197:function(t,e,n){n.d(e,{s:function(){return r},t:function(){return s}});const r={supportsDate:!1,supportsFixedInterval:!1,supportsAutoInterval:!1,supportsFixedBoundaries:!1,supportedStatistics:void 0},s={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsAsyncApplyEdits:!1,zDefault:void 0},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryBins:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1,supportsAsyncConvert3D:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:r,query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByAnonymous:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},98485:function(t,e,n){n.d(e,{a:function(){return l},l:function(){return f},u:function(){return o},y:function(){return p}});var r=n(98503),s=n(94706),i=n(96197);function o(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?r.bT:"esriGeometryPolyline"===t?r.bU:r.bV}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let a=1;function l(t,e){if((0,r.a$)("esri-csp-restrictions"))return()=>({[e]:null,...t});try{let n=`this${c(e)} = null;`;for(const e in t)n+=`this${c(e)} = ${JSON.stringify(t[e])};`;const r=new Function(`\n      return class AttributesClass$${a++} {\n        constructor() {\n          ${n};\n        }\n      }\n    `)();return()=>new r}catch{return()=>({[e]:null,...t})}}function c(t){return u.test(t)?`.${t}`:`["${t}"]`}function f(t={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,r.f)(t)}}]}function p(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:s.t,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryBins:i.s,editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},25209:function(t,e,n){n.d(e,{c:function(){return c},e:function(){return s},o:function(){return o},u:function(){return l}});let r=1e-6;function s(){return r}function i(t){r=t}const o=Math.random,u=Math.PI/180,a=180/Math.PI;function l(t){return t*u}function c(t){return t*a}function f(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:o,equals:f,getEpsilon:s,setEpsilon:i,toDegree:c,toRadian:l},Symbol.toStringTag,{value:"Module"}))},76151:function(t,e,n){function r(t){return null!=u(t)||null!=o(t)}function s(t){return a.test(t)}function i(t){return u(t)??o(t)}function o(t){const e=new Date(t);return l(e,t)?Number.isNaN(e.getTime())?null:e.getTime()-6e4*e.getTimezoneOffset():null}function u(t){const e=a.exec(t);if(!e?.groups)return null;const n=e.groups,r=+n.year,s=+n.month-1,i=+n.day,o=+(n.hours??"0"),u=+(n.minutes??"0"),l=+(n.seconds??"0");if(o>23||u>59||l>59)return null;const c=n.ms??"0",f=c?+c.padEnd(3,"0").slice(0,3):0;let p;if(n.isUTC||!n.offsetSign)p=Date.UTC(r,s,i,o,u,l,f);else{const t=+n.offsetHours,e=+n.offsetMinutes;p=6e4*("+"===n.offsetSign?-1:1)*(60*t+e)+Date.UTC(r,s,i,o,u,l,f)}return Number.isNaN(p)?null:p}n.d(e,{e:function(){return r},n:function(){return i},t:function(){return s}});const a=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;function l(t,e){if(Number.isNaN(t.getTime()))return!1;let n=!0;if(f&&/\d+\W*$/.test(e)){const t=e.match(/[a-zA-Z]{2,}/);if(t){let e=!1,r=0;for(;!e&&r<=t.length;)e=!c.test(t[r]),r++;n=!e}}return n}const c=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,f=!Number.isNaN(new Date("technology 10").getTime())},22555:function(t,e,n){n.d(e,{i:function(){return s}});var r=n(98503);const s=new r.ax({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},38027:function(t,e,n){n.d(e,{E:function(){return I},I:function(){return F},N:function(){return N},u:function(){return u}});var r=n(76151),s=n(98503),i=n(75934);const o={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function u(t){return o[t]}function*a(t){switch(t.type){case"Feature":yield t;break;case"FeatureCollection":for(const e of t.features)e&&(yield e)}}function*l(t){if(t)switch(t.type){case"Point":yield t.coordinates;break;case"LineString":case"MultiPoint":yield*t.coordinates;break;case"MultiLineString":case"Polygon":for(const e of t.coordinates)yield*e;break;case"MultiPolygon":for(const e of t.coordinates)for(const t of e)yield*t}}function*c(t,e={}){const{geometryType:n,objectIdField:r}=e;for(const s of t){const{geometry:t,properties:o,id:a}=s;if(t&&u(t.type)!==n)continue;const l=o||{};let c;r&&(c=l[r],null==a||c||(l[r]=c=a)),yield new i.e(t?g(new i.s,t,e):null,l,null,c??void 0)}}function f(t){for(const e of t)if(e.length>2)return!0;return!1}function p(t){return!d(t)}function h(t){return d(t)}function d(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n],s=t[(n+1)%t.length];e+=r[0]*s[1]-s[0]*r[1]}return e<=0}function m(t){const e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]||t.push(e),t}function g(t,e,n){switch(e.type){case"LineString":return y(t,e,n);case"MultiLineString":return _(t,e,n);case"MultiPoint":return S(t,e,n);case"MultiPolygon":return M(t,e,n);case"Point":return R(t,e,n);case"Polygon":return C(t,e,n)}}function y(t,e,n){return A(t,e.coordinates,n),t}function _(t,e,n){for(const r of e.coordinates)A(t,r,n);return t}function S(t,e,n){return A(t,e.coordinates,n),t}function M(t,e,n){for(const r of e.coordinates){E(t,r[0],n);for(let e=1;e<r.length;e++)b(t,r[e],n)}return t}function R(t,e,n){return w(t,e.coordinates,n),t}function C(t,e,n){const r=e.coordinates;E(t,r[0],n);for(let s=1;s<r.length;s++)b(t,r[s],n);return t}function E(t,e,n){const r=m(e);p(r)?P(t,r,n):A(t,r,n)}function b(t,e,n){const r=m(e);h(r)?P(t,r,n):A(t,r,n)}function A(t,e,n){for(const r of e)w(t,r,n);t.lengths.push(e.length)}function P(t,e,n){for(let r=e.length-1;r>=0;r--)w(t,e[r],n);t.lengths.push(e.length)}function w(t,e,n){const[r,s,i]=e;t.coords.push(r,s),n.hasZ&&t.coords.push(i||0)}function O(t){switch(typeof t){case"string":return(0,r.t)(t)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function I(t,e=4326){if(!t)throw new s.s("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==t.type&&"FeatureCollection"!==t.type)throw new s.s("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:t});const{crs:n}=t;if(!n)return;const r="string"==typeof n?n:"name"===n.type?n.properties.name:"EPSG"===n.type?n.properties.code:null,i=(0,s.cb)({wkid:e})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(`.*(${e})$`,"i");if(!r||!i.test(r))throw new s.s("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:n})}function F(t,e={}){const n=[],r=new Set,i=new Set;let o,c=!1,p=null,h=!1,{geometryType:d=null}=e;for(const g of a(t)){const{geometry:t,properties:e,id:a}=g;if((!t||(d||(d=u(t.type)),u(t.type)===d))&&(c||(c=f(l(t))),h||(h=null!=a,h&&(o=typeof a,e&&(p=Object.keys(e).filter((t=>e[t]===a))))),e&&p&&h&&null!=a&&(p.length>1?p=p.filter((t=>e[t]===a)):1===p.length&&(p=e[p[0]]===a?p:[])),e))for(const o in e){if(r.has(o))continue;const t=O(e[o]);if("unknown"===t){i.add(o);continue}i.delete(o),r.add(o);const u=(0,s.ar)(o);u&&n.push({name:u,alias:o,type:t})}}const m=(0,s.ar)(1===p?.length&&p[0]||null)??void 0;if(m)for(const u of n)if(u.name===m&&(0,s.ah)(u)){u.type="esriFieldTypeOID";break}return{fields:n,geometryType:d,hasZ:c,objectIdFieldName:m,objectIdFieldType:o,unknownFields:Array.from(i)}}function N(t,e){return Array.from(c(a(t),e))}},74362:function(t,e,n){n.d(e,{A:function(){return v},B:function(){return $},C:function(){return Z},D:function(){return L},G:function(){return Q},H:function(){return V},I:function(){return I},O:function(){return F},P:function(){return T},X:function(){return W},b:function(){return g},c:function(){return h},f:function(){return m},g:function(){return E},h:function(){return c},i:function(){return d},j:function(){return N},n:function(){return i},o:function(){return u},p:function(){return C},q:function(){return M},r:function(){return o},s:function(){return a}});var r=n(98503),s=n(25209);function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function o(t,e,n,r,s,i,o,u,a,l,c,f,p,h,d,m,g){return t[0]=e,t[1]=n,t[2]=r,t[3]=s,t[4]=i,t[5]=o,t[6]=u,t[7]=a,t[8]=l,t[9]=c,t[10]=f,t[11]=p,t[12]=h,t[13]=d,t[14]=m,t[15]=g,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function a(t,e){if(t===e){const n=e[1],r=e[2],s=e[3],i=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=s,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function l(t,e){return c(t,e)||u(t),t}function c(t,e){const n=e[0],r=e[1],s=e[2],i=e[3],o=e[4],u=e[5],a=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],g=e[14],y=e[15],_=n*u-r*o,S=n*a-s*o,M=n*l-i*o,R=r*a-s*u,C=r*l-i*u,E=s*l-i*a,b=c*m-f*d,A=c*g-p*d,P=c*y-h*d,w=f*g-p*m,O=f*y-h*m,I=p*y-h*g;let F=_*I-S*O+M*w+R*P-C*A+E*b;return F?(F=1/F,t[0]=(u*I-a*O+l*w)*F,t[1]=(s*O-r*I-i*w)*F,t[2]=(m*E-g*C+y*R)*F,t[3]=(p*C-f*E-h*R)*F,t[4]=(a*P-o*I-l*A)*F,t[5]=(n*I-s*P+i*A)*F,t[6]=(g*M-d*E-y*S)*F,t[7]=(c*E-p*M+h*S)*F,t[8]=(o*O-u*P+l*b)*F,t[9]=(r*P-n*O-i*b)*F,t[10]=(d*C-m*M+y*_)*F,t[11]=(f*M-c*C-h*_)*F,t[12]=(u*A-o*w-a*b)*F,t[13]=(n*w-r*A+s*b)*F,t[14]=(m*S-d*R-g*_)*F,t[15]=(c*R-f*S+p*_)*F,t):null}function f(t,e){const n=e[0],r=e[1],s=e[2],i=e[3],o=e[4],u=e[5],a=e[6],l=e[7],c=e[8],f=e[9],p=e[10],h=e[11],d=e[12],m=e[13],g=e[14],y=e[15];return t[0]=u*(p*y-h*g)-f*(a*y-l*g)+m*(a*h-l*p),t[1]=-(r*(p*y-h*g)-f*(s*y-i*g)+m*(s*h-i*p)),t[2]=r*(a*y-l*g)-u*(s*y-i*g)+m*(s*l-i*a),t[3]=-(r*(a*h-l*p)-u*(s*h-i*p)+f*(s*l-i*a)),t[4]=-(o*(p*y-h*g)-c*(a*y-l*g)+d*(a*h-l*p)),t[5]=n*(p*y-h*g)-c*(s*y-i*g)+d*(s*h-i*p),t[6]=-(n*(a*y-l*g)-o*(s*y-i*g)+d*(s*l-i*a)),t[7]=n*(a*h-l*p)-o*(s*h-i*p)+c*(s*l-i*a),t[8]=o*(f*y-h*m)-c*(u*y-l*m)+d*(u*h-l*f),t[9]=-(n*(f*y-h*m)-c*(r*y-i*m)+d*(r*h-i*f)),t[10]=n*(u*y-l*m)-o*(r*y-i*m)+d*(r*l-i*u),t[11]=-(n*(u*h-l*f)-o*(r*h-i*f)+c*(r*l-i*u)),t[12]=-(o*(f*g-p*m)-c*(u*g-a*m)+d*(u*p-a*f)),t[13]=n*(f*g-p*m)-c*(r*g-s*m)+d*(r*p-s*f),t[14]=-(n*(u*g-a*m)-o*(r*g-s*m)+d*(r*a-s*u)),t[15]=n*(u*p-a*f)-o*(r*p-s*f)+c*(r*a-s*u),t}function p(t){const e=t[0],n=t[1],r=t[2],s=t[3],i=t[4],o=t[5],u=t[6],a=t[7],l=t[8],c=t[9],f=t[10],p=t[11],h=t[12],d=t[13],m=t[14],g=t[15];return(e*o-n*i)*(f*g-p*m)-(e*u-r*i)*(c*g-p*d)+(e*a-s*i)*(c*m-f*d)+(n*u-r*o)*(l*g-p*h)-(n*a-s*o)*(l*m-f*h)+(r*a-s*u)*(l*d-c*h)}function h(t,e,n){const r=e[0],s=e[1],i=e[2],o=e[3],u=e[4],a=e[5],l=e[6],c=e[7],f=e[8],p=e[9],h=e[10],d=e[11],m=e[12],g=e[13],y=e[14],_=e[15];let S=n[0],M=n[1],R=n[2],C=n[3];return t[0]=S*r+M*u+R*f+C*m,t[1]=S*s+M*a+R*p+C*g,t[2]=S*i+M*l+R*h+C*y,t[3]=S*o+M*c+R*d+C*_,S=n[4],M=n[5],R=n[6],C=n[7],t[4]=S*r+M*u+R*f+C*m,t[5]=S*s+M*a+R*p+C*g,t[6]=S*i+M*l+R*h+C*y,t[7]=S*o+M*c+R*d+C*_,S=n[8],M=n[9],R=n[10],C=n[11],t[8]=S*r+M*u+R*f+C*m,t[9]=S*s+M*a+R*p+C*g,t[10]=S*i+M*l+R*h+C*y,t[11]=S*o+M*c+R*d+C*_,S=n[12],M=n[13],R=n[14],C=n[15],t[12]=S*r+M*u+R*f+C*m,t[13]=S*s+M*a+R*p+C*g,t[14]=S*i+M*l+R*h+C*y,t[15]=S*o+M*c+R*d+C*_,t}function d(t,e,n){const r=n[0],s=n[1],i=n[2];if(e===t)t[12]=e[0]*r+e[4]*s+e[8]*i+e[12],t[13]=e[1]*r+e[5]*s+e[9]*i+e[13],t[14]=e[2]*r+e[6]*s+e[10]*i+e[14],t[15]=e[3]*r+e[7]*s+e[11]*i+e[15];else{const n=e[0],o=e[1],u=e[2],a=e[3],l=e[4],c=e[5],f=e[6],p=e[7],h=e[8],d=e[9],m=e[10],g=e[11];t[0]=n,t[1]=o,t[2]=u,t[3]=a,t[4]=l,t[5]=c,t[6]=f,t[7]=p,t[8]=h,t[9]=d,t[10]=m,t[11]=g,t[12]=n*r+l*s+h*i+e[12],t[13]=o*r+c*s+d*i+e[13],t[14]=u*r+f*s+m*i+e[14],t[15]=a*r+p*s+g*i+e[15]}return t}function m(t,e,n){const r=n[0],s=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function g(t,e,n,r){let o=r[0],u=r[1],a=r[2],l=Math.sqrt(o*o+u*u+a*a);if(l<=(0,s.e)())return void i(t,e);l=1/l,o*=l,u*=l,a*=l;const c=Math.sin(n),f=Math.cos(n),p=1-f,h=e[0],d=e[1],m=e[2],g=e[3],y=e[4],_=e[5],S=e[6],M=e[7],R=e[8],C=e[9],E=e[10],b=e[11],A=o*o*p+f,P=u*o*p+a*c,w=a*o*p-u*c,O=o*u*p-a*c,I=u*u*p+f,F=a*u*p+o*c,N=o*a*p+u*c,T=u*a*p-o*c,L=a*a*p+f;t[0]=h*A+y*P+R*w,t[1]=d*A+_*P+C*w,t[2]=m*A+S*P+E*w,t[3]=g*A+M*P+b*w,t[4]=h*O+y*I+R*F,t[5]=d*O+_*I+C*F,t[6]=m*O+S*I+E*F,t[7]=g*O+M*I+b*F,t[8]=h*N+y*T+R*L,t[9]=d*N+_*T+C*L,t[10]=m*N+S*T+E*L,t[11]=g*N+M*T+b*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function y(t,e,n){const r=Math.sin(n),s=Math.cos(n),i=e[4],o=e[5],u=e[6],a=e[7],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*s+l*r,t[5]=o*s+c*r,t[6]=u*s+f*r,t[7]=a*s+p*r,t[8]=l*s-i*r,t[9]=c*s-o*r,t[10]=f*s-u*r,t[11]=p*s-a*r,t}function _(t,e,n){const r=Math.sin(n),s=Math.cos(n),i=e[0],o=e[1],u=e[2],a=e[3],l=e[8],c=e[9],f=e[10],p=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*s-l*r,t[1]=o*s-c*r,t[2]=u*s-f*r,t[3]=a*s-p*r,t[8]=i*r+l*s,t[9]=o*r+c*s,t[10]=u*r+f*s,t[11]=a*r+p*s,t}function S(t,e,n){const r=Math.sin(n),s=Math.cos(n),i=e[0],o=e[1],u=e[2],a=e[3],l=e[4],c=e[5],f=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*s+l*r,t[1]=o*s+c*r,t[2]=u*s+f*r,t[3]=a*s+p*r,t[4]=l*s-i*r,t[5]=c*s-o*r,t[6]=f*s-u*r,t[7]=p*s-a*r,t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function R(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e,n){if(0===e)return u(t);let r=n[0],i=n[1],o=n[2],a=Math.sqrt(r*r+i*i+o*o);if(a<=(0,s.e)())return null;a=1/a,r*=a,i*=a,o*=a;const l=Math.sin(e),c=Math.cos(e),f=1-c;return t[0]=r*r*f+c,t[1]=i*r*f+o*l,t[2]=o*r*f-i*l,t[3]=0,t[4]=r*i*f-o*l,t[5]=i*i*f+c,t[6]=o*i*f+r*l,t[7]=0,t[8]=r*o*f+i*l,t[9]=i*o*f-r*l,t[10]=o*o*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function P(t,e,n){const r=e[0],s=e[1],i=e[2],o=e[3],u=r+r,a=s+s,l=i+i,c=r*u,f=r*a,p=r*l,h=s*a,d=s*l,m=i*l,g=o*u,y=o*a,_=o*l;return t[0]=1-(h+m),t[1]=f+_,t[2]=p-y,t[3]=0,t[4]=f-_,t[5]=1-(c+m),t[6]=d+g,t[7]=0,t[8]=p+y,t[9]=d-g,t[10]=1-(c+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function w(t,e){const n=O,r=-e[0],s=-e[1],i=-e[2],o=e[3],u=e[4],a=e[5],l=e[6],c=e[7],f=r*r+s*s+i*i+o*o;return f>0?(n[0]=2*(u*o+c*r+a*i-l*s)/f,n[1]=2*(a*o+c*s+l*r-u*i)/f,n[2]=2*(l*o+c*i+u*s-a*r)/f):(n[0]=2*(u*o+c*r+a*i-l*s),n[1]=2*(a*o+c*s+l*r-u*i),n[2]=2*(l*o+c*i+u*s-a*r)),P(t,e,n),t}const O=(0,r.aA)();function I(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function F(t,e){const n=e[0],r=e[1],s=e[2],i=e[4],o=e[5],u=e[6],a=e[8],l=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+s*s),t[1]=Math.sqrt(i*i+o*o+u*u),t[2]=Math.sqrt(a*a+l*l+c*c),t}function N(t,e){const n=e[0]+e[5]+e[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function T(t,e,n,r){const s=e[0],i=e[1],o=e[2],u=e[3],a=s+s,l=i+i,c=o+o,f=s*a,p=s*l,h=s*c,d=i*l,m=i*c,g=o*c,y=u*a,_=u*l,S=u*c,M=r[0],R=r[1],C=r[2];return t[0]=(1-(d+g))*M,t[1]=(p+S)*M,t[2]=(h-_)*M,t[3]=0,t[4]=(p-S)*R,t[5]=(1-(f+g))*R,t[6]=(m+y)*R,t[7]=0,t[8]=(h+_)*C,t[9]=(m-y)*C,t[10]=(1-(f+d))*C,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function L(t,e,n,r,s){const i=e[0],o=e[1],u=e[2],a=e[3],l=i+i,c=o+o,f=u+u,p=i*l,h=i*c,d=i*f,m=o*c,g=o*f,y=u*f,_=a*l,S=a*c,M=a*f,R=r[0],C=r[1],E=r[2],b=s[0],A=s[1],P=s[2],w=(1-(m+y))*R,O=(h+M)*R,I=(d-S)*R,F=(h-M)*C,N=(1-(p+y))*C,T=(g+_)*C,L=(d+S)*E,G=(g-_)*E,v=(1-(p+m))*E;return t[0]=w,t[1]=O,t[2]=I,t[3]=0,t[4]=F,t[5]=N,t[6]=T,t[7]=0,t[8]=L,t[9]=G,t[10]=v,t[11]=0,t[12]=n[0]+b-(w*b+F*A+L*P),t[13]=n[1]+A-(O*b+N*A+G*P),t[14]=n[2]+P-(I*b+T*A+v*P),t[15]=1,t}function G(t,e){const n=e[0],r=e[1],s=e[2],i=e[3],o=n+n,u=r+r,a=s+s,l=n*o,c=r*o,f=r*u,p=s*o,h=s*u,d=s*a,m=i*o,g=i*u,y=i*a;return t[0]=1-f-d,t[1]=c+y,t[2]=p-g,t[3]=0,t[4]=c-y,t[5]=1-l-d,t[6]=h+m,t[7]=0,t[8]=p+g,t[9]=h-m,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function v(t,e,n,r,s,i,o){const u=1/(n-e),a=1/(s-r),l=1/(i-o);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*a,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(s+r)*a,t[10]=(o+i)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*l,t[15]=0,t}function x(t,e,n,r,s){const i=1/Math.tan(e/2);let o;return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=s&&s!==1/0?(o=1/(r-s),t[10]=(s+r)*o,t[14]=2*s*r*o):(t[10]=-1,t[14]=-2*r),t}function z(t,e,n,r){const s=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),a=2/(o+u),l=2/(s+i);return t[0]=a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(o-u)*a*.5,t[9]=(s-i)*l*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function j(t,e,n,r,s,i,o){const u=1/(e-n),a=1/(r-s),l=1/(i-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*u,t[13]=(s+r)*a,t[14]=(o+i)*l,t[15]=1,t}function W(t,e,n,r){const i=e[0],o=e[1],a=e[2];let l=i-n[0],c=o-n[1],f=a-n[2];const p=(0,s.e)();if(Math.abs(l)<p&&Math.abs(c)<p&&Math.abs(f)<p)return void u(t);let h=1/Math.sqrt(l*l+c*c+f*f);l*=h,c*=h,f*=h;const d=r[0],m=r[1],g=r[2];let y=m*f-g*c,_=g*l-d*f,S=d*c-m*l;h=Math.sqrt(y*y+_*_+S*S),h?(h=1/h,y*=h,_*=h,S*=h):(y=0,_=0,S=0);let M=c*S-f*_,R=f*y-l*S,C=l*_-c*y;h=Math.sqrt(M*M+R*R+C*C),h?(h=1/h,M*=h,R*=h,C*=h):(M=0,R=0,C=0),t[0]=y,t[1]=M,t[2]=l,t[3]=0,t[4]=_,t[5]=R,t[6]=c,t[7]=0,t[8]=S,t[9]=C,t[10]=f,t[11]=0,t[12]=-(y*i+_*o+S*a),t[13]=-(M*i+R*o+C*a),t[14]=-(l*i+c*o+f*a),t[15]=1}function k(t,e,n,r){const s=e[0],i=e[1],o=e[2],u=r[0],a=r[1],l=r[2];let c=s-n[0],f=i-n[1],p=o-n[2],h=c*c+f*f+p*p;h>0&&(h=1/Math.sqrt(h),c*=h,f*=h,p*=h);let d=a*p-l*f,m=l*c-u*p,g=u*f-a*c;return h=d*d+m*m+g*g,h>0&&(h=1/Math.sqrt(h),d*=h,m*=h,g*=h),t[0]=d,t[1]=m,t[2]=g,t[3]=0,t[4]=f*g-p*m,t[5]=p*d-c*g,t[6]=c*m-f*d,t[7]=0,t[8]=c,t[9]=f,t[10]=p,t[11]=0,t[12]=s,t[13]=i,t[14]=o,t[15]=1,t}function H(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function q(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function B(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function U(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function D(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function K(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function $(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Z(t,e){if(t===e)return!0;const n=t[0],r=t[1],i=t[2],o=t[3],u=t[4],a=t[5],l=t[6],c=t[7],f=t[8],p=t[9],h=t[10],d=t[11],m=t[12],g=t[13],y=t[14],_=t[15],S=e[0],M=e[1],R=e[2],C=e[3],E=e[4],b=e[5],A=e[6],P=e[7],w=e[8],O=e[9],I=e[10],F=e[11],N=e[12],T=e[13],L=e[14],G=e[15],v=(0,s.e)();return Math.abs(n-S)<=v*Math.max(1,Math.abs(n),Math.abs(S))&&Math.abs(r-M)<=v*Math.max(1,Math.abs(r),Math.abs(M))&&Math.abs(i-R)<=v*Math.max(1,Math.abs(i),Math.abs(R))&&Math.abs(o-C)<=v*Math.max(1,Math.abs(o),Math.abs(C))&&Math.abs(u-E)<=v*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(a-b)<=v*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(l-A)<=v*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(c-P)<=v*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(f-w)<=v*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(p-O)<=v*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(h-I)<=v*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(d-F)<=v*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(m-N)<=v*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-T)<=v*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(y-L)<=v*Math.max(1,Math.abs(y),Math.abs(L))&&Math.abs(_-G)<=v*Math.max(1,Math.abs(_),Math.abs(G))}function Q(t){const e=(0,s.e)(),n=t[0],r=t[1],i=t[2],o=t[4],u=t[5],a=t[6],l=t[8],c=t[9],f=t[10];return Math.abs(1-(n*n+o*o+l*l))<=e&&Math.abs(1-(r*r+u*u+c*c))<=e&&Math.abs(1-(i*i+a*a+f*f))<=e}function V(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const J=h,X=U;Object.freeze(Object.defineProperty({__proto__:null,add:B,adjoint:f,copy:i,determinant:p,equals:Z,exactEquals:$,frob:q,fromQuat:G,fromQuat2:w,fromRotation:C,fromRotationTranslation:P,fromRotationTranslationScale:T,fromRotationTranslationScaleOrigin:L,fromScaling:R,fromTranslation:M,fromXRotation:E,fromYRotation:b,fromZRotation:A,frustum:v,getRotation:N,getScaling:F,getTranslation:I,hasIdentityRotation:V,identity:u,invert:c,invertOrIdentity:l,isOrthoNormal:Q,lookAt:W,mul:J,multiply:h,multiplyScalar:D,multiplyScalarAndAdd:K,ortho:j,perspective:x,perspectiveFromFieldOfView:z,rotate:g,rotateX:y,rotateY:_,rotateZ:S,scale:m,set:o,str:H,sub:X,subtract:U,targetTo:k,translate:d,transpose:a},Symbol.toStringTag,{value:"Module"}))},92113:function(t,e,n){function r(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function s(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function i(t,e,n,r,s,i,o,u,a,l,c,f,p,h,d,m){const g=new Float32Array(16);return g[0]=t,g[1]=e,g[2]=n,g[3]=r,g[4]=s,g[5]=i,g[6]=o,g[7]=u,g[8]=a,g[9]=l,g[10]=c,g[11]=f,g[12]=p,g[13]=h,g[14]=d,g[15]=m,g}function o(t,e){return new Float32Array(t,e,16)}n.d(e,{e:function(){return r}});const u=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:s,create:r,createView:o,fromValues:i},Symbol.toStringTag,{value:"Module"}))},69981:function(t,e,n){n.d(e,{$:function(){return b},C:function(){return C},N:function(){return _},O:function(){return S},P:function(){return M},R:function(){return E},k:function(){return d},q:function(){return R},v:function(){return y},x:function(){return m}});var r=n(98503),s=n(45121),i=n(83258),o=n(38027),u=n(98485),a=n(51029),l=n(36879),c=n(22555);const f=()=>r.n.getLogger("esri.layers.ogc.ogcFeatureUtils"),p="startindex",h=new Set([p,"offset"]),d="http://www.opengis.net/def/crs/",m=`${d}OGC/1.3/CRS84`;var g;async function y(t,e,n={},s=5){const{links:i}=t,a=T(i,"items",g.geojson)||T(i,"http://www.opengis.net/def/rel/ogc/1.0/items",g.geojson);if(null==a)throw new r.s("ogc-feature-layer:missing-items-page","Missing items url");const{apiKey:h,customParameters:d,signal:m}=n,y=(0,r.bx)(a.href,t.landingPage.url),_={limit:s,...d,token:h},S=(0,r.cn)(y,_),M={accept:g.geojson},{data:R}=await(0,r.U)(S,{signal:m,headers:M}),C=L(S,s,R.links)??p;(0,o.E)(R);const E=(0,o.I)(R,{geometryType:e.geometryType}),b=e.fields||E.fields||[],A=null!=e.hasZ?e.hasZ:E.hasZ,P=E.geometryType,w=e.objectIdField||E.objectIdFieldName||"OBJECTID";let O=e.timeInfo;const I=b.find((({name:t})=>t===w));if(I)I.editable=!1,I.nullable=!1;else{if(!E.objectIdFieldType)throw new r.s("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");b.unshift({name:w,alias:w,type:"number"===E.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1})}if(w!==E.objectIdFieldName){const t=b.find((({name:t})=>t===E.objectIdFieldName));t&&(t.type="esriFieldTypeInteger")}b===E.fields&&E.unknownFields.length>0&&f().warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:E.unknownFields}});for(const o of b){if(null==o.name&&(o.name=o.alias),null==o.alias&&(o.alias=o.name),"esriFieldTypeOID"!==o.type&&"esriFieldTypeGlobalID"!==o.type&&(o.editable=null==o.editable||!!o.editable,o.nullable=null==o.nullable||!!o.nullable),!o.name)throw new r.s("ogc-feature-layer:invalid-field-name","field name is missing",{field:o});if(!c.i.jsonValues.includes(o.type))throw new r.s("ogc-feature-layer:invalid-field-type",`invalid type for field "${o.name}"`,{field:o})}if(O){const t=new l.Z(b);if(O.startTimeField){const e=t.get(O.startTimeField);e?(O.startTimeField=e.name,e.type="esriFieldTypeDate"):O.startTimeField=null}if(O.endTimeField){const e=t.get(O.endTimeField);e?(O.endTimeField=e.name,e.type="esriFieldTypeDate"):O.endTimeField=null}if(O.trackIdField){const e=t.get(O.trackIdField);e?O.trackIdField=e.name:(O.trackIdField=null,f().warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:O}}))}O.timeReference||={timeZoneIANA:r.al},O.startTimeField||O.endTimeField||(f().warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:O}}),O=void 0)}return{drawingInfo:P?(0,u.u)(P):null,extent:N(t),geometryType:P,fields:b,hasZ:!!A,objectIdField:w,paginationParameter:C,timeInfo:O}}async function _(t,e={}){const{links:n,url:s}=t,i=T(n,"data",g.json)||T(n,"http://www.opengis.net/def/rel/ogc/1.0/data",g.json);if(null==i)throw new r.s("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:o,customParameters:u,signal:a}=e,l=(0,r.bx)(i.href,s),{data:c}=await(0,r.U)(l,{signal:a,headers:{accept:g.json},query:{...u,token:o}});for(const r of c.collections)r.landingPage=t;return c}async function S(t,e={}){const{links:n,url:s}=t,i=T(n,"conformance",g.json)||T(n,"http://www.opengis.net/def/rel/ogc/1.0/conformance",g.json);if(null==i)throw new r.s("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:o,customParameters:u,signal:a}=e,l=(0,r.bx)(i.href,s),{data:c}=await(0,r.U)(l,{signal:a,headers:{accept:g.json},query:{...u,token:o}});return c}async function M(t,e={}){const{apiKey:n,customParameters:s,signal:i}=e,{data:o}=await(0,r.U)(t,{signal:i,headers:{accept:g.json},query:{...s,token:n}});return o.url=t,o}async function R(t,e={}){const{links:n,url:s}=t,i=T(n,"service-desc",g.openapi);if(null==i)return f().warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:o,customParameters:u,signal:a}=e,l=(0,r.bx)(i.href,s),{data:c}=await(0,r.U)(l,{signal:a,headers:{accept:g.openapi},query:{...u,token:o}});return c}function C(t){const e=/^http:\/\/www\.opengis.net\/def\/crs\/(?<authority>.*)\/(?<version>.*)\/(?<code>.*)$/i.exec(t),n=e?.groups;if(!n)return null;const{authority:s,code:i}=n;switch(s.toLowerCase()){case"ogc":switch(i.toLowerCase()){case"crs27":return r.B.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return r.B.WGS84.wkid;default:return null}case"esri":case"epsg":{const t=Number.parseInt(i,10);return Number.isNaN(t)?null:t}default:return null}}async function E(t,e,n){const r=await b(t,e,n);return(0,s.l)(r)}async function b(t,e,n){const{collection:{links:u,landingPage:{url:c}},layerDefinition:f,maxRecordCount:p,queryParameters:{apiKey:h,customParameters:d},spatialReference:m,supportedCrs:y}=t,_=T(u,"items",g.geojson)||T(u,"http://www.opengis.net/def/rel/ogc/1.0/items",g.geojson);if(null==_)throw new r.s("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:S,num:M,start:R,timeExtent:C,where:E}=e;if(e.objectIds)throw new r.s("ogc-feature-layer:query-by-objectids-not-supported","Queries with object ids are not supported");const b=r.B.fromJSON(m),A=e.outSpatialReference??b,w=A.isWGS84?null:P(A,y),N=F(S,y),L=O(C),G=I(E),v=M??(null==R?p:10),x=0===R?void 0:R,{fields:z,geometryType:j,hasZ:W,objectIdField:k,paginationParameter:H}=f,q=(0,r.bx)(_.href,c),{data:B}=await(0,r.U)(q,{...n,query:{...d,...N,crs:w,datetime:L,query:G,limit:v,[H]:x,token:h},headers:{accept:g.geojson}}),U=(0,o.N)(B,{geometryType:j,hasZ:W,objectIdField:k}),D=U.length===v&&!!T(B.links??[],"next",g.geojson),K=new l.Z(z);for(const r of U){const t={};(0,a.p)(K,t,r.attributes,!0);for(const e of K.fields)e.nullable&&!(e.name in t)&&(t[e.name]=null);t[k]=r.attributes[k],r.attributes=t}if(!w&&A.isWebMercator)for(const i of U)if(null!=i.geometry&&null!=j){const t=(0,s.r)(i.geometry,j,W,!1);t.spatialReference=r.B.WGS84,i.geometry=(0,s.o)((0,r.co)(t,A))}for(const r of U)r.objectId=r.attributes[k];const $=w||!w&&A.isWebMercator?A.toJSON():r.c8,Z=new i.e;return Z.exceededTransferLimit=D,Z.features=U,Z.fields=z,Z.geometryType=j,Z.hasZ=W,Z.objectIdFieldName=k,Z.spatialReference=$,Z}function A(t){return null!=t&&"extent"===t.type}function P(t,e){const{isWebMercator:n,wkid:r}=t;if(!r)return null;const s=n?e[3857]??e[102100]??e[102113]??e[900913]:e[t.wkid];return s?`${d}${s}`:null}function w(t){if(null==t)return"";const{xmin:e,ymin:n,xmax:r,ymax:s}=t;return`${e},${n},${r},${s}`}function O(t){if(null==t)return null;const{start:e,end:n}=t;return`${null!=e?e.toISOString():".."}/${null!=n?n.toISOString():".."}`}function I(t){return null!=t&&t&&"1=1"!==t?t:null}function F(t,e){if(!A(t))return null;const{spatialReference:n}=t;if(!n||n.isWGS84)return{bbox:w(t)};const s=P(n,e);return null!=s?{bbox:w(t),"bbox-crs":s}:n.isWebMercator?{bbox:w((0,r.co)(t,r.B.WGS84))}:null}function N(t){const e=t.extent?.spatial;if(!e)return null;const n=e.bbox[0],s=4===n.length,[i,o]=n,u=s?void 0:n[2];return{xmin:i,ymin:o,xmax:s?n[2]:n[3],ymax:s?n[3]:n[4],zmin:u,zmax:s?void 0:n[5],spatialReference:r.B.WGS84.toJSON()}}function T(t,e,n){return t.find((({rel:t,type:r})=>t===e&&r===n))??t.find((({rel:t,type:n})=>t===e&&!n))}function L(t,e,n){if(!n)return;const s=T(n,"next",g.geojson),i=(0,r.I)(s?.href)?.query;if(!i)return;const o=(0,r.I)(t).query,u=Object.keys(o??{});return Object.entries(i).filter((([t])=>!u.includes(t))).find((([t,n])=>h.has(t.toLowerCase())&&Number.parseInt(n,10)===e))?.[0]}(function(t){t.json="application/json",t.geojson="application/geo+json",t.openapi="application/vnd.oai.openapi+json;version=3.0"})(g||(g={}))},85502:function(t,e,n){n.r(e),n.d(e,{E:function(){return $},F:function(){return h},G:function(){return p},L:function(){return f},N:function(){return c},d:function(){return l},e:function(){return K},i:function(){return s},l:function(){return D},n:function(){return et},p:function(){return nt},t:function(){return i}});var r=n(98503);const s=Math.PI/180,i=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,o=r.a3.radius,u=r.a3.eccentricitySquared,a={a1:o*u,a2:o*u*o*u,a3:o*u*u/2,a4:o*u*o*u*2.5,a5:o*u+o*u*u/2,a6:1-u},l={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:r.a3.radius,f:r.a3.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:r.fs.radius,f:r.fs.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:r.ft.radius,f:r.ft.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:r.ft.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var c;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(c||(c={}));const f={[c.WGS84]:{[c.CGCS2000]:d,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:M,[c.WGS84]:d,[c.WGS84_ECEF]:W},[c.CGCS2000]:{[c.CGCS2000]:d,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:M,[c.WGS84]:d,[c.WGS84_ECEF]:W},[c.GCSMARS2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:d,[c.GCSMOON2000]:null,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:F,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.GCSMOON2000]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:d,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:I,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.WEB_MERCATOR]:{[c.CGCS2000]:m,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:m,[c.SPHERICAL_ECEF]:g,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:d,[c.PLATE_CARREE]:C,[c.WGS84]:m,[c.WGS84_ECEF]:y},[c.WGS84_ECEF]:{[c.CGCS2000]:k,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:k,[c.SPHERICAL_ECEF]:H,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:q,[c.PLATE_CARREE]:E,[c.WGS84]:k,[c.WGS84_ECEF]:d},[c.SPHERICAL_ECEF]:{[c.CGCS2000]:v,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:v,[c.SPHERICAL_ECEF]:d,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:x,[c.PLATE_CARREE]:b,[c.WGS84]:v,[c.WGS84_ECEF]:z},[c.SPHERICAL_MARS_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:G,[c.GCSMOON2000]:null,[c.LON_LAT]:G,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:d,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.SPHERICAL_MOON_PCPF]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:L,[c.LON_LAT]:L,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:d,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.UNKNOWN]:{[c.CGCS2000]:null,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:null,[c.SPHERICAL_ECEF]:null,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:d,[c.WEB_MERCATOR]:null,[c.PLATE_CARREE]:null,[c.WGS84]:null,[c.WGS84_ECEF]:null},[c.LON_LAT]:{[c.CGCS2000]:d,[c.GCSMARS2000]:d,[c.GCSMOON2000]:d,[c.LON_LAT]:d,[c.SPHERICAL_ECEF]:N,[c.SPHERICAL_MARS_PCPF]:F,[c.SPHERICAL_MOON_PCPF]:I,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:S,[c.PLATE_CARREE]:M,[c.WGS84]:d,[c.WGS84_ECEF]:W},[c.PLATE_CARREE]:{[c.CGCS2000]:R,[c.GCSMARS2000]:null,[c.GCSMOON2000]:null,[c.LON_LAT]:R,[c.SPHERICAL_ECEF]:A,[c.SPHERICAL_MARS_PCPF]:null,[c.SPHERICAL_MOON_PCPF]:null,[c.UNKNOWN]:null,[c.WEB_MERCATOR]:P,[c.PLATE_CARREE]:d,[c.WGS84]:R,[c.WGS84_ECEF]:w}};function p(t,e,n=U()){return null==t||null==e?null:B(t,e,n).projector}function h(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=(0,r.bq)(t,1)),(0,r.fv)(t)?e.spatialReferenceId=c.SPHERICAL_ECEF:(0,r.cb)(t)?e.spatialReferenceId=c.WGS84:(0,r.cL)(t)?e.spatialReferenceId=c.WEB_MERCATOR:(0,r.fw)(t)?e.spatialReferenceId=c.PLATE_CARREE:t.wkt===r.c4.wkt?e.spatialReferenceId=c.WGS84_ECEF:t.wkid===r.fx.CGCS2000?e.spatialReferenceId=c.CGCS2000:t.wkt===r.c2.wkt?e.spatialReferenceId=c.SPHERICAL_MARS_PCPF:t.wkt===r.c3.wkt?e.spatialReferenceId=c.SPHERICAL_MOON_PCPF:(0,r.eD)(t)?e.spatialReferenceId=c.GCSMARS2000:(0,r.eE)(t)?e.spatialReferenceId=c.GCSMOON2000:e.spatialReferenceId=c.UNKNOWN):c.UNKNOWN}function d(t,e,n,r){t!==n&&(n[r++]=t[e++],n[r++]=t[e++],n[r]=t[e])}function m(t,e,n,r){n[r]=Q*(t[e]/X),n[r+1]=Q*(J-2*Math.atan(Math.exp(-t[e+1]/X))),n[r+2]=t[e+2]}function g(t,e,n,r){const s=t[e]/X,i=J-2*Math.atan(Math.exp(-t[e+1]/X)),o=X+t[e+2],u=Math.cos(i)*o;n[r]=Math.cos(s)*u,n[r+1]=Math.sin(s)*u,n[r+2]=Math.sin(i)*o}function y(t,e,n,r){m(t,e,n,r),W(n,r,n,r)}function _(t,e,n,s,i){const o=.4999999*V,u=(0,r.aP)(Z*t[e+1],-o,o),a=Math.sin(u);n[s++]=Z*t[e]*i.radius,n[s++]=i.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[s]=t[e+2]}function S(t,e,n,s){_(t,e,n,s,r.a3)}function M(t,e,n,r){n[r]=t[e]*Y,n[r+1]=t[e+1]*Y,n[r+2]=t[e+2]}function R(t,e,n,r){n[r]=t[e]*tt,n[r+1]=t[e+1]*tt,n[r+2]=t[e+2]}function C(t,e,n,r){m(t,e,n,r),M(n,r,n,r)}function E(t,e,n,r){k(t,e,n,r),M(n,r,n,r)}function b(t,e,n,r){v(t,e,n,r),M(n,r,n,r)}function A(t,e,n,r){R(t,e,n,r),N(n,r,n,r)}function P(t,e,n,r){R(t,e,n,r),S(n,r,n,r)}function w(t,e,n,r){R(t,e,n,r),W(n,r,n,r)}function O(t,e,n,r,s){const i=s+t[e+2],o=Z*t[e+1],u=Z*t[e],a=Math.cos(o)*i;n[r]=Math.cos(u)*a,n[r+1]=Math.sin(u)*a,n[r+2]=Math.sin(o)*i}function I(t,e,n,s){O(t,e,n,s,r.fs.radius)}function F(t,e,n,s){O(t,e,n,s,r.ft.radius)}function N(t,e,n,s){O(t,e,n,s,r.a3.radius)}function T(t,e,n,s,i){const o=t[e],u=t[e+1],a=t[e+2],l=Math.sqrt(o*o+u*u+a*a),c=(0,r.fu)(a/(0===l?1:l)),f=Math.atan2(u,o);n[s++]=Q*f,n[s++]=Q*c,n[s]=l-i}function L(t,e,n,s){T(t,e,n,s,r.fs.radius)}function G(t,e,n,s){T(t,e,n,s,r.ft.radius)}function v(t,e,n,s){T(t,e,n,s,r.a3.radius)}function x(t,e,n,r){v(t,e,n,r),S(n,r,n,r)}function z(t,e,n,r){v(t,e,n,r),W(n,r,n,r)}function j(t,e,n,r,s){const i=Z*t[e],o=Z*t[e+1],u=t[e+2],a=Math.sin(o),l=Math.cos(o),c=s.radius/Math.sqrt(1-s.eccentricitySquared*a*a);n[r++]=(c+u)*l*Math.cos(i),n[r++]=(c+u)*l*Math.sin(i),n[r++]=(c*(1-s.eccentricitySquared)+u)*a}function W(t,e,n,s){j(t,e,n,s,r.a3)}function k(t,e,n,s){const i=a,o=t[e],u=t[e+1],l=t[e+2];let c,f,p,h,d,m,g,y,_,S,M,R,C,E,b,A,P,w,O,I,F;c=Math.abs(l),f=o*o+u*u,p=Math.sqrt(f),h=f+l*l,d=Math.sqrt(h),I=Math.atan2(u,o),m=l*l/h,g=f/h,E=i.a2/d,b=i.a3-i.a4/d,g>.3?(y=c/d*(1+g*(i.a1+E+m*b)/d),O=Math.asin(y),S=y*y,_=Math.sqrt(1-S)):(_=p/d*(1-m*(i.a5-E-g*b)/d),O=Math.acos(_),S=1-_*_,y=Math.sqrt(S)),M=1-r.a3.eccentricitySquared*S,R=r.a3.radius/Math.sqrt(M),C=i.a6*R,E=p-R*_,b=c-C*y,P=_*E+y*b,A=_*b-y*E,w=A/(C/M+P),O+=w,F=P+A*w/2,l<0&&(O=-O),n[s++]=Q*I,n[s++]=Q*O,n[s]=F}function H(t,e,n,r){k(t,e,n,r),N(n,r,n,r)}function q(t,e,n,r){k(t,e,n,r),S(n,r,n,r)}function B(t,e,n){if(null==t||null==e||n.source.spatialReference===t&&n.dest.spatialReference===e)return n;const s=h(t,n.source),i=h(e,n.dest);return s===c.UNKNOWN&&i===c.UNKNOWN?(0,r.bh)(t,e)?n.projector=d:n.projector=null:n.projector=f[s][i],n}function U(){return{source:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:c.UNKNOWN,metersPerUnit:1},projector:d}}const D={spatialReference:null,spatialReferenceId:c.UNKNOWN},K={spatialReference:null,spatialReferenceId:c.UNKNOWN},$=U(),Z=(0,r.eI)(1),Q=(0,r.dg)(1),V=Math.PI,J=.5*V,X=r.a3.radius,Y=X*V/180,tt=180/(X*V);function et(t,e,n,r,s,i,o=Math.floor(t.length/3)){const u=p(e,s,$);if(null==u)return!1;if(u===d){if(t===r&&n===i)return!0;const e=n+3*o;for(let s=n,o=i;s<e;s++,o++)r[o]=t[s];return!0}const a=n+3*o;for(let l=n,c=i;l<a;l+=3,c+=3)u(t,l,r,c);return!0}const nt=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:et},Symbol.toStringTag,{value:"Module"}))},49555:function(t,e,n){n.r(e),n.d(e,{B:function(){return E},H:function(){return v},J:function(){return z},K:function(){return P},L:function(){return j},N:function(){return W},O:function(){return w},Q:function(){return k},V:function(){return O},W:function(){return A},X:function(){return I},Y:function(){return F},_:function(){return R},a:function(){return $},o:function(){return c},p:function(){return Y},s:function(){return l}});var r=n(98503),s=n(85502);function i(t,e,n,r,i,u){return o[0]=t,o[1]=e,o[2]=n,(0,s.n)(o,r,0,i,u,0)}const o=(0,r.aA)();let u=0;class a{static fromGE(t){const e=new a;return e._wkt=t.wkt,e._wkid=t.wkid,e._isInverse=t.isInverse,e}constructor(t){this.uid=u++,t?(this._wkt=null!=t.wkt?t.wkt:null,this._wkid=null!=t.wkid?t.wkid:-1,this._isInverse=null!=t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=u++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=u++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=u++}getInverse(){const t=new a;return t._wkt=this.wkt,t._wkid=this._wkid,t._isInverse=!this.isInverse,t}}let l=class t{static cacheKey(t,e){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??""].join()}static fromGE(e){const n=new t;let r="";for(const t of e.steps){const e=a.fromGE(t);n.steps.push(e),r+=e.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=r,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const e of t.steps)e instanceof a?this.steps.push(e):this.steps.push(new a({wkid:e.wkid,wkt:e.wkt,isInverse:e.isInverse}))}getInverse(){const e=new t;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const n=this.steps[t];e.steps.push(n.getInverse())}return e}getGTListEntry(){let t="";for(const e of this.steps)t+=e.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=t),this._gtlistentry}assignCachedGe(e,n,r){this._cachedProjection[t.cacheKey(e,n)]=r}getCachedGeTransformation(e,n){let r="";for(const t of this.steps)r+=t.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const s=this._cachedProjection[t.cacheKey(e,n)];return void 0===s?null:s}};function c(t,e,n){if(null==e||null==n||n.vcsWkid||(0,r.bh)(e,n)||(0,r.gK)(e)||(0,r.gK)(n))return null;const s=(0,r.bg)(e)/(0,r.bg)(n);if(1===s)return null;switch(t){case"point":case"esriGeometryPoint":return t=>f(t,s);case"polyline":case"esriGeometryPolyline":return t=>h(t,s);case"polygon":case"esriGeometryPolygon":return t=>p(t,s);case"multipoint":case"esriGeometryMultipoint":return t=>d(t,s);case"extent":case"esriGeometryEnvelope":return t=>m(t,s);default:return null}}function f(t,e){null!=t?.z&&(t.z*=e)}function p(t,e){if(t)for(const n of t.rings)for(const t of n)t.length>2&&(t[2]*=e)}function h(t,e){if(t)for(const n of t.paths)for(const t of n)t.length>2&&(t[2]*=e)}function d(t,e){if(t)for(const n of t.points)n.length>2&&(n[2]*=e)}function m(t,e){t&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=e,t.zmax*=e)}let g=null,y=null,_=null,S={};const M=new r.aQ;function R(){return!!g&&(0,r.gN)()}function C(){return!!R()||((0,r.aR)(M),A(),!1)}function E(t,e){return!t||!e||z(t,e)||C()}function b(t,e){return!z(t,e)&&!R()}function A(t){return null==_&&(_=Promise.all([(0,r.gL)(),Promise.all([n.e(916),n.e(2020)]).then(n.bind(n,90916)).then((t=>t.g)),n.e(6582).then(n.bind(n,6582))])),_.then((([,e,{hydratedAdapter:n}])=>{(0,r.D)(t),y=n,g=e.default,g._enableProjection(r.gM),M.notify()}))}function P(t,e,n=null,r=null){return Array.isArray(t)?0===t.length?[]:w(y,t,t[0].spatialReference,e,n,r):w(y,[t],t.spatialReference,e,n,r)[0]}function w(t,e,n,s,i=null,o=null){if(null==n||null==s)return e;if(z(n,s,i))return e.map((t=>k(t,n,s)));if(null==i&&(0,r.fv)(n))return e.map((t=>k(t,n,r.B.WGS84))).map((t=>v(t,s)));if(null==i&&(0,r.fv)(s))return e.map((t=>v(t,r.B.WGS84))).map((t=>k(t,r.B.WGS84,s)));if(null==i){const t=l.cacheKey(n,s);void 0!==S[t]?i=S[t]:(null==(i=F(n,s,void 0))&&(i=new l),S[t]=i)}if(null==g||null==t)throw new T;return null!=o?g._project(t,e,n,s,i,o):g._project(t,e,n,s,i)}function O(t,e){const n=I([t],e);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function I(t,e){if(!R())for(const n of t)if(null!=n&&!(0,r.bh)(n.spatialReference,e)&&(0,r.cg)(n.spatialReference)&&(0,r.cg)(e)&&!z(n.spatialReference,e))return(0,r.aR)(M),{pending:A(),geometries:null};return{pending:null,geometries:t.map((t=>null==t?null:(0,r.bh)(t.spatialReference,e)?t:(0,r.cg)(t.spatialReference)&&(0,r.cg)(e)?v(t,e):null))}}function F(t,e,n=null){if(null==t||null==e)return null;if(null==g||null==y)throw new T;const r=g._getTransformation(y,t,e,n,n?.spatialReference);return null!==r?l.fromGE(r):null}function N(t,e,n=null){if(null==g||null==y)throw new T;const r=g._getTransformationBySuitability(y,t,e,n,n?.spatialReference);if(null!==r){const t=[];for(const e of r)t.push(l.fromGE(e));return t}return[]}class T extends r.s{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function L(){g=null,y=null,_=null,S={}}const G={get loadPromise(){return _}};function v(t,e){try{const n=P(t,e);return null==n?null:("xmin"in t&&"xmin"in n&&(n.zmin=t.zmin,n.zmax=t.zmax),c(n.type,t.spatialReference,e)?.(n),n)}catch(n){if(!(n instanceof T))throw n;return null}}async function x(t,e,n){const r=t.spatialReference;return null!=r&&null!=e&&await W(r,e,null,n),v(t,e)}function z(t,e,n){return!n&&(!!(0,r.bh)(t,e)||(0,r.cg)(t)&&(0,r.cg)(e)&&!!(0,s.G)(t,e,s.E))}function j(t,e){if((0,r.bh)(t,e))return!0;if(!(0,r.cg)(t)||!(0,r.cg)(e))return!1;const n=(0,r.cb)(t)||(0,r.cL)(t)||(0,r.eC)(t),s=(0,r.cb)(e)||(0,r.cL)(e)||(0,r.eC)(e);return n&&s}async function W(t,e,n,s){if(R())return(0,r.O)(s);if(Array.isArray(t)){for(const{source:r,dest:i,geographicTransformation:o}of t)if(r&&i&&!z(r,i,o))return A(s)}else if(t&&e&&!z(t,e,n))return A(s);return(0,r.O)(s)}function k(t,e,n){return t?"x"in t?q(t,e,new r.bv,n,0):"xmin"in t?V(t,e,new r.au,n,0):"rings"in t?Z(t,e,new r.bC,n,0):"paths"in t?K(t,e,new r.aT,n,0):"points"in t?U(t,e,new r.bD,n,0):null:null}function H(t,e,n=e.spatialReference,r=0){return null!=n&&null!=t.spatialReference&&null!=q(t,t.spatialReference,e,n,r)}function q(t,e,n,i,o){X[0]=t.x,X[1]=t.y;const u=t.z;return X[2]=void 0!==u?u:o,(0,s.n)(X,e,0,X,i,0)?(n.x=X[0],n.y=X[1],n.spatialReference=i,void 0!==u||(0,r.gK)(i)?(n.z=X[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===t.m?(n.m=void 0,n.hasM=!1):(n.m=t.m,n.hasM=!0),n):null}function B(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=U(t,t.spatialReference,e,n,r)}function U(t,e,n,i,o){const{points:u,hasZ:a,hasM:l}=t,c=[],f=u.length,p=[];for(const r of u)p.push(r[0],r[1],a?r[2]:o);if(!(0,s.n)(p,e,0,p,i,0,f))return null;const h=a||(0,r.gK)(i);for(let r=0;r<f;++r){const t=3*r,e=p[t],n=p[t+1];h&&l?c.push([e,n,p[t+2],u[r][3]]):h?c.push([e,n,p[t+2]]):l?c.push([e,n,u[r][2]]):c.push([e,n])}return n.points=c,n.spatialReference=i,n.hasZ=a,n.hasM=l,n}function D(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=K(t,t.spatialReference,e,n,r)}function K(t,e,n,s,i){const{paths:o,hasZ:u,hasM:a}=t,l=[];if(!J(o,u??!1,a??!1,e,l,s,i))return null;const c=u||(0,r.gK)(s);return n.paths=l,n.spatialReference=s,n.hasZ=c,n.hasM=a,n}function $(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=Z(t,t.spatialReference,e,n,r)}function Z(t,e,n,s,i){const{rings:o,hasZ:u,hasM:a}=t,l=[];if(!J(o,u??!1,a??!1,e,l,s,i))return null;const c=u||(0,r.gK)(s);return n.rings=l,n.spatialReference=s,n.hasZ=c,n.hasM=a,n}function Q(t,e,n=e.spatialReference,r=0){return null!=t.spatialReference&&null!=n&&null!=V(t,t.spatialReference,e,n,r)}function V(t,e,n,s,o){const{xmin:u,ymin:a,xmax:l,ymax:c,hasZ:f,hasM:p}=t,h=f?t.zmin:o;if(!i(u,a,h,e,X,s))return null;const d=f||(0,r.gK)(s);n.xmin=X[0],n.ymin=X[1],d&&(n.zmin=X[2]);const m=f?t.zmax:o;return i(l,c,m,e,X,s)?(n.xmax=X[0],n.ymax=X[1],d&&(n.zmax=X[2]),p&&(n.mmin=t.mmin,n.mmax=t.mmax),n.spatialReference=s,n):null}function J(t,e,n,i,o,u,a=0){const l=new Array;for(const r of t)for(const t of r)l.push(t[0],t[1],e?t[2]:a);if(!(0,s.n)(l,i,0,l,u,0))return!1;let c=0;o.length=0;const f=e||(0,r.gK)(u);for(const r of t){const t=new Array;for(const e of r)f&&n?t.push([l[c++],l[c++],l[c++],e[3]]):f?t.push([l[c++],l[c++],l[c++]]):n?(t.push([l[c++],l[c++],e[2]]),c++):(t.push([l[c++],l[c++]]),c++);o.push(t)}return!0}const X=(0,r.aA)(),Y=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:z,getTransformation:F,getTransformations:N,initializeProjection:W,isEqualBaseGCS:j,isLoaded:R,isLoadedOrLoad:C,isLoadedOrLoadFor:E,load:A,project:P,projectExtent:Q,projectMany:w,projectMultipoint:B,projectOrLoad:O,projectOrLoadMany:I,projectPoint:H,projectPolygon:$,projectPolyline:D,projectWithZConversion:x,projectWithoutEngine:k,requiresLoad:b,test:G,tryProjectWithZConversion:v,unload:L},Symbol.toStringTag,{value:"Module"}))},51029:function(t,e,n){n.d(e,{d:function(){return l},f:function(){return u},j:function(){return g},p:function(){return f},y:function(){return d}});var r=n(76151),s=n(98503);class i{constructor(){this.code=null,this.description=null}}class o{constructor(t){this.error=new i,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=t}}function u(t){return new o(t)}class a{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function l(t){return new a(t)}const c=new Set;function f(t,e,n,r=!1){c.clear();for(const i in n){const o=t.get(i);if(!o)continue;const a=p(o,n[i]);if(c.add(o.name),o&&(r||o.editable)){const t=(0,s.cc)(o,a);if(t)return u((0,s.cd)(t,o,a));e[o.name]=a}}for(const s of t.requiredFields??[])if(!c.has(s.name))return u(`missing required field "${s.name}"`);return null}function p(t,e){let n=e;return(0,s.ah)(t)&&"string"==typeof e?n=parseFloat(e):(0,s.ce)(t)&&null!=e&&"string"!=typeof e?n=String(e):(0,s.ag)(t)&&"string"==typeof e&&(n=(0,r.n)(e)),(0,s.cf)(n)}let h;function d(t,e){if(!t||!(0,s.cg)(e))return t;if("rings"in t||"paths"in t){if(null==h)throw new TypeError("geometry engine not loaded");return h.simplify(e,t)}return t}async function m(){return null==h&&(h=await Promise.all([n.e(916),n.e(937)]).then(n.bind(n,54752)).then((t=>t.g))),h}async function g(t,e){!(0,s.cg)(t)||"esriGeometryPolygon"!==e&&"esriGeometryPolyline"!==e||await m()}}}]);
//# sourceMappingURL=6854.1c120d22.js.map