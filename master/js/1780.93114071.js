"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[1780],{21780:function(e,t,r){r.r(t),r.d(t,{getGeometryServiceURL:function(){return i},projectGeometry:function(){return s}});var o=r(98503),n=r(64660);async function i(e=null,t){if(o.H.geometryServiceUrl)return o.H.geometryServiceUrl;if(!e)throw new o.s("internal:geometry-service-url-not-configured");let r;r="portal"in e?e.portal||o.b.getDefault():e,await r.load({signal:t});const n=r.helperServices?.geometry?.url;if(!n)throw new o.s("internal:geometry-service-url-not-configured");return n}async function s(e,t,r=null,s){const a=await i(r,s),u=new n.p({geometries:[e],outSpatialReference:t}),c=await(0,n.n)(a,u,{signal:s});if(c&&Array.isArray(c)&&1===c.length)return c[0];throw new o.s("internal:geometry-service-projection-failed")}},64660:function(e,t,r){r.d(t,{n:function(){return c},p:function(){return a}});var o=r(98503),n=r(81528),i=r(44485);let s=class extends o.v{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),t=this.geometries[0],r={};return r.outSR=(0,o.bn)(this.outSpatialReference),r.inSR=(0,o.bn)(t.spatialReference),r.geometries=JSON.stringify({geometryType:(0,o.aW)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};(0,o.k)([(0,o.o)()],s.prototype,"geometries",void 0),(0,o.k)([(0,o.o)({json:{read:{source:"outSR"}}})],s.prototype,"outSpatialReference",void 0),(0,o.k)([(0,o.o)()],s.prototype,"transformation",void 0),(0,o.k)([(0,o.o)()],s.prototype,"transformForward",void 0),s=(0,o.k)([(0,o.A)("esri.rest.support.ProjectParameters")],s);const a=s,u=(0,o.ef)(a);async function c(e,t,r){t=u(t);const s=(0,n.f)(e),a={...s.query,f:"json",...t.toJSON()},c=t.outSpatialReference,f=(0,o.aW)(t.geometries[0]),l=(0,n.i)(a,r);return(0,o.U)(s.path+"/project",l).then((({data:{geometries:e}})=>(0,i.o)(e,f,c)))}}}]);
//# sourceMappingURL=1780.93114071.js.map