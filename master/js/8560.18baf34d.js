"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[3567,5948,8560],{94366:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(98503),a=n(45121),o=n(82592),s=n(42335),u=n(92611),i=n(38027),c=n(51029),l=n(54840),h=n(36879);const f="esri.layers.WFSLayer";class d{constructor(){this._customParameters=null,this._queryEngine=null,this._supportsPagination=!0}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}async load(e,t={}){const{getFeatureUrl:n,getFeatureOutputFormat:a,fields:i,geometryType:c,featureType:f,maxRecordCount:d,maxTotalRecordCount:m,maxPageCount:p,objectIdField:y,customParameters:_}=e,{spatialReference:w,getFeatureSpatialReference:x}=(0,l.o)(n,f,e.spatialReference);try{await(0,s.x)(x,w)}catch{throw new r.s("unsupported-projection","Projection not supported",{inSpatialReference:x,outSpatialReference:w})}(0,r.D)(t),this._customParameters=_,this._featureType=f,this._fieldsIndex=h.Z.fromLayerJSON({fields:i,dateFieldsTimeReference:i.some((e=>"esriFieldTypeDate"===e.type))?{timeZoneIANA:r.al}:null}),this._geometryType=c,this._getFeatureUrl=n,this._getFeatureOutputFormat=a,this._getFeatureSpatialReference=x,this._maxRecordCount=d,this._maxTotalRecordCount=m,this._maxPageCount=p,this._objectIdField=y,this._spatialReference=w;let C=await this._snapshotFeatures(t);if(C.errors.length>0&&(this._supportsPagination=!1,C=await this._snapshotFeatures(t),C.errors.length>0))throw C.errors[0];return this._queryEngine=new u.V({fieldsIndex:this._fieldsIndex,geometryType:c,hasM:!1,hasZ:!1,objectIdField:y,spatialReference:w,timeInfo:null,featureStore:new o.m({geometryType:c,hasM:!1,hasZ:!1})}),this._queryEngine.featureStore.addMany(C.features),{warnings:g(C),extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async applyEdits(){throw new r.s("wfs-source:editing-not-supported","applyEdits() is not supported on WFSLayer")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(e){return this._customParameters=e.customParameters,this._maxRecordCount=e.maxRecordCount,this._maxTotalRecordCount=e.maxTotalRecordCount,this._maxPageCount=e.maxPageCount,this._snapshotTask?.abort(),this._snapshotTask=(0,r.ca)((e=>this._snapshotFeatures({signal:e}))),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),this._queryEngine.featureStore.addMany(e.features);for(const t of g(e))r.n.getLogger(f).warn(new r.z("wfs-layer:refresh-warning",t.message,t.details));e.errors?.length&&r.n.getLogger(f).warn(new r.z("wfs-layer:refresh-error","Refresh completed with errors",{errors:e.errors}))}),(()=>{this._queryEngine.featureStore.clear()})),await this._waitSnapshotComplete(),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _snapshotFeatures(e){const t=e?.signal,n=this._maxTotalRecordCount,a=this._maxPageCount,o=this._supportsPagination?await(0,l.e)(this._getFeatureUrl,this._featureType.typeName,{customParameters:this._customParameters,signal:t}):void 0;let s=[];const u=[];if(null==o)try{s=await this._singleQuery(t)}catch(i){(0,r.E)(i)||u.push(i)}else{const e=Math.min(o,n),r=m(this,Math.max(1,Math.min(Math.ceil(e/this._maxRecordCount),a)),t);await Promise.allSettled(Array.from({length:10}).map((()=>p(r,s,u))))}return(0,r.D)(t),{features:s,totalRecordCount:o,maxTotalRecordCount:n,maxPageCount:a,errors:u}}async _singleQuery(e){const t=await(0,l.K)(this._getFeatureUrl,this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,signal:e});return this._processGeoJSON(t,{signal:e})}async _pageQuery(e,t){const n=e*this._maxRecordCount,r=await(0,l.K)(this._getFeatureUrl,this._featureType.typeName,this._getFeatureSpatialReference,this._getFeatureOutputFormat,{customParameters:this._customParameters,startIndex:n,count:this._maxRecordCount,signal:t});return this._processGeoJSON(r,{startIndex:n,signal:t})}_processGeoJSON(e,t){(0,i.E)(e,this._getFeatureSpatialReference.wkid);const{startIndex:n,signal:o}=t;(0,r.D)(o);const u=(0,i.N)(e,{geometryType:this._geometryType,hasZ:!1,objectIdField:this._objectIdField});if(!(0,r.bh)(this._spatialReference,this._getFeatureSpatialReference))for(const r of u)null!=r.geometry&&(r.geometry=(0,a.o)((0,s.j)((0,a.r)(r.geometry,this._geometryType,!1,!1),this._getFeatureSpatialReference,this._spatialReference)));let l=n??1;for(const r of u){const e={};(0,c.p)(this._fieldsIndex,e,r.attributes,!0),r.attributes=e,null==e[this._objectIdField]&&(r.objectId=e[this._objectIdField]=l++)}return u}}function*m(e,t,n){for(let r=0;r<t;r++)yield e._pageQuery(r,n)}async function p(e,t,n){let a=e.next();for(;!a.done;){try{const e=await a.value;t.push(...e)}catch(o){(0,r.E)(o)||n.push(o)}a=e.next()}}function g(e){const t=[];return null!=e.totalRecordCount&&(e.features.length<e.totalRecordCount&&t.push({name:"wfs-layer:maxRecordCount-too-low",message:`Could only fetch ${e.features.length} of ${e.totalRecordCount} in ${e.maxPageCount} queries. Try increasing the value of WFSLayer.maxRecordCount.`,details:{recordCount:e.features.length,totalRecordCount:e.totalRecordCount}}),e.totalRecordCount>e.maxTotalRecordCount&&t.push({name:"wfs-layer:large-dataset",message:`The number of ${e.totalRecordCount} features exceeds the maximum allowed of ${e.maxTotalRecordCount}.`,details:{recordCount:e.features.length,totalRecordCount:e.totalRecordCount,maxTotalRecordCount:e.maxTotalRecordCount}})),t}},5948:function(e,t,n){n.d(t,{C:function(){return y},S:function(){return g},b:function(){return _},d:function(){return l},g:function(){return m},h:function(){return h},m:function(){return f},p:function(){return c},w:function(){return d},y:function(){return p}});var r=n(98503);const a={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},o=Object.values(a),s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),u=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${o.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),i=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function c(e){return s.test(e)}function l(e){if(null==e)return null;const t=(0,r.I)(e),n=t?.path.match(s)||t?.path.match(u);if(!n)return null;const[,o,i,c,l]=n,h=i.indexOf("/");return{title:f(-1!==h?i.slice(h+1):i),serverType:a[c.toLowerCase()],sublayer:null!=l&&""!==l?parseInt(l,10):null,url:{path:o}}}function h(e){const t=(0,r.I)(e).path.match(i);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function f(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function d(e,t){const n=[];if(e){const t=l(e);null!=t&&t.title&&n.push(t.title)}if(t){const e=f(t);n.push(e)}if(2===n.length){if(n[0].toLowerCase().includes(n[1].toLowerCase()))return n[0];if(n[1].toLowerCase().includes(n[0].toLowerCase()))return n[1]}return n.join(" - ")}function m(e){let t=(0,r.X)(e,!0);return!!t&&(t=t.toLowerCase(),t.endsWith(".arcgis.com")&&(t.startsWith("services")||t.startsWith("tiles")||t.startsWith("features")))}function p(e,t){return e&&(0,r.Q)((0,r.S)(e,t))}function g(e){let{url:t}=e;if(!t)return{url:t};t=(0,r.S)(t,e.logger);const n=(0,r.I)(t),a=l(n.path);let o;if(null!=a)null!=a.sublayer&&null==e.layer.layerId&&(o=a.sublayer),t=a.url.path;else if(e.nonStandardUrlAllowed){const e=h(n.path);null!=e&&(t=e.serviceUrl,o=e.sublayerId)}return{url:(0,r.Q)(t),layerId:o}}function y(e,t,n,a,o){(0,r.T)(t,a,"url",o),a.url&&null!=e.layerId&&(a.url=(0,r.Z)(a.url,n,e.layerId.toString()))}function _(e){if(!e)return!1;const t=e.toLowerCase(),n=t.includes("/services/"),r=t.includes("/mapserver/wmsserver"),a=t.includes("/imageserver/wmsserver"),o=t.includes("/wmsserver");return n&&(r||a||o)}},51029:function(e,t,n){n.d(t,{d:function(){return c},f:function(){return u},j:function(){return g},p:function(){return h},y:function(){return m}});var r=n(76151),a=n(98503);class o{constructor(){this.code=null,this.description=null}}class s{constructor(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function u(e){return new s(e)}class i{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new i(e)}const l=new Set;function h(e,t,n,r=!1){l.clear();for(const o in n){const s=e.get(o);if(!s)continue;const i=f(s,n[o]);if(l.add(s.name),s&&(r||s.editable)){const e=(0,a.cc)(s,i);if(e)return u((0,a.cd)(e,s,i));t[s.name]=i}}for(const a of e.requiredFields??[])if(!l.has(a.name))return u(`missing required field "${a.name}"`);return null}function f(e,t){let n=t;return(0,a.ah)(e)&&"string"==typeof t?n=parseFloat(t):(0,a.ce)(e)&&null!=t&&"string"!=typeof t?n=String(t):(0,a.ag)(e)&&"string"==typeof t&&(n=(0,r.n)(t)),(0,a.cf)(n)}let d;function m(e,t){if(!e||!(0,a.cg)(t))return e;if("rings"in e||"paths"in e){if(null==d)throw new TypeError("geometry engine not loaded");return d.simplify(t,e)}return e}async function p(){return null==d&&(d=await Promise.all([n.e(916),n.e(937)]).then(n.bind(n,54752)).then((e=>e.g))),d}async function g(e,t){!(0,a.cg)(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t||await p()}},90211:function(e,t,n){n.d(t,{E:function(){return E},L:function(){return P},_:function(){return F},a:function(){return a},j:function(){return R},m:function(){return g},o:function(){return u},p:function(){return C},q:function(){return x},s:function(){return s},x:function(){return w},y:function(){return b},z:function(){return T}});var r=n(25209);function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function i(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function c(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function l(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function f(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function d(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function m(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function p(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function g(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function y(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function _(e,t){const n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(n*n+r*r+a*a+o*o)}function w(e,t){const n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],o=t[3]-e[3];return n*n+r*r+a*a+o*o}function x(e){const t=e[0],n=e[1],r=e[2],a=e[3];return Math.sqrt(t*t+n*n+r*r+a*a)}function C(e){const t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a}function S(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function M(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function b(e,t){const n=t[0],r=t[1],a=t[2],o=t[3];let s=n*n+r*r+a*a+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=n*s,e[1]=r*s,e[2]=a*s,e[3]=o*s),e}function R(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function F(e,t,n,r){const a=t[0],o=t[1],s=t[2],u=t[3];return e[0]=a+r*(n[0]-a),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e[3]=u+r*(n[3]-u),e}function v(e,t=1){const n=r.o;let a,o,s,u,i,c;do{a=2*n()-1,o=2*n()-1,i=a*a+o*o}while(i>=1);do{s=2*n()-1,u=2*n()-1,c=s*s+u*u}while(c>=1);const l=Math.sqrt((1-i)/c);return e[0]=t*a,e[1]=t*o,e[2]=t*s*l,e[3]=t*u*l,e}function T(e,t,n){const r=t[0],a=t[1],o=t[2],s=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*o+n[12]*s,e[1]=n[1]*r+n[5]*a+n[9]*o+n[13]*s,e[2]=n[2]*r+n[6]*a+n[10]*o+n[14]*s,e[3]=n[3]*r+n[7]*a+n[11]*o+n[15]*s,e}function I(e,t,n){const r=t[0],a=t[1],o=t[2],s=n[0],u=n[1],i=n[2],c=n[3],l=c*r+u*o-i*a,h=c*a+i*r-s*o,f=c*o+s*a-u*r,d=-s*r-u*a-i*o;return e[0]=l*c+d*-s+h*-i-f*-u,e[1]=h*c+d*-u+f*-s-l*-i,e[2]=f*c+d*-i+l*-u-h*-s,e[3]=t[3],e}function q(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function E(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function P(e,t){const n=e[0],a=e[1],o=e[2],s=e[3],u=t[0],i=t[1],c=t[2],l=t[3],h=(0,r.e)();return Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-i)<=h*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(s-l)<=h*Math.max(1,Math.abs(s),Math.abs(l))}const j=i,O=c,L=l,N=_,U=w,k=x,Q=C;Object.freeze(Object.defineProperty({__proto__:null,add:u,ceil:h,copy:a,copyVec3:o,dist:N,distance:_,div:L,divide:l,dot:R,equals:P,exactEquals:E,floor:f,inverse:M,len:k,length:x,lerp:F,max:m,min:d,mul:O,multiply:c,negate:S,normalize:b,random:v,round:p,scale:g,scaleAndAdd:y,set:s,sqrDist:U,sqrLen:Q,squaredDistance:w,squaredLength:C,str:q,sub:j,subtract:i,transformMat4:T,transformQuat:I},Symbol.toStringTag,{value:"Module"}))},83448:function(e,t,n){function r(){return[0,0,0,0]}function a(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,n,r){return[e,t,n,r]}function s(e,t,n,r){return[e,t,n,r]}function u(e,t=r()){const n=Math.min(4,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function i(e,t){return new Float64Array(e,t,4)}function c(){return r()}function l(){return o(1,1,1,1)}function h(){return o(1,0,0,0)}function f(){return o(0,1,0,0)}function d(){return o(0,0,1,0)}function m(){return o(0,0,0,1)}n.d(t,{N:function(){return g},e:function(){return s},n:function(){return r},r:function(){return o},s:function(){return p},u:function(){return u}});const p=c(),g=l(),y=h(),_=f(),w=d(),x=m();Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_W:x,UNIT_X:y,UNIT_Y:_,UNIT_Z:w,ZEROS:p,clone:a,create:r,createView:i,freeze:s,fromArray:u,fromValues:o,ones:l,unitW:m,unitX:h,unitY:f,unitZ:d,zeros:c},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=8560.18baf34d.js.map