"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[4284,8252],{50027:function(e,t,n){n.d(t,{a:function(){return a},l:function(){return u},s:function(){return o}});var r=n(98503),i=n(78546);const o={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}},s={read:{reader:i.n},write:{allowNull:!0,writer:i.a}},a={json:{read:!1,write:!1,origins:{"web-map":s,"portal-item":s}}},u=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,r.k)([(0,r.o)(o)],t.prototype,"blendMode",void 0),(0,r.k)([(0,r.o)(a)],t.prototype,"effect",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.BlendLayer")],t),t}},39394:function(e,t,n){n.d(t,{h:function(){return m},n:function(){return u}});var r,i=n(98503),o=n(64131);let s=r=class extends i.v{constructor(e){super(e)}async collectRequiredFields(e,t){return(0,i.fq)(e,t,this.expression)}clone(){return new r({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};(0,i.k)([(0,i.o)({type:String,json:{write:!0}})],s.prototype,"expression",void 0),(0,i.k)([(0,i.o)({type:String,json:{write:!0}})],s.prototype,"title",void 0),s=r=(0,i.k)([(0,i.A)("esri.symbols.support.FeatureExpressionInfo")],s);const a=s;function u(e){return 1/(o.m[e]||1)}function l(){const e=Object.keys(o.m);return(0,i.eW)(e,"decimal-degrees"),e.sort(),e}const c=l();var p;const f=(0,i.g)()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),h=new i.ax({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let d=p=class extends i.v{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return e??(t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0)}writeFeatureExpressionInfo(e,t,n,r){t[n]=e.write({},r),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=e||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new p({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&(0,i.fr)(this.featureExpressionInfo,e.featureExpressionInfo)}};(0,i.k)([(0,i.o)({type:a,json:{write:!0}})],d.prototype,"featureExpressionInfo",void 0),(0,i.k)([(0,i.u)("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],d.prototype,"readFeatureExpressionInfo",null),(0,i.k)([(0,i.q)("featureExpressionInfo",{featureExpressionInfo:{type:a},"featureExpression.value":{type:[0]}})],d.prototype,"writeFeatureExpressionInfo",null),(0,i.k)([(0,i.o)({type:f.apiValues,nonNullable:!0,json:{type:f.jsonValues,read:f.read,write:{writer:f.write,isRequired:!0}}})],d.prototype,"mode",null),(0,i.k)([(0,i.o)({type:Number,json:{write:!0}})],d.prototype,"offset",void 0),(0,i.k)([(0,i.o)({type:c,json:{type:String,read:h.read,write:h.write}})],d.prototype,"unit",null),d=p=(0,i.k)([(0,i.A)("esri.symbols.support.ElevationInfo")],d);const m=d},28252:function(e,t,n){n.d(t,{f:function(){return u}});var r=n(98503),i=n(50257);async function o(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:i}=await Promise.all([n.e(2031),n.e(7489)]).then(n.bind(n,67489)).then((e=>e.p));try{return await i(t)}catch(o){const e=t?.portalItem,n=e?.id||"unset",i=e?.portal?.url||r.H.portalUrl;throw r.n.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+i+"', id: '"+n+"')",o),o}}let s=0,a=class extends(r.bP.EventedMixin((0,r.da)(r.e))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new r.au(-180,-90,180,90,r.B.WGS84),this.id=Date.now().toString(16)+"-layer-"+s++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=r.B.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await Promise.all([n.e(2031),n.e(8529)]).then(n.bind(n,58529))).fromUrl(t)}static fromPortalItem(e){return o(e)}initialize(){this.when().catch((e=>{(0,r.E)(e)||r.n.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,r.I)(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,r.U)(e,{query:{f:"json"},responseType:"json"})).data;throw new r.s("layer:no-attribution-data","Layer does not have attribution data")}};(0,r.k)([(0,r.o)({type:String})],a.prototype,"attributionDataUrl",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"effectiveVisible",null),(0,r.k)([(0,r.o)({type:r.au})],a.prototype,"fullExtent",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"hasAttributionData",null),(0,r.k)([(0,r.o)({type:String,clonable:!1})],a.prototype,"id",void 0),(0,r.k)([(0,r.o)({type:Boolean,nonNullable:!0})],a.prototype,"legendEnabled",void 0),(0,r.k)([(0,r.o)({type:["show","hide","hide-children"]})],a.prototype,"listMode",void 0),(0,r.k)([(0,r.o)({type:Number,range:{min:0,max:1},nonNullable:!0})],a.prototype,"opacity",void 0),(0,r.k)([(0,r.o)({clonable:!1})],a.prototype,"parent",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],a.prototype,"parsedUrl",null),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],a.prototype,"persistenceEnabled",void 0),(0,r.k)([(0,r.o)({type:Boolean})],a.prototype,"popupEnabled",void 0),(0,r.k)([(0,r.o)({type:Boolean})],a.prototype,"attributionVisible",void 0),(0,r.k)([(0,r.o)({type:r.B})],a.prototype,"spatialReference",void 0),(0,r.k)([(0,r.o)({type:String})],a.prototype,"title",void 0),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1}})],a.prototype,"type",void 0),(0,r.k)([(0,r.o)()],a.prototype,"url",void 0),(0,r.k)([(0,r.o)({type:i.p})],a.prototype,"visibilityTimeExtent",void 0),(0,r.k)([(0,r.o)({type:Boolean,nonNullable:!0})],a.prototype,"visible",void 0),a=(0,r.k)([(0,r.A)("esri.layers.Layer")],a);const u=a},75187:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ee}});var r=n(98503),i=n(88012),o=n(28252),s=n(50027),a=n(20784),u=n(50293),l=n(83424),c=n(92413),p=n(69852),f=n(10769),h=n(69539),d=n(39967),m=n(49555),y=n(74855),g=n(77998),v=n(25209),b=n(78124),w=n(63600),x=n(25938);let M=class extends r.g0{projectOrWarn(e,t){if(null==e)return e;const{geometry:n,pending:i}=(0,m.V)(e,t);return i?null:i||n?n:(r.n.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}};M=(0,r.k)([(0,r.A)("esri.layers.support.GeoreferenceBase")],M);const S=M,_=(0,f.e)(),I=(0,d.n)();let E=class extends r.v{};(0,r.k)([(0,r.o)({type:Number,json:{write:!0}})],E.prototype,"x",void 0),(0,r.k)([(0,r.o)({type:Number,json:{write:!0}})],E.prototype,"y",void 0),E=(0,r.k)([(0,r.A)("esri.layers.support.ControlPointsGeoreference.ControlPointJSONType")],E);let k=class extends r.g0{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,r.k)([(0,r.o)()],k.prototype,"sourcePoint",void 0),(0,r.k)([(0,r.o)({type:r.bv})],k.prototype,"mapPoint",void 0),k=(0,r.k)([(0,r.A)("esri.layers.support.ControlPointsGeoreference.ControlPoint")],k);let A=class extends((0,r.d9)(S)){constructor(e){super(e),this.controlPoints=null,this.height=0,this.type="control-points",this.width=0}readControlPoints(e,t){const n=r.B.fromJSON(t.spatialReference),i=(0,f.t)(...t.coefficients,1);return e.map((e=>((0,h.o)(I,e.x,e.y),(0,c.p)(I,I,i),{sourcePoint:e,mapPoint:new r.bv({x:I[0],y:I[1],spatialReference:n})})))}writeControlPoints(e,t,n,i){if(null!=this.transform)null!=e&&P(e[0])&&(t.controlPoints=e.map((e=>{const t=e.sourcePoint;return{x:t.x,y:t.y}})),t.spatialReference=e[0].mapPoint.spatialReference.toJSON(),t.coefficients=this.transform.slice(0,8));else{const e=new r.s("web-document-write:invalid-georeference","Invalid 'controlPoints', 'width', 'height' configuration. Make sure the parent media element is loaded i.e. the ImageElement or VideoElement set as 'MediaLayer.source'.",{layer:i?.layer,georeference:this});i?.messages?i.messages.push(e):r.n.getLogger(this).error(e.name,e.message)}}get coords(){if(null==this.controlPoints)return null;const e=this._updateTransform(_);if(null==e||!P(this.controlPoints[0]))return null;const t=this.controlPoints[0].mapPoint.spatialReference;return z(e,this.width,this.height,t)}set coords(e){if(null==this.controlPoints||!P(this.controlPoints[0]))return;const t=this.controlPoints[0].mapPoint.spatialReference;if(null==(e=this.projectOrWarn(e,t)))return;const{width:n,height:i}=this,{rings:[[o,s,a,u]]}=e,l={sourcePoint:(0,r.eU)(0,i),mapPoint:new r.bv({x:o[0],y:o[1],spatialReference:t})},p={sourcePoint:(0,r.eU)(0,0),mapPoint:new r.bv({x:s[0],y:s[1],spatialReference:t})},f={sourcePoint:(0,r.eU)(n,0),mapPoint:new r.bv({x:a[0],y:a[1],spatialReference:t})},d={sourcePoint:(0,r.eU)(n,i),mapPoint:new r.bv({x:u[0],y:u[1],spatialReference:t})};P(l)&&P(p)&&P(f)&&P(d)&&(F(_,l,p,f,d),this.controlPoints=this.controlPoints.map((({sourcePoint:e})=>((0,h.o)(I,e.x,e.y),(0,c.p)(I,I,_),{sourcePoint:e,mapPoint:new r.bv({x:I[0],y:I[1],spatialReference:t})}))))}get inverseTransform(){return null==this.transform?null:(0,p.s)((0,f.e)(),this.transform)}get transform(){return this._updateTransform()}toMap(e){if(null==e||null==this.transform||null==this.controlPoints||!P(this.controlPoints[0]))return null;(0,h.o)(I,e.x,e.y);const t=this.controlPoints[0].mapPoint.spatialReference;return(0,c.p)(I,I,this.transform),new r.bv({x:I[0],y:I[1],spatialReference:t})}toSource(e){if(null==e||null==this.inverseTransform||null==this.controlPoints||!P(this.controlPoints[0]))return null;const t=this.controlPoints[0].mapPoint.spatialReference;return e=e.normalize(),null==(e=(0,m.V)(e,t).geometry)?null:((0,h.o)(I,e.x,e.y),(0,c.p)(I,I,this.inverseTransform),(0,r.eU)(I[0],I[1]))}toSourceNormalized(e){const t=this.toSource(e);return null!=t&&(t.x/=this.width,t.y/=this.height),t}_updateTransform(e){const{controlPoints:t,width:n,height:r}=this;if(!(null!=t&&n>0&&r>0))return null;const[i,o,s,a]=t;if(!P(i))return null;const u=i.mapPoint.spatialReference,l=this._projectControlPoint(o,u),c=this._projectControlPoint(s,u),p=this._projectControlPoint(a,u);if(!l.valid||!c.valid||!p.valid||!P(l.controlPoint))return null;null==e&&(e=(0,f.e)());let h=null;return h=P(c.controlPoint)&&P(p.controlPoint)?F(e,i,l.controlPoint,c.controlPoint,p.controlPoint):P(c.controlPoint)?V(e,i,l.controlPoint,c.controlPoint):q(e,i,l.controlPoint),h.every((e=>0===e))?null:h}_projectControlPoint(e,t){if(!P(e))return{valid:!0,controlPoint:e};const{sourcePoint:n,mapPoint:i}=e,{geometry:o,pending:s}=(0,m.V)(i,t);return s?{valid:!1,controlPoint:null}:s||o?{valid:!0,controlPoint:{sourcePoint:n,mapPoint:o}}:(r.n.getLogger(this).warn("map point could not be projected to the spatial reference",{georeference:this,controlPoint:e,sourceSpatialReference:i.spatialReference,targetSpatialReference:t}),{valid:!1,controlPoint:null})}};function P(e){return null!=e?.sourcePoint&&null!=e.mapPoint}(0,r.k)([(0,r.o)({type:[k],json:{write:{allowNull:!1,isRequired:!0,target:{controlPoints:{type:[E]},coefficients:{type:[Number]},spatialReference:{type:r.B}}}}})],A.prototype,"controlPoints",void 0),(0,r.k)([(0,r.u)("controlPoints")],A.prototype,"readControlPoints",null),(0,r.k)([(0,r.q)("controlPoints")],A.prototype,"writeControlPoints",null),(0,r.k)([(0,r.o)({clonable:!1})],A.prototype,"coords",null),(0,r.k)([(0,r.o)({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,"height",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],A.prototype,"inverseTransform",null),(0,r.k)([(0,r.o)({readOnly:!0})],A.prototype,"transform",null),(0,r.k)([(0,r.o)({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,"width",void 0),A=(0,r.k)([(0,r.A)("esri.layers.support.ControlPointsGeoreference")],A);const T=(0,d.n)(),L=(0,d.n)(),O=(0,d.n)(),R=(0,d.n)(),j=(0,d.n)(),C=(0,d.n)(),N=(0,d.n)(),G=(0,d.n)(),U=Math.PI/2;function D(e,t,n){(0,h.o)(e,n.sourcePoint.x,n.sourcePoint.y),(0,h.o)(t,n.mapPoint.x,n.mapPoint.y)}function q(e,t,n){return D(T,j,t),D(L,C,n),(0,h.I)(O,L,T,U),(0,h.I)(R,T,L,U),(0,h.I)(N,C,j,-U),(0,h.I)(G,j,C,-U),H(e,T,L,O,R,j,C,N,G)}function V(e,t,n,r){return D(T,j,t),D(L,C,n),D(O,N,r),(0,h._)(R,T,L,.5),(0,h.I)(R,O,R,Math.PI),(0,h._)(G,j,C,.5),(0,h.I)(G,N,G,Math.PI),H(e,T,L,O,R,j,C,N,G)}function F(e,t,n,r,i){return D(T,j,t),D(L,C,n),D(O,N,r),D(R,G,i),H(e,T,L,O,R,j,C,N,G)}const B=new Array(8).fill(0),$=new Array(8).fill(0);function W(e,t,n,r,i){return e[0]=t[0],e[1]=t[1],e[2]=n[0],e[3]=n[1],e[4]=r[0],e[5]=r[1],e[6]=i[0],e[7]=i[1],e}function H(e,t,n,r,i,o,s,a,u){return(0,c.j)(e,W(B,t,n,r,i),W($,o,s,a,u))}function z(e,t,n,i){const o=(0,d.r)(0,n),s=(0,d.r)(0,0),a=(0,d.r)(t,0),u=(0,d.r)(t,n);return(0,c.p)(o,o,e),(0,c.p)(s,s,e),(0,c.p)(a,a,e),(0,c.p)(u,u,e),new r.bC({rings:[[o,s,a,u,o]],spatialReference:i})}const J=A,Y=(0,d.n)();let K=class extends S{constructor(e){super(e),this.bottomLeft=null,this.bottomRight=null,this.topLeft=null,this.topRight=null,this.type="corners"}get coords(){let{topLeft:e,topRight:t,bottomLeft:n,bottomRight:i}=this;if(null==e||null==t||null==n||null==i)return null;const o=e.spatialReference;return t=this.projectOrWarn(t,o),n=this.projectOrWarn(n,o),i=this.projectOrWarn(i,o),null==t||null==n||null==i?null:new r.bC({rings:[[[n.x,n.y],[e.x,e.y],[t.x,t.y],[i.x,i.y],[n.x,n.y]]],spatialReference:o})}set coords(e){const{topLeft:t}=this;if(null==t)return;const n=t.spatialReference;if(null==(e=this.projectOrWarn(e,n)))return;const{rings:[[i,o,s,a]]}=e;this.bottomLeft=new r.bv({x:i[0],y:i[1],spatialReference:n}),this.topLeft=new r.bv({x:o[0],y:o[1],spatialReference:n}),this.topRight=new r.bv({x:s[0],y:s[1],spatialReference:n}),this.bottomRight=new r.bv({x:a[0],y:a[1],spatialReference:n})}toSourceNormalized(e){const{topLeft:t,topRight:n,bottomRight:i,bottomLeft:o}=this;if(null==e||null==t||null==n||null==i||null==o)return null;const s=t.spatialReference;e=e.normalize();const a=(0,m.V)(e,s).geometry;if(null==a)return null;(0,h.o)(Y,a.x,a.y);const u=(0,c.j)((0,f.e)(),[t.x,t.y,o.x,o.y,n.x,n.y,i.x,i.y],[0,0,0,1,1,0,1,1]);return(0,c.p)(Y,Y,u),(0,r.eU)(Y[0],Y[1])}};(0,r.k)([(0,r.o)({clonable:!1})],K.prototype,"coords",null),(0,r.k)([(0,r.o)({type:r.bv})],K.prototype,"bottomLeft",void 0),(0,r.k)([(0,r.o)({type:r.bv})],K.prototype,"bottomRight",void 0),(0,r.k)([(0,r.o)({type:r.bv})],K.prototype,"topLeft",void 0),(0,r.k)([(0,r.o)({type:r.bv})],K.prototype,"topRight",void 0),K=(0,r.k)([(0,r.A)("esri.layers.support.CornersGeoreference")],K);const X=K;let Z=class extends S{constructor(e){super(e),this.extent=null,this.rotation=0,this.type="extent-and-rotation"}get coords(){if(null==this.extent)return null;const{xmin:e,ymin:t,xmax:n,ymax:i,spatialReference:o}=this.extent;let s;if(this.rotation){const{x:r,y:o}=this.extent.center,a=Q(r,o,this.rotation);s=[a(e,t),a(e,i),a(n,i),a(n,t)],s.push(s[0])}else s=[[e,t],[e,i],[n,i],[n,t],[e,t]];return new r.bC({rings:[s],spatialReference:o})}set coords(e){if(null==e||null==this.extent)return;const t=this.extent.spatialReference;if(e=this.projectOrWarn(e,t),null==e?.extent)return;const{rings:[[n,i,o]],extent:{center:{x:s,y:a}}}=e,u=(0,r.dg)(Math.PI/2-Math.atan2(i[1]-n[1],i[0]-n[0])),l=Q(s,a,-u),[c,p]=l(n[0],n[1]),[f,h]=l(o[0],o[1]);this.extent=new r.au({xmin:c,ymin:p,xmax:f,ymax:h,spatialReference:t}),this.rotation=u}toSourceNormalized(e){const{extent:t,rotation:n}=this;if(null==e||null==t)return null;const{xmin:i,ymin:o,xmax:s,ymax:a,center:u,spatialReference:l}=t;e=e.normalize();const c=(0,m.V)(e,l).geometry;if(null==c)return null;let p=c.x,f=c.y;return n&&([p,f]=Q(u.x,u.y,-n)(p,f)),(0,r.eU)((0,r.i5)(p,i,s,0,1),(0,r.i5)(f,a,o,0,1))}};function Q(e,t,n){const r=(0,v.u)(n),i=Math.cos(r),o=Math.sin(r);return(n,r)=>[i*(n-e)+o*(r-t)+e,i*(r-t)-o*(n-e)+t]}(0,r.k)([(0,r.o)({clonable:!1})],Z.prototype,"coords",null),(0,r.k)([(0,r.o)({type:r.au})],Z.prototype,"extent",void 0),(0,r.k)([(0,r.o)({type:Number})],Z.prototype,"rotation",void 0),Z=(0,r.k)([(0,r.A)("esri.layers.support.ExtentAndRotationGeoreference")],Z);const ee=Z;function te(e){return"media"===e?.type}function ne(e,t){const n=(0,r.bl)(t);return te(e)&&!!e.portalItem&&null!=n&&n>r.bm.PORTAL_ITEM}function re(e,t,n){if(!e||"control-points"===e.type)return e;const{coords:i}=e;if(5!==i?.rings[0]?.length)return null;const[o,s,a,u]=i.rings[0],{spatialReference:l}=i;return new J({controlPoints:[{mapPoint:new r.bv({x:o[0],y:o[1],spatialReference:l}),sourcePoint:(0,r.eU)(0,n)},{mapPoint:new r.bv({x:s[0],y:s[1],spatialReference:l}),sourcePoint:(0,r.eU)(0,0)},{mapPoint:new r.bv({x:a[0],y:a[1],spatialReference:l}),sourcePoint:(0,r.eU)(t,0)},{mapPoint:new r.bv({x:u[0],y:u[1],spatialReference:l}),sourcePoint:(0,r.eU)(t,n)}],width:t,height:n})}function ie(e,t,n){return{enabled:!ne(n?.layer,n?.origin),ignoreOrigin:!0}}const oe={json:{name:"url",type:String,write:{overridePolicy:ie}}},se={readOnly:!0,json:{read:!1,write:{target:"mediaType",overridePolicy:ie}}},ae={types:{key:"type",base:S,typeMap:{"control-points":J,corners:X,"extent-and-rotation":ee}},json:{types:{key:"type",base:S,typeMap:{"control-points":J}},write:{overridePolicy:()=>({enabled:!0,ignoreOrigin:!0})}}};let ue=class extends((0,r.i6)((0,i.S)(r.e))){constructor(e){super(e),this.georeference=null,this.opacity=1}readGeoreference(e){return J.fromJSON(e)}writeGeoreference(e,t,n,i){const o=i?.resources?.pendingOperations,s=()=>{const o=re(this.georeference,this.contentWidth,this.contentHeight);if(o){if("control-points"!==e.type&&r.n.getLogger(this).warn(`only georeference of type 'control-points' may be persisted. The georeference of type '${e.type}' has been automatically converted.`),4!==o.controlPoints?.length&&i?.messages)return void i.messages.push(new r.s("property:unsupported","only 'control-points' georeference with 4 control points may be persisted."));t[n]=o.write({},i)}};if("control-points"!==e.type&&!this.loaded&&o)return t[n]={},void o.push(this.load().then(s));s()}get contentWidth(){return 0}get contentHeight(){return 0}toSource(e){const{georeference:t,contentWidth:n,contentHeight:r}=this;if(null==e||null==t||0===n||0===r)return null;const i=t.toSourceNormalized(e);return null==i?null:(i.x*=n,i.y*=r,i)}};(0,r.k)([(0,r.o)(ae)],ue.prototype,"georeference",void 0),(0,r.k)([(0,r.u)("georeference")],ue.prototype,"readGeoreference",null),(0,r.k)([(0,r.q)("georeference")],ue.prototype,"writeGeoreference",null),(0,r.k)([(0,r.o)({json:{read:!1,write:!1}})],ue.prototype,"opacity",void 0),ue=(0,r.k)([(0,r.A)("esri.layers.support.MediaElementBase")],ue);const le=ue;let ce=class extends le{constructor(e){super(e),this.animationOptions=null,this.content=null,this.image=null,this.type="image",this.image=null}load(){const e=this.image;if("string"==typeof e){const t=(0,y.p)(e).then((e=>{this._set("content",e)}));this.addResolvingPromise(t)}else if(e instanceof HTMLImageElement){const t=e.decode().then((()=>{this._set("content",e)}));this.addResolvingPromise(t)}else e?this._set("content",e):this.addResolvingPromise(Promise.reject(new r.s("image-element:invalid-image-type","Invalid image type",{image:e})));return Promise.resolve(this)}get contentWidth(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalWidth:this.content.width}get contentHeight(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalHeight:this.content.height}readImage(e,t,n){return(0,r.p)(t.url,n)}writeImage(e,t,n,i){if(null==e)return;const o=i?.portalItem,s=i?.resources;if(!o||!s)return void("string"==typeof e&&(t[n]=(0,r.dk)(e,i)));const a=fe(e)?e:null;if(a){if(null==(0,r.dn)(a))return void(t[n]=a);const e=(0,r.dk)(a,{...i,verifyItemRelativeUrls:i?.verifyItemRelativeUrls?{writtenUrls:i.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},r.dl.NO);if(o&&e&&!(0,r.dm)(e))return s.toKeep.push({resource:o.resourceFromPath(e),compress:!1}),void(t[n]=e)}t[n]="<pending>",s.pendingOperations.push(he(e).then((e=>{const r=me(e,o);t[n]=r.itemRelativeUrl,s.toAdd.push({resource:r,content:{type:"blob",blob:e},compress:!1,finish:e=>{this.image=e.url}})})))}};(0,r.k)([(0,r.o)()],ce.prototype,"animationOptions",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],ce.prototype,"content",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],ce.prototype,"contentWidth",null),(0,r.k)([(0,r.o)({readOnly:!0})],ce.prototype,"contentHeight",null),(0,r.k)([(0,r.o)(oe)],ce.prototype,"image",void 0),(0,r.k)([(0,r.u)("image",["url"])],ce.prototype,"readImage",null),(0,r.k)([(0,r.q)("image")],ce.prototype,"writeImage",null),(0,r.k)([(0,r.o)(se)],ce.prototype,"type",void 0),ce=(0,r.k)([(0,r.A)("esri.layers.support.ImageElement")],ce);const pe=ce;function fe(e){return"string"==typeof e&&!(0,r.fd)(e)&&!(0,r.dp)(e)}async function he(e){return"string"==typeof e?(0,r.fd)(e)?(0,r.i7)(e):(await(0,r.U)(e,{responseType:"blob"})).data:new Promise((t=>de(e).toBlob(t)))}function de(e){if(e instanceof HTMLCanvasElement)return e;const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,n=e instanceof HTMLImageElement?e.naturalHeight:e.height,r=document.createElement("canvas"),i=r.getContext("2d");return r.width=t,r.height=n,e instanceof HTMLImageElement?i.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&i.putImageData(e,0,0),r}function me(e,t){const n=(0,g.n)(),i=`${(0,r.Z)("media",n)}.${(0,b.p)({type:"blob",blob:e})}`;return t.resourceFromPath(i)}let ye=class extends le{constructor(e){super(e),this.autoplay=!0,this.content=null,this.type="video"}load(){const e=this.video;return"string"==typeof e?this.addResolvingPromise(this._preProcessVideoUrl(e).then((e=>{const t=document.createElement("video");return t.src=e,t.crossOrigin="anonymous",t.autoplay=!0,t.muted=!0,t.loop=!0,t.playsInline=!0,this._loadVideo(t).then((()=>{this._set("content",t)}))}))):e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then((()=>{this._set("content",e)}))):this.addResolvingPromise(Promise.reject(new r.s("video-element:invalid-video-type","Invalid video type",{video:e}))),Promise.resolve(this)}get contentWidth(){return this.content?.videoWidth??0}get contentHeight(){return this.content?.videoHeight??0}set video(e){"not-loaded"===this.loadStatus?this._set("video",e):r.n.getLogger(this).error("#video","video cannot be changed after the element is loaded.")}writeVideo(e,t,n,i){if(!e)return void(i?.messages&&i.messages.push(new r.s("video-element:unsupported-video","video source is missing")));const o=ve(e)?e:null;if(!o)return void(i?.messages&&i.messages.push(new r.s("video-element:unsupported-video","video source must be an absolute url")));!(0,r.dm)(o)&&i?.blockedRelativeUrls&&i.blockedRelativeUrls.push(o);const s=(0,r.bx)(o);(0,r.dn)(s)?i?.messages&&i.messages.push(new r.s("video-element:unsupported-video","video source cannot be an item resource")):t[n]=s}async _preProcessVideoUrl(e){if((0,r.gZ)(e))return(0,r.d4)(e);try{return await(0,r.U)(e,{method:"head"}),e}catch{return(0,r.d4)(e,!0)}}_loadVideo(e){return new Promise(((t,n)=>{const i=(0,r.i8)(e,"canplay",(()=>{this.removeHandles("canplay"),this.autoplay?e.play().then(t,n):t()}));this.addHandles(i,"canplay"),"anonymous"!==e.crossOrigin&&(e.crossOrigin="anonymous",(0,r.dp)(e.src)||(e.src=e.src))}))}};(0,r.k)([(0,r.o)()],ye.prototype,"autoplay",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],ye.prototype,"content",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],ye.prototype,"contentWidth",null),(0,r.k)([(0,r.o)({readOnly:!0})],ye.prototype,"contentHeight",null),(0,r.k)([(0,r.o)(oe)],ye.prototype,"video",null),(0,r.k)([(0,r.q)("video")],ye.prototype,"writeVideo",null),(0,r.k)([(0,r.o)(se)],ye.prototype,"type",void 0),ye=(0,r.k)([(0,r.A)("esri.layers.support.VideoElement")],ye);const ge=ye;function ve(e){return"string"==typeof e&&!(0,r.fd)(e)&&!(0,r.dp)(e)}const be={key:"type",defaultKeyValue:"image",base:le,typeMap:{image:pe,video:ge}},we=r.V.ofType(be);let xe=class extends(r.e.LoadableMixin((0,r.gs)(r.bP.EventedAccessor))){constructor(e){super(e),this._index=new w.o,this._elementViewsMap=new Map,this._elementsIndexes=new Map,this._elementsChangedHandler=e=>{for(const n of e.removed){const e=this._elementViewsMap.get(n);this._elementViewsMap.delete(n),this._index.delete(e),this.removeHandles(e),e.destroy(),this.notifyChange("fullExtent")}const{spatialReference:t}=this;for(const n of e.added){if(this._elementViewsMap.get(n))continue;const e=new c.m({spatialReference:t,element:n});this._elementViewsMap.set(n,e);const i=(0,r.aE)((()=>e.coords),(()=>this._updateIndexForElement(e,!1)));this._updateIndexForElement(e,!0),this.addHandles(i,e)}this._elementsIndexes.clear(),this.elements.forEach(((e,t)=>this._elementsIndexes.set(e,t))),this.emit("refresh")},this.elements=new we}async load(e){if((0,r.D)(e),!this.spatialReference){const e=this.elements.find((e=>null!=e.georeference?.coords));this._set("spatialReference",e?e.georeference.coords.spatialReference:r.B.WGS84)}return this._elementsChangedHandler({added:this.elements.items,removed:[]}),this.addHandles(this.elements.on("change",this._elementsChangedHandler)),this}destroy(){this._index.clear(),this._elementViewsMap.clear(),this._elementsIndexes.clear()}set elements(e){this._set("elements",(0,r.cW)(e,this._get("elements"),we))}get fullExtent(){if("not-loaded"===this.loadStatus)return null;const e=this._index.fullBounds;return null==e?null:new r.au({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:this.spatialReference})}set spatialReference(e){"not-loaded"===this.loadStatus?this._set("spatialReference",e):r.n.getLogger(this).error("#spatialReference","spatialReference cannot be changed after the source is loaded.")}async queryElements(e,t){await this.load(),await(0,m.N)(e.spatialReference,this.spatialReference,null,t);const n=(0,r.bh)(e.spatialReference,this.spatialReference)?e:(0,m.K)(e,this.spatialReference);if(!n)return[];const i=n.normalize(),o=[];for(const s of i)this._index.forEachInBounds((0,r.eR)(s),(({normalizedCoords:e,element:t})=>{null!=e&&(0,r.gE)(s,e)&&o.push(t)}));return o.sort(((e,t)=>this._elementsIndexes.get(e)-this._elementsIndexes.get(t))),o}hasElement(e){return this.elements.includes(e)}_updateIndexForElement(e,t){const n=e.normalizedBounds,r=this._index.has(e),i=null!=n;this._index.delete(e),i&&this._index.set(e,n),this.notifyChange("fullExtent"),t||(r!==i?this.emit("refresh"):this.emit("change",{element:e.element}))}};(0,r.k)([(0,r.o)()],xe.prototype,"elements",null),(0,r.k)([(0,r.o)({readOnly:!0})],xe.prototype,"fullExtent",null),(0,r.k)([(0,r.o)()],xe.prototype,"spatialReference",null),xe=(0,r.k)([(0,r.A)("esri.layers.support.LocalMediaElementSource")],xe);const Me=xe;function Se(e){return"object"==typeof e&&null!=e&&"type"in e}function _e(e){return Se(e)&&("image"===e.type||"video"===e.type)}let Ie=class extends((0,s.l)((0,l.t)((0,a.b)((0,u.j)((0,i.S)(o.f)))))){constructor(e){super(e),this.effectiveSource=null,this.georeference=null,this.copyright=null,this.operationalLayerType="MediaLayer",this.spatialReference=null,this.type="media",this._debouncedSaveOperations=(0,r.dA)((async(e,t,r)=>{const{save:i,saveAs:o}=await n.e(9634).then(n.bind(n,19634));switch(e){case x.A.SAVE:return i(this,t);case x.A.SAVE_AS:return o(this,r,t)}})),this.source=new Me}load(e){return this.addResolvingPromise(this._doLoad(e)),Promise.resolve(this)}async _doLoad(e){await this.loadFromPortal({supportedTypes:["Media Layer"]},e);let t=this.source;if(!t)throw new r.s("media-layer:source-missing","Set 'MediaLayer.source' before loading the layer.");const n=this._getSourceOverride(t,this.georeference);n&&(this.setAtOrigin("source",n,"web-map"),this.setAtOrigin("source",n,"web-scene"),t=n);const i=Se(t)?new Me({elements:new r.V([t])}):t;this._set("effectiveSource",i),this.spatialReference&&(i.spatialReference=this.spatialReference),await i.load(e),this.spatialReference=i.spatialReference}destroy(){this.effectiveSource?.destroy(),this.effectiveSource!==this.source&&this.source?.destroy()}readGeoreference(e,t){return e&&"itemId"in t&&t.itemId?e:void 0}get fullExtent(){return this.loaded?this.effectiveSource.fullExtent:null}set source(e){"loaded"!==this.loadStatus&&"failed"!==this.loadStatus?this._set("source",e):r.n.getLogger(this).error("#source","source cannot be changed after the layer is loaded.")}castSource(e){return e?Array.isArray(e)?new Me({elements:new r.V(e)}):e instanceof r.V?new Me({elements:e}):e:null}readSource(e,t,n){if("itemId"in t&&t.itemId)return;const r=this._createSource(t);return r?.read(t,n),r}writeSource(e,t,n,i){if(e&&e instanceof Me){const t=e.elements.length;if(1!==t)return void(i?.messages&&i.messages.push(new r.s("media-layer:unsupported-source",`local media element source can only be persisted if it contains exactly one ImageElement, but it has ${t}.`)));e=e.elements.at(0)}_e(e)?e.write(t,i):i?.messages&&(e?i.messages.push(new r.s("media-layer:unsupported-source","only media elements of type 'ImageElement' or 'VideoElement' can be persisted")):i.messages.push(new r.s("media-layer:unsupported-source","the media layer is missing a source")))}async save(e){return this._debouncedSaveOperations(x.A.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(x.A.SAVE_AS,t,e)}_createSource(e){if("mediaType"in e)switch(e.mediaType){case"image":return new pe;case"video":return new ge}return null}_getSourceOverride(e,t){if(Se(e)&&this.originIdOf("source")===r.bm.PORTAL_ITEM&&t&&(this.originIdOf("georeference")===r.bm.WEB_MAP||this.originIdOf("georeference")===r.bm.WEB_SCENE)){const n=e.toJSON(),r=this._createSource(n);return r.read({...n},{origin:"portal-item"}),r.read({georeference:t},{origin:"web-map"}),r.read({georeference:t},{origin:"web-scene"}),r}return null}};(0,r.k)([(0,r.o)({readOnly:!0})],Ie.prototype,"effectiveSource",void 0),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1,write:!1,origins:{"web-document":{read:!0}}}})],Ie.prototype,"georeference",void 0),(0,r.k)([(0,r.u)("web-document","georeference")],Ie.prototype,"readGeoreference",null),(0,r.k)([(0,r.o)({type:String})],Ie.prototype,"copyright",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],Ie.prototype,"fullExtent",null),(0,r.k)([(0,r.o)({type:["MediaLayer"]})],Ie.prototype,"operationalLayerType",void 0),(0,r.k)([(0,r.o)({type:["show","hide"]})],Ie.prototype,"listMode",void 0),(0,r.k)([(0,r.o)({nonNullable:!0,json:{write:{enabled:!0,allowNull:!1,target:{url:{type:String},mediaType:{type:["image","video"]},georeference:{type:J}},overridePolicy(e,t,n){return{enabled:!0,allowNull:!1,ignoreOrigin:ne(this,n?.origin)&&_e(e)&&!!e.georeference&&e.originIdOf("georeference")>r.bm.PORTAL_ITEM}}}}})],Ie.prototype,"source",null),(0,r.k)([(0,r.by)("source")],Ie.prototype,"castSource",null),(0,r.k)([(0,r.u)("source",["url"])],Ie.prototype,"readSource",null),(0,r.k)([(0,r.q)("source")],Ie.prototype,"writeSource",null),(0,r.k)([(0,r.o)()],Ie.prototype,"spatialReference",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],Ie.prototype,"type",void 0),Ie=(0,r.k)([(0,r.A)("esri.layers.MediaLayer")],Ie);const Ee=Ie},88012:function(e,t,n){n.d(t,{S:function(){return c},m:function(){return p}});var r=n(98503);class i{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(r.fi),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const t=new i,n=this._originStores[r.bm.DEFAULTS];n&&n.forEach(((e,n)=>{t.set(n,(0,r.f)(e),r.bm.DEFAULTS)}));for(let i=r.bm.SERVICE;i<r.fi;i++){const n=this._originStores[i];n&&n.forEach(((n,o)=>{e&&e.has(o)||t.set(o,(0,r.f)(n),i)}))}return t}get(e,t){const n=void 0===t?this._values:this._originStores[t];return n?n.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,n=r.bm.USER){let i=this._originStores[n];if(i||(i=new Map,this._originStores[n]=i),i.set(e,t),!this._values.has(e)||this._propertyOriginMap.get(e)<=n){const r=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,n),r!==t}return!1}delete(e,t=r.bm.USER){const n=this._originStores[t];if(!n)return;const i=n.get(e);if(n.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let n=t-1;n>=0;n--){const t=this._originStores[n];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,n);break}}}return i}has(e,t){const n=void 0===t?this._values:this._originStores[t];return!!n&&n.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const n=this._originStores[t],r=n?.get(e),i=this._values.get(e);return this._values.set(e,r),this._propertyOriginMap.set(e,t),i!==r}originOf(e){return this._propertyOriginMap.get(e)||r.bm.DEFAULTS}forEach(e){this._values.forEach(e)}}const o=e=>{let t=class extends e{constructor(...e){super(...e);const t=(0,r.bf)(this),n=t.store,o=new i;t.store=o,(0,r.fj)(t,n,o)}read(e,t){(0,r.fk)(this,e,t)}getAtOrigin(e,t){const n=s(this),i=(0,r.bl)(t);if("string"==typeof e)return n.get(e,i);const o={};return e.forEach((e=>{o[e]=n.get(e,i)})),o}originOf(e){return(0,r.dt)(this.originIdOf(e))}originIdOf(e){return s(this).originOf(e)}revert(e,t){const n=s(this),i=(0,r.bl)(t),o=(0,r.bf)(this);let a;a="string"==typeof e?"*"===e?n.keys(i):[e]:e,a.forEach((e=>{o.invalidate(e),n.revert(e,i),o.commit(e)}))}};return t=(0,r.k)([(0,r.A)("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function s(e){return(0,r.bf)(e).store}let a=class extends(o(r.aD)){};a=(0,r.k)([(0,r.A)("esri.core.ReadOnlyMultiOriginJSONSupport")],a);const u=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return l(this).delete(e,(0,r.bl)(t))}write(e,t){return(0,r.fl)(this,e=e||{},t),e}setAtOrigin(e,t,n){(0,r.bf)(this).setAtOrigin(e,t,(0,r.bl)(n))}removeOrigin(e){const t=l(this),n=(0,r.bl)(e),i=t.keys(n);for(const o of i)t.originOf(o)===n&&t.set(o,t.get(o,n),r.bm.USER)}updateOrigin(e,t){const n=l(this),i=(0,r.bl)(t),o=(0,r.fm)(this,e);for(let s=i+1;s<r.fi;++s)n.delete(e,s);n.set(e,o,i)}toJSON(e){return this.write({},e)}};return t=(0,r.k)([(0,r.A)("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function l(e){return(0,r.bf)(e).store}const c=e=>{let t=class extends(u(o(e))){constructor(...e){super(...e)}};return t=(0,r.k)([(0,r.A)("esri.core.MultiOriginJSONSupport")],t),t};let p=class extends(c(r.aD)){};p=(0,r.k)([(0,r.A)("esri.core.MultiOriginJSONSupport")],p)},20784:function(e,t,n){n.d(t,{b:function(){return c}});var r=n(98503),i=n(20014),o=n(50257);const s={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},a={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},u={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},l={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":s,"web-map/basemap":a,"web-map/tables":u,"link-chart/operational-layers":{...s,LinkChartLayer:!0},"link-chart/basemap":a,"link-chart/tables":u,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}},c=e=>{let t=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,t,n){return"Group Layer"===n?.portalItem?.type?void 0:e}writeListMode(e,t,n,i){(i&&"ground"===i.layerContainerType||e&&(0,r.dI)(this,n,{},i))&&(t[n]=e)}writeOperationalLayerType(e,t,n,r){e&&"tables"!==r?.layerContainerType&&(t.layerType=e)}writeTitle(e,t){t.title=e??"Layer"}readTimeExtent(e){return e?o.p.fromArray(e):null}writeTimeExtent(e,t,n,i){e&&"tables"!==i.layerContainerType&&(e.isEmpty?i?.messages&&i.messages.push(new r.s("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):t[n]=e.toArray())}read(e,t){t&&(t.layer=this),(0,r.dJ)(this,e,(t=>super.read(e,t)),t)}write(e,t){if(!this.persistenceEnabled&&!t?.ignorePersistenceEnabled)return null;if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`;let n=!!l[e]?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(n=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(n=!1),!n)return t.messages?.push(new r.s("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const n=super.write(e,{...t,layer:this}),i=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof r.s&&"web-document-write:property-required"===e.name)).length;return(0,r.dp)(n?.url)?(t?.messages?.push(new r.s("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&i?null:n}beforeSave(){}};return(0,r.k)([(0,r.o)({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),(0,r.k)([(0,r.u)("id",["id"])],t.prototype,"readId",null),(0,r.k)([(0,r.o)(i.I)],t.prototype,"listMode",void 0),(0,r.k)([(0,r.q)("listMode")],t.prototype,"writeListMode",null),(0,r.k)([(0,r.o)({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:i.a}}}}})],t.prototype,"operationalLayerType",void 0),(0,r.k)([(0,r.q)("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),(0,r.k)([(0,r.o)(i.f)],t.prototype,"opacity",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!1})],t.prototype,"persistenceEnabled",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),(0,r.k)([(0,r.q)("title"),(0,r.q)(["web-scene"],"title")],t.prototype,"writeTitle",null),(0,r.k)([(0,r.o)({type:o.p,json:{origins:{"web-scene":{write:{layerContainerTypes:i.a}}}}})],t.prototype,"visibilityTimeExtent",void 0),(0,r.k)([(0,r.u)("visibilityTimeExtent")],t.prototype,"readTimeExtent",null),(0,r.k)([(0,r.q)(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[r.bp,r.dH]]}})],t.prototype,"writeTimeExtent",null),(0,r.k)([(0,r.o)({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:i.a}}},name:"visibility",write:!0}})],t.prototype,"visible",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.OperationalLayer")],t),t}},50293:function(e,t,n){n.d(t,{j:function(){return s}});var r=n(98503),i=n(2031),o=n(83297);const s=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,r.C)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,n){if(t.itemId)return new i["default"]({id:t.itemId,portal:n?.portal})}writePortalItem(e,t){e?.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem?.id)try{const{load:i}=await Promise.all([n.e(3338),n.e(1128)]).then(n.bind(n,21128));return(0,r.D)(t),await i({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(i){throw(0,r.E)(i)||r.n.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${i}`),i}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>((0,r.G)(e),!0))))}async setUserPrivileges(e,t){if(!r.H.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:n,fullEdit:r},content:{updateItem:i}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",r),this._set("userHasUpdateItemPrivileges",i)}catch(n){(0,r.G)(n)}}async _fetchUserPrivileges(e,t){let n=this.portalItem;if(!e||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(t);const s=e===n.id;if(s&&n.portal.user)return(0,o.E)(n);let a,u;if(s)a=n.portal.url;else try{a=await(0,r.J)(this.url,t)}catch(f){(0,r.G)(f)}if(!a||!(0,r.W)(a,n.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;u=await(r.K?.getCredential(`${a}/sharing`,{prompt:!1,signal:e}))}catch(f){(0,r.G)(f)}const l=!0,c=!1,p=!1;if(!u)return{features:{edit:l,fullEdit:c},content:{updateItem:p}};try{if(s?await n.reload():(n=new i["default"]({id:e,portal:{url:a}}),await n.load(t)),n.portal.user)return(0,o.E)(n)}catch(f){(0,r.G)(f)}return{features:{edit:l,fullEdit:c},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(n){(0,r.G)(n)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?r.K?.findCredential(this.url):null;if(!t)return!0;const n=a.credential===t?a.user:await this._fetchEditingUser(e);return a.credential=t,a.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const n=r.K?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const i=`${n.owningSystemUrl}/sharing/rest`,o=r.b.getDefault();if(o&&o.loaded&&(0,r.L)(o.restUrl)===(0,r.L)(i))return o.user;const s=`${i}/community/self`,a=null!=e?e.signal:null,u=await(0,r._)((0,r.U)(s,{authMode:"no-prompt",query:{f:"json"},signal:a}));return u.ok?r.M.fromJSON(u.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const n=t?.portal,i=this.portalItem?.id&&(this.portalItem.portal||r.b.getDefault());return n&&i&&!(0,r.N)(i.restUrl,n.restUrl)?(t.messages&&t.messages.push(new r.s("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return(0,r.k)([(0,r.o)({type:i["default"]})],t.prototype,"portalItem",null),(0,r.k)([(0,r.u)("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),(0,r.k)([(0,r.q)("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),(0,r.k)([(0,r.o)({clonable:!1})],t.prototype,"resourceReferences",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),(0,r.k)([(0,r.o)({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=(0,r.k)([(0,r.A)("esri.layers.mixins.PortalLayer")],t),t},a={credential:null,user:null}},83424:function(e,t,n){n.d(t,{t:function(){return i}});var r=n(98503);const i=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&o(e,t.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===e.minScale&&n.maxScale===e.maxScale?n:e}};return(0,r.k)([(0,r.o)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,r.k)([(0,r.o)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,r.k)([(0,r.o)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,r.k)([(0,r.A)("esri.layers.mixins.ScaleRangeLayer")],t),t};function o(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}},50257:function(e,t,n){n.d(t,{i:function(){return s},m:function(){return u},o:function(){return o},p:function(){return f},r:function(){return i}});var r=n(98503);const i={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function o(e,t,n,i=r.dL){const o=new r.a6((0,r.dK)(i)),s=r.at.fromJSDate(e,{zone:o}),a="decades"===n||"centuries"===n?"year":l(n);return"decades"===n&&(t*=10),"centuries"===n&&(t*=100),s.plus({[a]:t}).toJSDate()}function s(e,t,n="milliseconds"){const r=e.getTime(),i=u(t,n,"milliseconds");return new Date(r+i)}function a(e,t,n=r.dL){const i=new r.a6((0,r.dK)(n)),o=r.at.fromJSDate(e,{zone:i});if("decades"===t||"centuries"===t){const e=o.startOf("year"),{year:n}=e,r=n-n%("decades"===t?10:100);return e.set({year:r}).toJSDate()}const s=l(t);return o.startOf(s).toJSDate()}function u(e,t,n){return 0===e?0:e*i[t]/i[n]}function l(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var c;let p=c=class extends r.v{static get allTime(){return h}static get empty(){return d}static fromArray(e){return new c({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(c.allTime)}get isEmpty(){return this.equals(c.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new c({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,r=e.start?.getTime()??e.start,i=e.end?.getTime()??e.end;return t===r&&n===i}expandTo(e,t=r.dL){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=a(n,e,t));let i=this.end;if(i){const n=a(i,e,t);i=i.getTime()===n.getTime()?n:o(n,1,e,t)}return new c({start:n,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return c.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,r=e.start?.getTime()??-1/0,i=e.end?.getTime()??1/0;let o,s;return r>=t&&r<=n?o=r:t>=r&&t<=i&&(o=t),n>=r&&n<=i?s=n:i>=t&&i<=n&&(s=i),null==o||null==s||isNaN(o)||isNaN(s)?c.empty:new c({start:o===-1/0?null:new Date(o),end:s===1/0?null:new Date(s)})}offset(e,t,n=r.dL){if(this.isEmpty||this.isAllTime)return this.clone();const i=new c,{start:s,end:a}=this;return null!=s&&(i.start=o(s,e,t,n)),null!=a&&(i.end=o(a,e,t,n)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return h.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new c({start:t,end:n})}};(0,r.k)([(0,r.o)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),(0,r.k)([(0,r.u)("end")],p.prototype,"readEnd",null),(0,r.k)([(0,r.q)("end")],p.prototype,"writeEnd",null),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),(0,r.k)([(0,r.o)({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),(0,r.k)([(0,r.o)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),(0,r.k)([(0,r.u)("start")],p.prototype,"readStart",null),(0,r.k)([(0,r.q)("start")],p.prototype,"writeStart",null),p=c=(0,r.k)([(0,r.A)("esri.time.TimeExtent")],p);const f=p,h=new p,d=new p({start:void 0,end:void 0})},20014:function(e,t,n){n.d(t,{I:function(){return B},T:function(){return $},a:function(){return o},b:function(){return U},c:function(){return j},d:function(){return R},e:function(){return A},f:function(){return G},g:function(){return D},j:function(){return V},l:function(){return T},m:function(){return C},p:function(){return L},s:function(){return P},u:function(){return q},v:function(){return F},y:function(){return O}});var r=n(98503),i=n(39394);const o=(e=>e)(["operational-layers","basemap","ground"]);let s=class extends r.v{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],s.prototype,"description",void 0),(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],s.prototype,"label",void 0),(0,r.k)([(0,r.o)()],s.prototype,"type",void 0),s=(0,r.k)([(0,r.A)("esri.tables.elements.AttributeTableElement")],s);const a=s;var u;let l=u=class extends a{constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return new u({description:this.description,displayType:this.displayType,label:this.label})}};(0,r.k)([(0,r.o)({type:["auto"],json:{write:!0}})],l.prototype,"displayType",void 0),(0,r.k)([(0,r.o)({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0),l=u=(0,r.k)([(0,r.A)("esri.tables.elements.AttributeTableAttachmentElement")],l);const c=l;var p;let f=p=class extends a{constructor(e){super(e),this.fieldName=null,this.type="field"}clone(){return new p({description:this.description,fieldName:this.fieldName,label:this.label})}};(0,r.k)([(0,r.o)({type:String,json:{write:!0}})],f.prototype,"fieldName",void 0),(0,r.k)([(0,r.o)({type:String,json:{read:!1,write:!0}})],f.prototype,"type",void 0),f=p=(0,r.k)([(0,r.A)("esri.tables.elements.AttributeTableFieldElement")],f);const h=f;var d;let m=d=class extends a{constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return new d({description:this.description,label:this.label,relationshipId:this.relationshipId})}};(0,r.k)([(0,r.o)({type:Number,json:{write:!0}})],m.prototype,"relationshipId",void 0),(0,r.k)([(0,r.o)({type:["relationship"],json:{read:!1,write:!0}})],m.prototype,"type",void 0),m=d=(0,r.k)([(0,r.A)("esri.tables.elements.AttributeTableRelationshipElement")],m);const y=m;function g(e){return{typesWithGroup:{base:a,key:"type",typeMap:{attachment:c,field:h,group:e,relationship:y}},typesWithoutGroup:{base:a,key:"type",typeMap:{attachment:c,field:h,relationship:y}}}}function v(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>r[e.type].fromJSON(e)))}function b(e,t,n=!0){if(!e)return null;const r=n?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>r[e.type])).map((e=>e.toJSON()))}function w(e,t,n=!0){return e?e.map((e=>(0,r.hN)(n?t.typesWithGroup:t.typesWithoutGroup,e))):null}var x;let M=x=class extends a{constructor(e){super(e),this.elements=null,this.type="group"}castElements(e){return w(e,S,!1)}readElements(e,t){return v(t.attributeTableElements,S,!1)}writeElements(e,t){t.attributeTableElements=b(e,S,!1)}clone(){return new x({description:this.description,elements:(0,r.f)(this.elements),label:this.label})}};(0,r.k)([(0,r.o)({json:{write:!0}})],M.prototype,"elements",void 0),(0,r.k)([(0,r.by)("elements")],M.prototype,"castElements",null),(0,r.k)([(0,r.u)("elements",["attributeTableElements"])],M.prototype,"readElements",null),(0,r.k)([(0,r.q)("elements")],M.prototype,"writeElements",null),(0,r.k)([(0,r.o)({type:String,json:{read:!1,write:!0}})],M.prototype,"type",void 0),M=x=(0,r.k)([(0,r.A)("esri.tables.elements.AttributeTableGroupElement")],M);const S=g(M),_=M;var I;const E=g(_);let k=I=class extends r.v{constructor(e){super(e),this.elements=null,this.orderByFields=null}castElements(e){return w(e,E)}readElements(e,t){return v(t.attributeTableElements,E)}writeElements(e,t){t.attributeTableElements=b(e,E)}clone(){return new I({elements:(0,r.f)(this.elements),orderByFields:this.orderByFields})}};(0,r.k)([(0,r.o)({json:{write:!0}})],k.prototype,"elements",void 0),(0,r.k)([(0,r.by)("elements")],k.prototype,"castElements",null),(0,r.k)([(0,r.u)("elements",["attributeTableElements"])],k.prototype,"readElements",null),(0,r.k)([(0,r.q)("elements")],k.prototype,"writeElements",null),(0,r.k)([(0,r.o)({type:[Object],json:{write:!0}})],k.prototype,"orderByFields",void 0),k=I=(0,r.k)([(0,r.A)("esri.tables.AttributeTableTemplate")],k);const A=k,P={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:o}}},T={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,n){t[n]=!e}}}},L={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:o}}},O={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:r.T}}},R={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:o}}},j={value:null,type:i.h,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:o}}};function C(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const N={write:{enabled:!0,layerContainerTypes:o},read:!0},G={type:Number,json:{origins:{"web-document":N,"portal-item":{write:!0}}}},U={...G,json:{...G.json,origins:{"web-document":{...N,write:{enabled:!0,layerContainerTypes:o,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,n)=>n&&"service"!==n.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition?.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?(0,r.hs)(t.layerDefinition.drawingInfo.transparency):void 0:(0,r.hs)(t.drawingInfo.transparency)}}},D={type:r.au,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const n=r.au.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(n.spatialReference=r.B.fromJSON(t.spatialReference)),n}}}},read:!1}},q={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},V={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:o}}},name:"layerDefinition.minScale",write:!0}},F={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:o}}},name:"layerDefinition.maxScale",write:!0}},B={json:{write:{ignoreOrigin:!0,layerContainerTypes:o},origins:{"web-map":{read:!1,write:!1}}}},$={type:A,json:{name:"attributeTableInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}}},74855:function(e,t,n){n.d(t,{c:function(){return a},p:function(){return p},s:function(){return s}});var r=n(98503);let i=null,o=!0;function s(e,t,n){if(!e||!t)throw new Error("Cannot construct image data without dimensions");if(o)try{return new ImageData(e,t)}catch{o=!1}return l(e,t,n)}function a(e,t,n,r){if(!t||!n)throw new Error("Cannot construct image data without dimensions");if(o)try{return new ImageData(e,t,n)}catch{o=!1}const i=l(t,n,r);return i.data.set(e,0),i}function u(){return i||(i=document.createElement("canvas"),i.width=1,i.height=1),i}function l(e,t,n){return n||(n=u()),n.getContext("2d").createImageData(e,t)}async function c(e,t){const n=window.URL.createObjectURL(e);try{const{data:e}=await(0,r.U)(n,{...t,responseType:"image"});return e}catch(i){throw(0,r.E)(i)?i:new r.s("invalid-image",`Could not fetch requested image at ${n}`)}finally{window.URL.revokeObjectURL(n)}}async function p(e,t){const{arrayBuffer:r,mediaType:i}=await f(e,t),o="image/png"===i;if("image/gif"===i){const{isAnimatedGIF:e,parseGif:i}=await n.e(4220).then(n.bind(n,54220));if(e(r))return i(r,t)}if(o){const{isAnimatedPNG:e,parseApng:i}=await n.e(8483).then(n.bind(n,8483));if(e(r))return i(r,t)}return c(new Blob([r],{type:i}),t)}async function f(e,t){const n=(0,r.aU)(e);if(n?.isBase64)return{arrayBuffer:(0,r.aV)(n.data),mediaType:n.mediaType};const i=await(0,r.U)(e,{responseType:"array-buffer",...t});return{arrayBuffer:i.data,mediaType:i.getHeader?.("Content-Type")??""}}},25938:function(e,t,n){var r;n.d(t,{A:function(){return r}}),function(e){e[e.SAVE=0]="SAVE",e[e.SAVE_AS=1]="SAVE_AS"}(r||(r={}))},78546:function(e,t,n){n.d(t,{a:function(){return s},n:function(){return o}});var r=n(98503),i=n(80910);function o(e,t,n){try{return u(e)}catch(r){n?.messages?.push(r)}return null}function s(e,t,n,i){try{const i=a(e);(0,r.aY)(n,i,t)}catch(o){i.messages&&i.messages.push(o)}}function a(e){const t=(0,i.d)(e);return t?(0,i.l)(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}function u(e){if(!e||0===e.length)return null;if(l(e)){const t=[];for(const n of e)t.push({scale:n.scale,value:c(n.value)});return t}return c(e)}function l(e){const t=e[0];return!!t&&"scale"in t}function c(e){if(!e?.length)return"";const t=[];for(const n of e){let e=[];switch(n.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[p(n,"amount")];break;case"blur":e=[p(n,"radius","pt")];break;case"hue-rotate":e=[p(n,"angle","deg")];break;case"drop-shadow":e=[p(n,"xoffset","pt"),p(n,"yoffset","pt"),p(n,"blurRadius","pt"),f(n,"color")];break;case"bloom":e=[p(n,"strength"),p(n,"radius","pt"),p(n,"threshold")]}const r=`${n.type}(${e.filter(Boolean).join(" ")})`;(0,i.d)(r),t.push(r)}return t.join(" ")}function p(e,t,n){if(null==e[t])throw new r.s("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return n?e[t]+n:""+e[t]}function f(e,t){if(null==e[t])throw new r.s("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const n=e[t];return`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`}},64131:function(e,t,n){n.d(t,{m:function(){return i}});var r=n(98503);const i={unknown:1,inches:(0,r.a1)(1,"meters","inches"),feet:(0,r.a1)(1,"meters","feet"),"us-feet":(0,r.a1)(1,"meters","us-feet"),yards:(0,r.a1)(1,"meters","yards"),miles:(0,r.a1)(1,"meters","miles"),"nautical-miles":(0,r.a1)(1,"meters","nautical-miles"),millimeters:(0,r.a1)(1,"meters","millimeters"),centimeters:(0,r.a1)(1,"meters","centimeters"),decimeters:(0,r.a1)(1,"meters","decimeters"),meters:(0,r.a1)(1,"meters","meters"),kilometers:(0,r.a1)(1,"meters","kilometers"),"decimal-degrees":1/(0,r.a2)(1,"meters",r.a3.radius)}},69852:function(e,t,n){n.d(t,{M:function(){return h},b:function(){return y},c:function(){return c},f:function(){return m},h:function(){return d},i:function(){return f},j:function(){return S},l:function(){return g},m:function(){return v},n:function(){return i},o:function(){return a},p:function(){return x},r:function(){return s},s:function(){return l},u:function(){return u}});var r=n(25209);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(e,t,n,r,i,o,s,a,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e[4]=o,e[5]=s,e[6]=a,e[7]=u,e[8]=l,e}function a(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function u(e,t){if(e===t){const n=t[1],r=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function l(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],c=t[8],p=c*s-a*l,f=-c*o+a*u,h=l*o-s*u;let d=n*p+r*f+i*h;return d?(d=1/d,e[0]=p*d,e[1]=(-c*r+i*l)*d,e[2]=(a*r-i*s)*d,e[3]=f*d,e[4]=(c*n-i*u)*d,e[5]=(-a*n+i*o)*d,e[6]=h*d,e[7]=(-l*n+r*u)*d,e[8]=(s*n-r*o)*d,e):null}function c(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],c=t[8];return e[0]=s*c-a*l,e[1]=i*l-r*c,e[2]=r*a-i*s,e[3]=a*u-o*c,e[4]=n*c-i*u,e[5]=i*o-n*a,e[6]=o*l-s*u,e[7]=r*u-n*l,e[8]=n*s-r*o,e}function p(e){const t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],u=e[7],l=e[8];return t*(l*o-s*u)+n*(-l*i+s*a)+r*(u*i-o*a)}function f(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=n[0],h=n[1],d=n[2],m=n[3],y=n[4],g=n[5],v=n[6],b=n[7],w=n[8];return e[0]=f*r+h*s+d*l,e[1]=f*i+h*a+d*c,e[2]=f*o+h*u+d*p,e[3]=m*r+y*s+g*l,e[4]=m*i+y*a+g*c,e[5]=m*o+y*u+g*p,e[6]=v*r+b*s+w*l,e[7]=v*i+b*a+w*c,e[8]=v*o+b*u+w*p,e}function h(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=n[0],h=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=s,e[4]=a,e[5]=u,e[6]=f*r+h*s+l,e[7]=f*i+h*a+c,e[8]=f*o+h*u+p,e}function d(e,t,n){const r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],l=t[6],c=t[7],p=t[8],f=Math.sin(n),h=Math.cos(n);return e[0]=h*r+f*s,e[1]=h*i+f*a,e[2]=h*o+f*u,e[3]=h*s-f*r,e[4]=h*a-f*i,e[5]=h*u-f*o,e[6]=l,e[7]=c,e[8]=p,e}function m(e,t,n){const r=n[0],i=n[1],o=n[2];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=o*t[6],e[7]=o*t[7],e[8]=o*t[8],e}function y(e,t,n){const r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e}function g(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function v(e,t){const n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function b(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function w(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function x(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=n+n,a=r+r,u=i+i,l=n*s,c=r*s,p=r*a,f=i*s,h=i*a,d=i*u,m=o*s,y=o*a,g=o*u;return e[0]=1-p-d,e[3]=c-g,e[6]=f+y,e[1]=c+g,e[4]=1-l-d,e[7]=h-m,e[2]=f-y,e[5]=h+m,e[8]=1-l-p,e}function M(e,t){const n=t[0],r=t[1],i=t[2],o=t[4],s=t[5],a=t[6],u=t[8],l=t[9],c=t[10],p=c*s-a*l,f=-c*o+a*u,h=l*o-s*u,d=n*p+r*f+i*h;if(!d)return null;const m=1/d;return e[0]=p*m,e[1]=(-c*r+i*l)*m,e[2]=(a*r-i*s)*m,e[3]=f*m,e[4]=(c*n-i*u)*m,e[5]=(-a*n+i*o)*m,e[6]=h*m,e[7]=(-l*n+r*u)*m,e[8]=(s*n-r*o)*m,e}function S(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],l=t[7],c=t[8],p=t[9],f=t[10],h=t[11],d=t[12],m=t[13],y=t[14],g=t[15],v=n*a-r*s,b=n*u-i*s,w=n*l-o*s,x=r*u-i*a,M=r*l-o*a,S=i*l-o*u,_=c*m-p*d,I=c*y-f*d,E=c*g-h*d,k=p*y-f*m,A=p*g-h*m,P=f*g-h*y;let T=v*P-b*A+w*k+x*E-M*I+S*_;return T?(T=1/T,e[0]=(a*P-u*A+l*k)*T,e[1]=(u*E-s*P-l*I)*T,e[2]=(s*A-a*E+l*_)*T,e[3]=(i*A-r*P-o*k)*T,e[4]=(n*P-i*E+o*I)*T,e[5]=(r*E-n*A-o*_)*T,e[6]=(m*S-y*M+g*x)*T,e[7]=(y*w-d*S-g*b)*T,e[8]=(d*M-m*w+g*v)*T,e):null}function _(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function I(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function E(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2)}function k(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function A(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function P(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function T(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function O(e,t){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],p=e[8],f=t[0],h=t[1],d=t[2],m=t[3],y=t[4],g=t[5],v=t[6],b=t[7],w=t[8],x=(0,r.e)();return Math.abs(n-f)<=x*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-h)<=x*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-d)<=x*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-m)<=x*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-y)<=x*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(u-g)<=x*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-v)<=x*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-b)<=x*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(p-w)<=x*Math.max(1,Math.abs(p),Math.abs(w))}function R(e){const t=(0,r.e)(),n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],p=e[8];return Math.abs(1-(n*n+s*s+l*l))<=t&&Math.abs(1-(i*i+a*a+c*c))<=t&&Math.abs(1-(o*o+u*u+p*p))<=t}const j=f,C=A;Object.freeze(Object.defineProperty({__proto__:null,add:k,adjoint:c,copy:o,determinant:p,equals:O,exactEquals:L,frob:E,fromMat2d:w,fromMat4:i,fromQuat:x,fromRotation:v,fromScaling:b,fromTranslation:g,identity:a,invert:l,isOrthoNormal:R,mul:j,multiply:f,multiplyScalar:P,multiplyScalarAndAdd:T,normalFromMat4:S,normalFromMat4Legacy:M,projection:_,rotate:d,scale:m,scaleByVec2:y,set:s,str:I,sub:C,subtract:A,translate:h,transpose:u},Symbol.toStringTag,{value:"Module"}))},10769:function(e,t,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}function o(e,t,n,r,i,o,s,a,u){return[e,t,n,r,i,o,s,a,u]}function s(e,t){return new Float64Array(e,t,9)}n.d(t,{e:function(){return r},o:function(){return a},t:function(){return o}});const a=r();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:a,clone:i,create:r,createView:s,fromValues:o},Symbol.toStringTag,{value:"Module"}))},94137:function(e,t,n){n.d(t,{i:function(){return o},o:function(){return a},r:function(){return i},s:function(){return s}});var r=n(98503);const i={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new r.aT({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:r.B.WebMercator}),minus180Line:new r.aT({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:r.B.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new r.aT({paths:[[[180,-180],[180,180]]],spatialReference:r.B.WGS84}),minus180Line:new r.aT({paths:[[[-180,-180],[-180,180]]],spatialReference:r.B.WGS84})}};function o(e,t){return Math.ceil((e-t)/(2*t))}function s(e,t){const n=a(e);for(const r of n)for(const e of r)e[0]+=t;return e}function a(e){return(0,r.a9)(e)?e.rings:e.paths}},13340:function(e,t,n){n.d(t,{a:function(){return s},p:function(){return o}});var r=n(98503),i=n(94137);function o(e){return a(e,!0)}function s(e){return a(e,!1)}function a(e,t){if(null==e)return null;const n=e.spatialReference,o=(0,r.bF)(n),s=(0,r.aq)(e)?e.toJSON():e;if(!o)return s;const a=(0,r.cL)(n)?102100:4326,c=i.r[a].maxX,p=i.r[a].minX;if((0,r.a8)(s))return l(s,c,p);if((0,r.ab)(s))return s.points=s.points.map((e=>l(e,c,p))),s;if((0,r.cJ)(s))return u(s,o);if((0,r.a9)(s)||(0,r.aa)(s)){const e=(0,r.cM)(y,s),n={xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3]},o=(0,i.i)(n.xmin,p)*(2*c),a=0===o?s:(0,i.s)(s,o);return n.xmin+=o,n.xmax+=o,n.xmax>c?d(a,c,t):n.xmin<p?d(a,p,t):a}return s}function u(e,t){if(!t)return e;const n=c(e,t).map((e=>e.extent));return n.length<2?n[0]||e:n.length>2?(e.xmin=t.valid[0],e.xmax=t.valid[1],e):{rings:n.map((e=>[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]))}}function l(e,t,n){if(Array.isArray(e)){const r=e[0];if(r>t){const n=(0,i.i)(r,t);e[0]=r+n*(-2*t)}else if(r<n){const t=(0,i.i)(r,n);e[0]=r+t*(-2*n)}}else{const r=e.x;if(r>t){const n=(0,i.i)(r,t);e.x+=n*(-2*t)}else if(r<n){const t=(0,i.i)(r,n);e.x+=t*(-2*n)}}return e}function c(e,t){const n=[],{ymin:r,ymax:i,xmin:o,xmax:s}=e,a=e.xmax-e.xmin,[u,l]=t.valid,{x:c,frameId:h}=p(e.xmin,t),{x:d,frameId:y}=p(e.xmax,t),g=c===d&&a>0;if(a>2*l){const e={xmin:o<s?c:d,ymin:r,xmax:l,ymax:i},t={xmin:u,ymin:r,xmax:o<s?d:c,ymax:i},a={xmin:0,ymin:r,xmax:l,ymax:i},p={xmin:u,ymin:r,xmax:0,ymax:i},g=[],v=[];f(e,a)&&g.push(h),f(e,p)&&v.push(h),f(t,a)&&g.push(y),f(t,p)&&v.push(y);for(let n=h+1;n<y;n++)g.push(n),v.push(n);n.push(new m(e,[h]),new m(t,[y]),new m(a,g),new m(p,v))}else c>d||g?n.push(new m({xmin:c,ymin:r,xmax:l,ymax:i},[h]),new m({xmin:u,ymin:r,xmax:d,ymax:i},[y])):n.push(new m({xmin:c,ymin:r,xmax:d,ymax:i},[h]));return n}function p(e,t){const[n,r]=t.valid,i=2*r;let o,s=0;return e>r?(o=Math.ceil(Math.abs(e-r)/i),e-=o*i,s=o):e<n&&(o=Math.ceil(Math.abs(e-n)/i),e+=o*i,s=-o),{x:e,frameId:s}}function f(e,t){const{xmin:n,ymin:r,xmax:i,ymax:o}=t;return h(e,n,r)&&h(e,n,o)&&h(e,i,o)&&h(e,i,r)}function h(e,t,n){return t>=e.xmin&&t<=e.xmax&&n>=e.ymin&&n<=e.ymax}function d(e,t,n=!0){const i=!(0,r.aa)(e);if(i&&(0,r.cN)(e),n)return(new g).cut(e,t);const o=i?e.rings:e.paths,s=i?4:2,a=o.length,u=-2*t;for(let r=0;r<a;r++){const e=o[r];if(e&&e.length>=s){const t=[];for(const n of e)t.push([n[0]+u,n[1]]);o.push(t)}}return i?e.rings=o:e.paths=o,e}class m{constructor(e,t){this.extent=e,this.frameIds=t}}const y=(0,r.bS)();class g{constructor(){this._linesIn=[],this._linesOut=[]}cut(e,t){let n;if(this._xCut=t,e.rings)this._closed=!0,n=e.rings,this._minPts=4;else{if(!e.paths)return null;this._closed=!1,n=e.paths,this._minPts=2}for(const i of n){if(!i||i.length<this._minPts)continue;let e=!0;for(const t of i)e?(this.moveTo(t),e=!1):this.lineTo(t);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),n=[];for(const i of this._linesIn)i&&i.length>=this._minPts&&n.push(i);const r=-2*this._xCut;for(const i of this._linesOut)if(i&&i.length>=this._minPts){for(const e of i)e[0]+=r;n.push(i)}return this._closed?e.rings=n:e.paths=n,e}moveTo(e){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(e[0]),this._moveTo(e[0],e[1],this._prevSide),this._prevPt=e,this._firstPt=e}lineTo(e){const t=this._side(e[0]);if(t*this._prevSide==-1){const n=this._intersect(this._prevPt,e);this._lineTo(this._xCut,n,0),this._prevSide=0,this._lineTo(e[0],e[1],t)}else this._lineTo(e[0],e[1],t);this._prevSide=t,this._prevPt=e}close(){const e=this._firstPt,t=this._prevPt;e[0]===t[0]&&e[1]===t[1]||this.lineTo(e),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(e,t,n){this._closed?(this._lineIn.push([n<=0?e:this._xCut,t]),this._lineOut.push([n>=0?e:this._xCut,t])):(n<=0&&this._lineIn.push([e,t]),n>=0&&this._lineOut.push([e,t]))}_lineTo(e,t,n){this._closed?(v(this._lineIn,n<=0?e:this._xCut,t),v(this._lineOut,n>=0?e:this._xCut,t)):n<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([e,t])):n>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([e,t])):this._prevSide<0?(this._lineIn.push([e,t]),this._lineOut.push([e,t])):this._prevSide>0&&(this._lineOut.push([e,t]),this._lineIn.push([e,t]))}_checkClosingPt(e){const t=e.length;t>3&&e[0][0]===this._xCut&&e[t-2][0]===this._xCut&&e[1][0]===this._xCut&&(e[0][1]=e[t-2][1],e.pop())}_side(e){return e<this._xCut?-1:e>this._xCut?1:0}_intersect(e,t){const n=(this._xCut-e[0])/(t[0]-e[0]);return e[1]+n*(t[1]-e[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}function v(e,t,n){const r=e.length;r>1&&e[r-1][0]===t&&e[r-2][0]===t?e[r-1][1]=n:e.push([t,n])}},80910:function(e,t,n){n.d(t,{d:function(){return P},e:function(){return S},l:function(){return _},t:function(){return M}});var r=n(98503),i=n(92113),o=n(74362);const s=(e,t)=>{const n=(0,o.r)(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return(0,o.s)(n,n)},a=(e,t)=>{const n=(0,o.r)(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return(0,o.s)(n,n)},u=(e,t)=>{const n=1-t,r=(0,o.r)(e,.2126+.7874*n,.7152-.7152*n,.0722-.0722*n,0,.2126-.2126*n,.7152+.2848*n,.0722-.0722*n,0,.2126-.2126*n,.7152-.7152*n,.0722+.9278*n,0,0,0,0,1);return(0,o.s)(r,r)},l=(e,t)=>{const n=Math.sin(t*Math.PI/180),r=Math.cos(t*Math.PI/180),i=(0,o.r)(e,.213+.787*r-.213*n,.715-.715*r-.715*n,.072-.072*r+.928*n,0,.213-.213*r+.143*n,.715+.285*r+.14*n,.072-.072*r-.283*n,0,.213-.213*r-.787*n,.715-.715*r+.715*n,.072+.928*r+.072*n,0,0,0,0,1);return(0,o.s)(i,i)},c=(e,t)=>{const n=1-2*t,r=(0,o.r)(e,n,0,0,t,0,n,0,t,0,0,n,t,0,0,0,1);return(0,o.s)(r,r)},p=(e,t)=>{const n=(0,o.r)(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return(0,o.s)(n,n)},f=(e,t)=>{const n=1-t,r=(0,o.r)(e,.393+.607*n,.769-.769*n,.189-.189*n,0,.349-.349*n,.686+.314*n,.168-.168*n,0,.272-.272*n,.534-.534*n,.131+.869*n,0,0,0,0,1);return(0,o.s)(r,r)};class h{constructor(e,t,n){this.strength=e,this.radius=t,this.threshold=n,this.type="bloom"}interpolate(e,t,n){this.strength=b(e.strength,t.strength,n),this.radius=b(e.radius,t.radius,n),this.threshold=b(e.threshold,t.threshold,n)}clone(){return new h(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:w(this.radius),strength:this.strength,threshold:this.threshold}}}let d=class e{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,n){this.radius=Math.round(b(e.radius,t.radius,n))}clone(){return new e(this.radius)}toJSON(){return{type:"blur",radius:w(this.radius)}}};class m{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.amount=b(e.amount,t.amount,n),this._updateMatrix()}clone(){return new m(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||(0,i.e)();switch(this.type){case"brightness":this._colorMatrix=s(e,this.amount);break;case"contrast":this._colorMatrix=a(e,this.amount);break;case"grayscale":this._colorMatrix=u(e,this.amount);break;case"invert":this._colorMatrix=c(e,this.amount);break;case"saturate":this._colorMatrix=p(e,this.amount);break;case"sepia":this._colorMatrix=f(e,this.amount)}}}let y=class e{constructor(e,t,n,r){this.offsetX=e,this.offsetY=t,this.blurRadius=n,this.color=r,this.type="drop-shadow"}interpolate(e,t,n){this.offsetX=b(e.offsetX,t.offsetX,n),this.offsetY=b(e.offsetY,t.offsetY,n),this.blurRadius=b(e.blurRadius,t.blurRadius,n),this.color[0]=Math.round(b(e.color[0],t.color[0],n)),this.color[1]=Math.round(b(e.color[1],t.color[1],n)),this.color[2]=Math.round(b(e.color[2],t.color[2],n)),this.color[3]=b(e.color[3],t.color[3],n)}clone(){return new e(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:w(this.offsetX),yoffset:w(this.offsetY),blurRadius:w(this.blurRadius),color:e}}},g=class e{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,n){this.angle=b(e.angle,t.angle,n),this._updateMatrix()}clone(){return new e(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||(0,i.e)();this._colorMatrix=l(e,this.angle)}};class v{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,n){this.amount=b(e.amount,t.amount,n)}clone(){return new v(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function b(e,t,n){return e+(t-e)*n}function w(e){return Math.round(1e3*(0,r.bd)(e))/1e3}function x(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new m(e.type,0);case"saturate":case"brightness":case"contrast":return new m(e.type,1);case"opacity":return new v(1);case"hue-rotate":return new g(0);case"blur":return new d(0);case"drop-shadow":return new y(0,0,0,[...(0,r.gv)("transparent")]);case"bloom":return new h(0,0,1)}}function M(e,t){const n=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===n[t].type))}function S(e,t){const n=e.length>t.length?e:t,r=e.length>t.length?t:e;for(let i=r.length;i<n.length;i++)r.push(x(n[i]))}function _(e){const t=e[0];return!!t&&"type"in t}function I(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function E(e,t,n,r){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,E.prototype),i.expected=t,i.found=n,i.location=r,i.name="SyntaxError",i}function k(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function A(e,t){var n,r={},i=(t=void 0!==t?t:{}).grammarSource,o={start:ze},s=ze,a="none",u=")",l=",",c="(",p="%",f="px",h="cm",d="mm",m="in",y="pt",g="pc",v="deg",b="rad",w="grad",x="turn",M="#",S=".",_="e",I=/^[ \t\n\r]/,k=/^[a-z\-]/,A=/^[0-9a-fA-F]/,P=/^[+\-]/,T=/^[0-9]/,L=Fe("none"),O=De("none",!1),R=De(")",!1),j=De(",",!1),C=Fe("whitespace"),N=qe([" ","\t","\n","\r"],!1,!1),G=Fe("function"),U=De("(",!1),D=Fe("identifier"),q=qe([["a","z"],"-"],!1,!1),V=Fe("percentage"),F=De("%",!1),B=Fe("length"),$=De("px",!1),W=De("cm",!1),H=De("mm",!1),z=De("in",!1),J=De("pt",!1),Y=De("pc",!1),K=Fe("angle"),X=De("deg",!1),Z=De("rad",!1),Q=De("grad",!1),ee=De("turn",!1),te=Fe("number"),ne=Fe("color"),re=De("#",!1),ie=qe([["0","9"],["a","f"],["A","F"]],!1,!1),oe=qe(["+","-"],!1,!1),se=qe([["0","9"]],!1,!1),ae=De(".",!1),ue=De("e",!1),le=function(){return[]},ce=function(e,t){return{type:"function",name:e,parameters:t||[]}},pe=function(e,t){return t.length>0?lt(e,t,3):[e]},fe=function(e){return{type:"quantity",value:e.value,unit:e.unit}},he=function(e){return{type:"color",colorType:e.type,value:e.value}},de=function(e){return e},me=function(){return Ue()},ye=function(e){return{value:e,unit:"%"}},ge=function(e){return{value:e,unit:"px"}},ve=function(e){return{value:e,unit:"cm"}},be=function(e){return{value:e,unit:"mm"}},we=function(e){return{value:e,unit:"in"}},xe=function(e){return{value:e,unit:"pt"}},Me=function(e){return{value:e,unit:"pc"}},Se=function(e){return{value:e,unit:"deg"}},_e=function(e){return{value:e,unit:"rad"}},Ie=function(e){return{value:e,unit:"grad"}},Ee=function(e){return{value:e,unit:"turn"}},ke=function(e){return{value:e,unit:null}},Ae=function(){return{type:"hex",value:Ue()}},Pe=function(e){return{type:"function",value:e}},Te=function(){return{type:"named",value:Ue()}},Le=function(){return parseFloat(Ue())},Oe=0|t.peg$currPos,Re=Oe,je=[{line:1,column:1}],Ce=Oe,Ne=t.peg$maxFailExpected||[],Ge=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=o[t.startRule]}function Ue(){return e.substring(Re,Oe)}function De(e,t){return{type:"literal",text:e,ignoreCase:t}}function qe(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Ve(){return{type:"end"}}function Fe(e){return{type:"other",description:e}}function Be(t){var n,r=je[t];if(r)return r;if(t>=je.length)n=je.length-1;else for(n=t;!je[--n];);for(r={line:(r=je[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return je[t]=r,r}function $e(e,t,n){var r=Be(e),o=Be(t);return{source:i,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:o.line,column:o.column}}}function We(e){Oe<Ce||(Oe>Ce&&(Ce=Oe,Ne=[]),Ne.push(e))}function He(e,t,n){return new E(E.buildMessage(e,t),e,t,n)}function ze(){var e;return(e=Je())===r&&(e=Ye()),e}function Je(){var t,n;return Ge++,t=Oe,Qe(),e.substr(Oe,4)===a?(n=a,Oe+=4):(n=r,0===Ge&&We(O)),n!==r?(Qe(),Re=t,t=le()):(Oe=t,t=r),Ge--,t===r&&0===Ge&&We(L),t}function Ye(){var e,t;if(e=[],(t=Ke())!==r)for(;t!==r;)e.push(t),t=Ke();else e=r;return e}function Ke(){var t,n,i,o;return t=Oe,Qe(),(n=et())!==r?(Qe(),(i=Xe())===r&&(i=null),Qe(),41===e.charCodeAt(Oe)?(o=u,Oe++):(o=r,0===Ge&&We(R)),o!==r?(Qe(),Re=t,t=ce(n,i)):(Oe=t,t=r)):(Oe=t,t=r),t}function Xe(){var t,n,i,o,s,a,u,c;if(t=Oe,(n=Ze())!==r){for(i=[],o=Oe,s=Qe(),44===e.charCodeAt(Oe)?(a=l,Oe++):(a=r,0===Ge&&We(j)),a===r&&(a=null),u=Qe(),(c=Ze())!==r?o=s=[s,a,u,c]:(Oe=o,o=r);o!==r;)i.push(o),o=Oe,s=Qe(),44===e.charCodeAt(Oe)?(a=l,Oe++):(a=r,0===Ge&&We(j)),a===r&&(a=null),u=Qe(),(c=Ze())!==r?o=s=[s,a,u,c]:(Oe=o,o=r);Re=t,t=pe(n,i)}else Oe=t,t=r;return t}function Ze(){var e,t;return e=Oe,(t=nt())===r&&(t=rt())===r&&(t=it())===r&&(t=ot()),t!==r&&(Re=e,t=fe(t)),(e=t)===r&&(e=Oe,(t=st())!==r&&(Re=e,t=he(t)),e=t),e}function Qe(){var t,n;for(Ge++,t=[],n=e.charAt(Oe),I.test(n)?Oe++:(n=r,0===Ge&&We(N));n!==r;)t.push(n),n=e.charAt(Oe),I.test(n)?Oe++:(n=r,0===Ge&&We(N));return Ge--,n=r,0===Ge&&We(C),t}function et(){var t,n,i;return Ge++,t=Oe,(n=tt())!==r?(40===e.charCodeAt(Oe)?(i=c,Oe++):(i=r,0===Ge&&We(U)),i!==r?(Re=t,t=de(n)):(Oe=t,t=r)):(Oe=t,t=r),Ge--,t===r&&(n=r,0===Ge&&We(G)),t}function tt(){var t,n,i;if(Ge++,t=Oe,n=[],i=e.charAt(Oe),k.test(i)?Oe++:(i=r,0===Ge&&We(q)),i!==r)for(;i!==r;)n.push(i),i=e.charAt(Oe),k.test(i)?Oe++:(i=r,0===Ge&&We(q));else n=r;return n!==r&&(Re=t,n=me()),Ge--,(t=n)===r&&(n=r,0===Ge&&We(D)),t}function nt(){var t,n,i;return Ge++,t=Oe,Qe(),(n=at())!==r?(37===e.charCodeAt(Oe)?(i=p,Oe++):(i=r,0===Ge&&We(F)),i!==r?(Re=t,t=ye(n)):(Oe=t,t=r)):(Oe=t,t=r),Ge--,t===r&&0===Ge&&We(V),t}function rt(){var t,n,i;return Ge++,t=Oe,Qe(),(n=at())!==r?(e.substr(Oe,2)===f?(i=f,Oe+=2):(i=r,0===Ge&&We($)),i!==r?(Re=t,t=ge(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,Qe(),(n=at())!==r?(e.substr(Oe,2)===h?(i=h,Oe+=2):(i=r,0===Ge&&We(W)),i!==r?(Re=t,t=ve(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,Qe(),(n=at())!==r?(e.substr(Oe,2)===d?(i=d,Oe+=2):(i=r,0===Ge&&We(H)),i!==r?(Re=t,t=be(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,Qe(),(n=at())!==r?(e.substr(Oe,2)===m?(i=m,Oe+=2):(i=r,0===Ge&&We(z)),i!==r?(Re=t,t=we(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,Qe(),(n=at())!==r?(e.substr(Oe,2)===y?(i=y,Oe+=2):(i=r,0===Ge&&We(J)),i!==r?(Re=t,t=xe(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,Qe(),(n=at())!==r?(e.substr(Oe,2)===g?(i=g,Oe+=2):(i=r,0===Ge&&We(Y)),i!==r?(Re=t,t=Me(n)):(Oe=t,t=r)):(Oe=t,t=r)))))),Ge--,t===r&&0===Ge&&We(B),t}function it(){var t,n,i;return Ge++,t=Oe,(n=at())!==r?(e.substr(Oe,3)===v?(i=v,Oe+=3):(i=r,0===Ge&&We(X)),i!==r?(Re=t,t=Se(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,(n=at())!==r?(e.substr(Oe,3)===b?(i=b,Oe+=3):(i=r,0===Ge&&We(Z)),i!==r?(Re=t,t=_e(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,(n=at())!==r?(e.substr(Oe,4)===w?(i=w,Oe+=4):(i=r,0===Ge&&We(Q)),i!==r?(Re=t,t=Ie(n)):(Oe=t,t=r)):(Oe=t,t=r),t===r&&(t=Oe,(n=at())!==r?(e.substr(Oe,4)===x?(i=x,Oe+=4):(i=r,0===Ge&&We(ee)),i!==r?(Re=t,t=Ee(n)):(Oe=t,t=r)):(Oe=t,t=r)))),Ge--,t===r&&(n=r,0===Ge&&We(K)),t}function ot(){var e,t;return Ge++,e=Oe,Qe(),(t=at())!==r?(Re=e,e=ke(t)):(Oe=e,e=r),Ge--,e===r&&0===Ge&&We(te),e}function st(){var t,n,i,o;if(Ge++,t=Oe,35===e.charCodeAt(Oe)?(n=M,Oe++):(n=r,0===Ge&&We(re)),n!==r){if(i=[],o=e.charAt(Oe),A.test(o)?Oe++:(o=r,0===Ge&&We(ie)),o!==r)for(;o!==r;)i.push(o),o=e.charAt(Oe),A.test(o)?Oe++:(o=r,0===Ge&&We(ie));else i=r;i!==r?(Re=t,t=Ae()):(Oe=t,t=r)}else Oe=t,t=r;return t===r&&(t=Oe,(n=Ke())!==r&&(Re=t,n=Pe(n)),(t=n)===r&&(t=Oe,(n=tt())!==r&&(Re=t,n=Te()),t=n)),Ge--,t===r&&(n=r,0===Ge&&We(ne)),t}function at(){var t,n,i,o,s,a,u,l;for(t=Oe,n=e.charAt(Oe),P.test(n)?Oe++:(n=r,0===Ge&&We(oe)),n===r&&(n=null),i=Oe,o=[],s=e.charAt(Oe),T.test(s)?Oe++:(s=r,0===Ge&&We(se));s!==r;)o.push(s),s=e.charAt(Oe),T.test(s)?Oe++:(s=r,0===Ge&&We(se));if(46===e.charCodeAt(Oe)?(s=S,Oe++):(s=r,0===Ge&&We(ae)),s!==r){if(a=[],u=e.charAt(Oe),T.test(u)?Oe++:(u=r,0===Ge&&We(se)),u!==r)for(;u!==r;)a.push(u),u=e.charAt(Oe),T.test(u)?Oe++:(u=r,0===Ge&&We(se));else a=r;a!==r?i=o=[o,s,a]:(Oe=i,i=r)}else Oe=i,i=r;if(i===r)if(i=[],o=e.charAt(Oe),T.test(o)?Oe++:(o=r,0===Ge&&We(se)),o!==r)for(;o!==r;)i.push(o),o=e.charAt(Oe),T.test(o)?Oe++:(o=r,0===Ge&&We(se));else i=r;if(i!==r){if(o=Oe,101===e.charCodeAt(Oe)?(s=_,Oe++):(s=r,0===Ge&&We(ue)),s!==r){if(a=e.charAt(Oe),P.test(a)?Oe++:(a=r,0===Ge&&We(oe)),a===r&&(a=null),u=[],l=e.charAt(Oe),T.test(l)?Oe++:(l=r,0===Ge&&We(se)),l!==r)for(;l!==r;)u.push(l),l=e.charAt(Oe),T.test(l)?Oe++:(l=r,0===Ge&&We(se));else u=r;u!==r?o=s=[s,a,u]:(Oe=o,o=r)}else Oe=o,o=r;o===r&&(o=null),Re=t,t=Le()}else Oe=t,t=r;return t}function ut(e,t){return e.map((function(e){return e[t]}))}function lt(e,t,n){return[e].concat(ut(t,n))}if(n=s(),t.peg$library)return{peg$result:n,peg$currPos:Oe,peg$FAILED:r,peg$maxFailExpected:Ne,peg$maxFailPos:Ce};if(n!==r&&Oe===e.length)return n;throw n!==r&&Oe<e.length&&We(Ve()),He(Ne,Ce<e.length?e.charAt(Ce):null,Ce<e.length?$e(Ce,Ce+1):$e(Ce,Ce))}function P(e){if(!e||0===e.length)return null;if("string"==typeof e){const t=T(e);return t&&0!==t.length?t:null}const t=e.map((e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new r.s("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:T(e.value)}}));t.sort(((e,t)=>t.effects.length-e.effects.length));for(let n=0;n<t.length-1;n++){if(!M(t[n].effects,t[n+1].effects))throw new r.s("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[n].effects,b:t[n+1].effects});S(t[n].effects,t[n+1].effects)}return t.sort(((e,t)=>t.scale-e.scale)),t}function T(e){let t;if(!e)return[];try{t=A(e)}catch(n){throw new r.s("effect:invalid-syntax","Invalid effect syntax",{value:e,error:n})}return t.map((e=>L(e)))}function L(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return O(e);case"opacity":return R(e);case"hue-rotate":return j(e);case"blur":return C(e);case"drop-shadow":return N(e);case"bloom":return G(e)}}catch(t){throw t.details.filter=e,t}throw new r.s("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function O(e){let t=1;return U(e.parameters,1),1===e.parameters.length&&(t=z(e.parameters[0])),new m(e.name,t)}function R(e){let t=1;return U(e.parameters,1),1===e.parameters.length&&(t=z(e.parameters[0])),new v(t)}function j(e){let t=0;return U(e.parameters,1),1===e.parameters.length&&(t=Y(e.parameters[0])),new g(t)}function C(e){let t=0;return U(e.parameters,1),1===e.parameters.length&&(t=K(e.parameters[0]),q(t,e.parameters[0])),new d(t)}function N(e){const t=[];let n=null;for(const i of e.parameters)if("color"===i.type){if(t.length&&Object.freeze(t),n)throw new r.s("effect:type-error","Accepts only one color",{});n=X(i)}else{const e=K(i);if(Object.isFrozen(t))throw new r.s("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(e),3===t.length&&q(e,i)}if(t.length<2||t.length>3)throw new r.s("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new y(t[0],t[1],t[2]||0,n||Z("black"))}function G(e){let t=1,n=0,r=0;return U(e.parameters,3),e.parameters[0]&&(t=z(e.parameters[0])),e.parameters[1]&&(n=K(e.parameters[1]),q(n,e.parameters[1])),e.parameters[2]&&(r=z(e.parameters[2])),new h(t,n,r)}function U(e,t){if(e.length>t)throw new r.s("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function D(e){if("color"===e.type)return"<color>";if(e.unit){if(e.unit in W)return"<length>";if(e.unit in B)return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function q(e,t){if(e<0)throw new r.s("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function V(e){if("quantity"!==e.type||null!==e.unit)throw new r.s("effect:type-error",`Expected <double>, Actual: ${D(e)}`,{term:e})}function F(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new r.s("effect:type-error",`Expected <double> or <percentage>, Actual: ${D(e)}`,{term:e})}I(E,Error),E.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,s=this.location.source+":"+o.line+":"+o.column;if(r){var a=this.location.end,u=k("",o.line.toString().length," "),l=r[i.line-1],c=(i.line===a.line?a.column:l.length+1)-i.column||1;t+="\n --\x3e "+s+"\n"+u+" |\n"+o.line+" | "+l+"\n"+u+" | "+k("",i.column-1," ")+k("",c,"^")}else t+="\n at "+s}return t},E.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return n[e.type](e)}function a(e){var t,n,r=e.map(s);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function u(e){return e?'"'+i(e)+'"':"end of input"}return"Expected "+a(e)+" but "+u(t)+" found."};const B={deg:1,grad:.9,rad:180/Math.PI,turn:360};function $(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=B[e.unit]))throw new r.s("effect:type-error",`Expected <angle>, Actual: ${D(e)}`,{term:e})}const W={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function H(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=W[e.unit]))throw new r.s("effect:type-error",`Expected <length>, Actual: ${D(e)}`,{term:e})}function z(e){F(e);const t=e.value;return q(t,e),"%"===e.unit?.01*t:t}function J(e){return V(e),q(e.value,e),e.value}function Y(e){return $(e),e.value*B[e.unit]||0}function K(e){return H(e),e.value*W[e.unit]||0}function X(e){switch(e.colorType){case"hex":return(0,r.gw)(e.value);case"named":return Z(e.value);case"function":return te(e.value)}}function Z(e){if(!(0,r.gx)(e))throw new r.s("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return(0,r.gy)(e)}const Q=/^rgba?/i,ee=/^hsla?/i;function te(e){if(U(e.parameters,4),Q.test(e.name))return[z(e.parameters[0]),z(e.parameters[1]),z(e.parameters[2]),e.parameters[3]?z(e.parameters[3]):1];if(ee.test(e.name))return(0,r.gz)(J(e.parameters[0]),z(e.parameters[1]),z(e.parameters[2]),e.parameters[3]?z(e.parameters[3]):1);throw new r.s("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}},92413:function(e,t,n){n.d(t,{j:function(){return y},m:function(){return c},p:function(){return m}});var r=n(98503),i=n(49555),o=n(13340),s=n(69852),a=n(10769),u=n(69539),l=n(92157);let c=class extends r.aD{constructor(e){super(e)}get bounds(){const e=this.coords;return null==e?.extent?null:(0,r.eR)(e.extent)}get coords(){const e=this.element.georeference?.coords;return(0,i.V)(e,this.spatialReference).geometry}get normalizedCoords(){return r.bC.fromJSON((0,o.p)(this.coords))}get normalizedBounds(){const e=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=e?(0,r.eR)(e):null}};(0,r.k)([(0,r.o)()],c.prototype,"spatialReference",void 0),(0,r.k)([(0,r.o)()],c.prototype,"element",void 0),(0,r.k)([(0,r.o)()],c.prototype,"bounds",null),(0,r.k)([(0,r.o)()],c.prototype,"coords",null),(0,r.k)([(0,r.o)()],c.prototype,"normalizedCoords",null),(0,r.k)([(0,r.o)()],c.prototype,"normalizedBounds",null),c=(0,r.k)([(0,r.A)("esri.layers.support.MediaElementView")],c);const p=(0,r.aA)(),f=(0,a.e)(),h=(0,a.e)(),d=(0,a.e)();function m(e,t,n){return(0,l.o)(p,t[0],t[1],1),(0,l.N)(p,p,(0,s.u)(f,n)),0===p[2]?(0,u.o)(e,p[0],p[1]):(0,u.o)(e,p[0]/p[2],p[1]/p[2])}function y(e,t,n){return g(h,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]),g(d,n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]),(0,s.i)(e,(0,s.c)(h,h),d),0!==e[8]&&(e[0]/=e[8],e[1]/=e[8],e[2]/=e[8],e[3]/=e[8],e[4]/=e[8],e[5]/=e[8],e[6]/=e[8],e[7]/=e[8],e[8]/=e[8]),e}function g(e,t,n,r,i,o,a,u,c){(0,s.r)(e,t,r,o,n,i,a,1,1,1),(0,l.o)(p,u,c,1),(0,s.c)(f,e);const[h,d,m]=(0,l.N)(p,p,(0,s.u)(f,f));return(0,s.r)(f,h,0,0,0,d,0,0,0,m),(0,s.i)(e,f,e)}},83297:function(e,t,n){n.d(t,{E:function(){return h},a:function(){return l},c:function(){return u},f:function(){return f},i:function(){return s},l:function(){return p},s:function(){return a},u:function(){return c}});var r=n(49555),i=n(98503);async function o(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,i.a0)(e);const n=i.B.WGS84;return await(0,r.N)(t,n),(0,r.K)(e,n)}function s(e,t){if(!a(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function a(e,t){return!!e.typeKeywords?.includes(t)}function u(e){return a(e,f.HOSTED_SERVICE)}function l(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function c(e,t,n){n?s(e,t):l(e,t)}async function p(e){const t=e.clone().normalize();let n;if(t.length>1)for(const r of t)n?r.width>n.width&&(n=r):n=r;else n=t[0];return o(n)}const f={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer"};function h(e){const{portal:t,isOrgItem:n,itemControl:r}=e,i=t.user?.privileges;let o=!i||i.includes("features:user:edit"),s=!!n&&!!i?.includes("features:user:fullEdit");const a="update"===r||"admin"===r;return a?s=o=!0:s&&(o=!0),{features:{edit:o,fullEdit:s},content:{updateItem:a}}}},59885:function(e,t,n){function r(e,t,n,r,o){i(e,t,n||0,r||e.length-1,o||s)}function i(e,t,n,r,s){for(;r>n;){if(r-n>600){var a=r-n+1,u=t-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),p=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1);i(e,t,Math.max(n,Math.floor(t-u*c/a+p)),Math.min(r,Math.floor(t+(a-u)*c/a+p)),s)}var f=e[t],h=n,d=r;for(o(e,n,t),s(e[r],f)>0&&o(e,n,r);h<d;){for(o(e,h,d),h++,d--;s(e[h],f)<0;)h++;for(;s(e[d],f)>0;)d--}0===s(e[n],f)?o(e,n,d):o(e,++d,r),d<=t&&(n=d+1),t<=d&&(r=d-1)}}function o(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function s(e,t){return e<t?-1:e>t?1:0}n.d(t,{t:function(){return r}})},78124:function(e,t,n){n.d(t,{p:function(){return i}});var r=n(98503);function i(e){return a[o(e)]||l}function o(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:s(e.url)}function s(e){const t=(0,r.bz)(e);return c[t]||u}const a={},u="text/plain",l=a[u],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const p in c)a[c[p]]=p},77998:function(e,t,n){n.d(t,{e:function(){return a},n:function(){return i},o:function(){return s},r:function(){return o}});const r="randomUUID"in crypto;function i(){if(r)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function o(){return`{${i().toUpperCase()}}`}function s(){return`{${i()}}`}function a(e){const t=e.toUpperCase();return"{"!==e[0]?`{${t}}`:t}},69539:function(e,t,n){n.d(t,{B:function(){return D},E:function(){return C},I:function(){return O},L:function(){return R},M:function(){return h},S:function(){return P},T:function(){return N},_:function(){return E},b:function(){return v},d:function(){return y},e:function(){return a},f:function(){return f},j:function(){return _},k:function(){return G},l:function(){return m},m:function(){return g},o:function(){return o},p:function(){return w},q:function(){return b},r:function(){return i},u:function(){return s},v:function(){return S},x:function(){return x},y:function(){return I}});var r=n(25209);function i(e,t){return e[0]=t[0],e[1]=t[1],e}function o(e,t,n){return e[0]=t,e[1]=n,e}function s(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function a(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function u(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function l(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function c(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function p(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function f(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function h(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function d(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function m(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function y(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function g(e,t){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function v(e,t){const n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function b(e){const t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function w(e){const t=e[0],n=e[1];return t*t+n*n}function x(e,t){return e[0]=-t[0],e[1]=-t[1],e}function M(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function S(e,t){const n=t[0],r=t[1];let i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),e[0]=t[0]*i,e[1]=t[1]*i),e}function _(e,t){return e[0]*t[0]+e[1]*t[1]}function I(e,t,n){const r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function E(e,t,n,r){const i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}function k(e,t=1){const n=2*(0,r.o)()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function A(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}function P(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function T(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[3]*i+n[6],e[1]=n[1]*r+n[4]*i+n[7],e}function L(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}function O(e,t,n,r){const i=t[0]-n[0],o=t[1]-n[1],s=Math.sin(r),a=Math.cos(r);return e[0]=i*a-o*s+n[0],e[1]=i*s+o*a+n[1],e}function R(e,t){const n=e[0],r=e[1],i=t[0],o=t[1];let s=n*n+r*r;s>0&&(s=1/Math.sqrt(s));let a=i*i+o*o;a>0&&(a=1/Math.sqrt(a));const u=(n*i+r*o)*s*a;return u>1?0:u<-1?Math.PI:Math.acos(u)}function j(e){return"vec2("+e[0]+", "+e[1]+")"}function C(e,t){return e[0]===t[0]&&e[1]===t[1]}function N(e,t){const n=e[0],i=e[1],o=t[0],s=t[1],a=(0,r.e)();return Math.abs(n-o)<=a*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))}function G(e,t,n,r,i){let o=t[0]-n[0],s=t[1]-n[1];const a=(r[0]*o+r[1]*s)*(i-1);return o=r[0]*a,s=r[1]*a,e[0]=t[0]+o,e[1]=t[1]+s,e}const U=b,D=a,q=u,V=l,F=g,B=v,$=w;Object.freeze(Object.defineProperty({__proto__:null,add:s,angle:R,ceil:c,copy:i,cross:I,dist:F,distance:g,div:V,divide:l,dot:_,equals:N,exactEquals:C,floor:p,inverse:M,len:U,length:b,lerp:E,max:h,min:f,mul:q,multiply:u,negate:x,normalize:S,projectAndScale:G,random:k,rotate:O,round:d,scale:m,scaleAndAdd:y,set:o,sqrDist:B,sqrLen:$,squaredDistance:v,squaredLength:w,str:j,sub:D,subtract:a,transformMat2:A,transformMat2d:P,transformMat3:T,transformMat4:L},Symbol.toStringTag,{value:"Module"}))},39967:function(e,t,n){function r(){return[0,0]}function i(e){return[e[0],e[1]]}function o(e,t){return[e,t]}function s(e,t=r()){const n=Math.min(2,e.length);for(let r=0;r<n;++r)t[r]=e[r];return t}function a(e,t){return new Float64Array(e,t,2)}function u(){return r()}function l(){return o(1,1)}function c(){return o(1,0)}function p(){return o(0,1)}n.d(t,{_:function(){return m},a:function(){return f},e:function(){return s},l:function(){return h},n:function(){return r},r:function(){return o},s:function(){return d}});const f=u(),h=l(),d=c(),m=p();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:d,UNIT_Y:m,ZEROS:f,clone:i,create:r,createView:a,fromArray:s,fromValues:o,ones:l,unitX:c,unitY:p,zeros:u},Symbol.toStringTag,{value:"Module"}))},92157:function(e,t,n){n.d(t,{A:function(){return k},E:function(){return C},H:function(){return W},I:function(){return L},J:function(){return H},K:function(){return z},N:function(){return N},P:function(){return A},Q:function(){return G},R:function(){return J},W:function(){return X},X:function(){return Z},Y:function(){return Q},Z:function(){return ee},_:function(){return P},c:function(){return l},d:function(){return g},e:function(){return c},f:function(){return d},g:function(){return w},i:function(){return p},j:function(){return _},l:function(){return y},m:function(){return m},o:function(){return a},p:function(){return M},q:function(){return x},r:function(){return o},s:function(){return s},u:function(){return u},v:function(){return S},w:function(){return q},y:function(){return I},z:function(){return E}});var r=n(98503),i=n(25209);function o(e){const t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function c(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function p(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function f(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function h(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function d(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function m(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function y(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function g(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function v(e,t=0,n=1){return e[0]=Math.min(Math.max(e[0],t),n),e[1]=Math.min(Math.max(e[1],t),n),e[2]=Math.min(Math.max(e[2],t),n),e}function b(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function w(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function x(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function M(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}function S(e,t){const n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}function _(e){const t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function I(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function E(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function k(e,t){const n=t[0],r=t[1],i=t[2];let o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o),e}function A(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function P(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],u=n[2];return e[0]=i*u-o*a,e[1]=o*s-r*u,e[2]=r*a-i*s,e}function T(e,t,n){const r=t[0],i=t[1],o=t[2],s=n[0],a=n[1],u=n[2],l=i*u-o*a,c=o*s-r*u,p=r*a-i*s,f=Math.sqrt(l*l+c*c+p*p);return e[0]=l/f,e[1]=c/f,e[2]=p/f,e}function L(e,t,n,r){const i=t[0],o=t[1],s=t[2];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e[2]=s+r*(n[2]-s),e}function O(e,t,n,r,i,o){const s=o*o,a=s*(2*o-3)+1,u=s*(o-2)+o,l=s*(o-1),c=s*(3-2*o);return e[0]=t[0]*a+n[0]*u+r[0]*l+i[0]*c,e[1]=t[1]*a+n[1]*u+r[1]*l+i[1]*c,e[2]=t[2]*a+n[2]*u+r[2]*l+i[2]*c,e}function R(e,t,n,r,i,o){const s=1-o,a=s*s,u=o*o,l=a*s,c=3*o*a,p=3*u*s,f=u*o;return e[0]=t[0]*l+n[0]*c+r[0]*p+i[0]*f,e[1]=t[1]*l+n[1]*c+r[1]*p+i[1]*f,e[2]=t[2]*l+n[2]*c+r[2]*p+i[2]*f,e}function j(e,t=1){const n=i.o,r=2*n()*Math.PI,o=2*n()-1,s=Math.sqrt(1-o*o)*t;return e[0]=Math.cos(r)*s,e[1]=Math.sin(r)*s,e[2]=o*t,e}function C(e,t,n){const r=t[0],i=t[1],o=t[2];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12],e[1]=n[1]*r+n[5]*i+n[9]*o+n[13],e[2]=n[2]*r+n[6]*i+n[10]*o+n[14],e}function N(e,t,n){const r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e}function G(e,t,n){const r=n[0],i=n[1],o=n[2],s=n[3],a=t[0],u=t[1],l=t[2],c=i*l-o*u,p=o*a-r*l,f=r*u-i*a,h=i*f-o*p,d=o*c-r*f,m=r*p-i*c,y=2*s;return e[0]=a+c*y+2*h,e[1]=u+p*y+2*d,e[2]=l+f*y+2*m,e}function U(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function D(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function q(e,t,n,r){const i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e}function V(e,t){k(F,e),k(B,t);const n=A(F,B);return n>1?0:n<-1?Math.PI:Math.acos(n)}const F=(0,r.aA)(),B=(0,r.aA)();function $(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function W(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function H(e,t){if(e===t)return!0;const n=e[0],r=e[1],o=e[2],s=t[0],a=t[1],u=t[2],l=(0,i.e)();return Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=l*Math.max(1,Math.abs(o),Math.abs(u))}function z(e,t,n){const r=n[0]-t[0],i=n[1]-t[1],o=n[2]-t[2];let s=r*r+i*i+o*o;return s>0?(s=1/Math.sqrt(s),e[0]=r*s,e[1]=i*s,e[2]=o*s,e):(e[0]=0,e[1]=0,e[2]=0,e)}const J=l,Y=c,K=p,X=M,Z=S,Q=o,ee=_;Object.freeze(Object.defineProperty({__proto__:null,abs:d,add:u,angle:V,bezier:R,ceil:f,clamp:v,copy:s,cross:P,crossAndNormalize:T,direction:z,dist:X,distance:M,div:K,divide:p,dot:A,equals:H,exactEquals:W,floor:h,hermite:O,inverse:E,len:Q,length:o,lerp:L,max:g,min:y,mul:Y,multiply:c,negate:I,normalize:k,random:j,rotateX:U,rotateY:D,rotateZ:q,round:b,scale:w,scaleAndAdd:x,set:a,sign:m,sqrDist:Z,sqrLen:ee,squaredDistance:S,squaredLength:_,str:$,sub:J,subtract:l,transformMat3:N,transformMat4:C,transformQuat:G},Symbol.toStringTag,{value:"Module"}))}}]);
//# sourceMappingURL=4284.2898a320.js.map