"use strict";(self["webpackChunkramp_website"]=self["webpackChunkramp_website"]||[]).push([[5396,8252],{28252:function(e,t,r){r.d(t,{f:function(){return l}});var n=r(98503),s=r(50257);async function o(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:s}=await Promise.all([r.e(2031),r.e(7489)]).then(r.bind(r,67489)).then((e=>e.p));try{return await s(t)}catch(o){const e=t?.portalItem,r=e?.id||"unset",s=e?.portal?.url||n.H.portalUrl;throw n.n.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+s+"', id: '"+r+"')",o),o}}let i=0,a=class extends(n.bP.EventedMixin((0,n.da)(n.e))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new n.au(-180,-90,180,90,n.B.WGS84),this.id=Date.now().toString(16)+"-layer-"+i++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=n.B.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await Promise.all([r.e(2031),r.e(8529)]).then(r.bind(r,58529))).fromUrl(t)}static fromPortalItem(e){return o(e)}initialize(){this.when().catch((e=>{(0,n.E)(e)||n.n.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const t=this;"layers"in e&&e.layers.includes(t)?e.layers.remove(t):"tables"in e&&e.tables.includes(t)?e.tables.remove(t):"baseLayers"in e&&e.baseLayers.includes(t)?e.baseLayers.remove(t):"referenceLayers"in e&&e.referenceLayers.includes(t)&&e.referenceLayers.remove(t),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const t=this.parent;return e&&t&&"effectiveVisible"in t&&(e&&=t.effectiveVisible),e}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return(0,n.I)(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await(0,n.U)(e,{query:{f:"json"},responseType:"json"})).data;throw new n.s("layer:no-attribution-data","Layer does not have attribution data")}};(0,n.k)([(0,n.o)({type:String})],a.prototype,"attributionDataUrl",void 0),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"effectiveVisible",null),(0,n.k)([(0,n.o)({type:n.au})],a.prototype,"fullExtent",void 0),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"hasAttributionData",null),(0,n.k)([(0,n.o)({type:String,clonable:!1})],a.prototype,"id",void 0),(0,n.k)([(0,n.o)({type:Boolean,nonNullable:!0})],a.prototype,"legendEnabled",void 0),(0,n.k)([(0,n.o)({type:["show","hide","hide-children"]})],a.prototype,"listMode",void 0),(0,n.k)([(0,n.o)({type:Number,range:{min:0,max:1},nonNullable:!0})],a.prototype,"opacity",void 0),(0,n.k)([(0,n.o)({clonable:!1})],a.prototype,"parent",void 0),(0,n.k)([(0,n.o)({readOnly:!0})],a.prototype,"parsedUrl",null),(0,n.k)([(0,n.o)({type:Boolean,readOnly:!0})],a.prototype,"persistenceEnabled",void 0),(0,n.k)([(0,n.o)({type:Boolean})],a.prototype,"popupEnabled",void 0),(0,n.k)([(0,n.o)({type:Boolean})],a.prototype,"attributionVisible",void 0),(0,n.k)([(0,n.o)({type:n.B})],a.prototype,"spatialReference",void 0),(0,n.k)([(0,n.o)({type:String})],a.prototype,"title",void 0),(0,n.k)([(0,n.o)({readOnly:!0,json:{read:!1}})],a.prototype,"type",void 0),(0,n.k)([(0,n.o)()],a.prototype,"url",void 0),(0,n.k)([(0,n.o)({type:s.p})],a.prototype,"visibilityTimeExtent",void 0),(0,n.k)([(0,n.o)({type:Boolean,nonNullable:!0})],a.prototype,"visible",void 0),a=(0,n.k)([(0,n.A)("esri.layers.Layer")],a);const l=a},68951:function(e,t,r){r.r(t),r.d(t,{default:function(){return D}});var n,s=r(98503),o=r(96510),i=r(49329),a=r(16787),l=r(7524),u=(r(92113),r(74362),r(70018));let d=n=class extends s.v{constructor(e){super(e),this.type="none"}clone(){return new n({type:this.type})}};var p;(0,s.k)([(0,s.bk)({none:"none",stayAbove:"stay-above"})],d.prototype,"type",void 0),d=n=(0,s.k)([(0,s.A)("esri.ground.NavigationConstraint")],d);let y=p=class extends((0,s.d9)(s.e)){constructor(e){super(e),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new s.V;const t=e=>{e.parent&&e.parent!==this&&"remove"in e.parent&&e.parent.remove(e),e.parent=this,"elevation"!==e.type&&"base-elevation"!==e.type&&s.n.getLogger(this).error(`Layer '${e.title}, id:${e.id}' of type '${e.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},r=e=>{e.parent=null};this.addHandles([this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>r(e.item)))])}initialize(){this.when().catch((e=>{(0,s.E)(e)||s.n.getLogger(this).error("#load()","Failed to load ground",e)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.layers.removeAll();for(const t of e)(0,s.C)(t);this.layers.destroy()}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set layers(e){this._set("layers",(0,s.cW)(e,this._get("layers")))}writeLayers(e,t,r,n){const o=[];e&&(n={...n,layerContainerType:"ground"},e.forEach((e=>{if("write"in e){const t={};(0,i.o)(e)().write(t,n)&&o.push(t)}else n?.messages&&n.messages.push(new s.s("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted in the ground`,{layer:e}))}))),t.layers=o}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return(0,a.t)(this,(e=>{e(this.layers)}))}async queryElevation(e,t){await this.load({signal:t?.signal});const{ElevationQuery:n}=await r.e(1004).then(r.bind(r,61004));(0,s.D)(t);const o=new n,i=this.layers.filter(h).toArray();return o.queryAll(i,e,t)}async createElevationSampler(e,t){await this.load({signal:t?.signal});const{ElevationQuery:n}=await r.e(1004).then(r.bind(r,61004));(0,s.D)(t);const o=new n,i=this.layers.filter(h).toArray();return o.createSamplerAll(i,e,t)}clone(){const e={opacity:this.opacity,surfaceColor:(0,s.f)(this.surfaceColor),navigationConstraint:(0,s.f)(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(e.loadStatus="loaded"),new p({resourceInfo:this.resourceInfo}).set(e)}read(e,t){this.resourceInfo||this._set("resourceInfo",{data:e,context:t}),super.read(e,t)}_loadFromSource(e){const t=this.resourceInfo;return t?this._loadLayersFromJSON(t.data,t.context,e):Promise.resolve()}async _loadLayersFromJSON(e,t,n){const o=t?.origin||"web-scene",i=t?.portal||null,a=t?.url||null,{populateOperationalLayers:l}=await Promise.all([r.e(3338),r.e(3297)]).then(r.bind(r,13338));(0,s.D)(n);const u=[];if(e.layers&&Array.isArray(e.layers)){const t={context:{origin:o,url:a,portal:i,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};u.push(l(this.layers,e.layers,t))}await Promise.allSettled(u)}};function c(e){return e&&"createElevationSampler"in e}function h(e){return"elevation"===e.type||c(e)}(0,s.k)([(0,s.o)({json:{read:!1}})],y.prototype,"layers",null),(0,s.k)([(0,s.q)("layers")],y.prototype,"writeLayers",null),(0,s.k)([(0,s.o)({readOnly:!0})],y.prototype,"resourceInfo",void 0),(0,s.k)([(0,s.o)({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:s.bp,read:{reader:s.hs,source:"transparency"},write:{writer:(e,t)=>{t.transparency=(0,s.gu)(e)},target:"transparency"}}})],y.prototype,"opacity",void 0),(0,s.k)([(0,s.o)({type:s.aC,json:{type:[s.bp],write:(e,t)=>{t.surfaceColor=e.toJSON().slice(0,3)}}})],y.prototype,"surfaceColor",void 0),(0,s.k)([(0,s.o)({type:d,json:{write:!0}})],y.prototype,"navigationConstraint",void 0),y=p=(0,s.k)([(0,s.A)("esri.Ground")],y);const f=y,m=new WeakMap;function g(e){return!e.destroyed&&(m.has(e)||e.addHandles([(0,s.aE)((()=>{const t=e.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||g(t))}),(t=>m.set(e,t)),s.f1),(0,s.aH)((()=>m.delete(e)))]),m.get(e))}function b(e){return"object"==typeof e&&null!=e&&"loaded"in e&&!0===e.loaded&&"type"in e}function v(e){return!(!b(e)||!(0,s.d0)(e)?.operations?.supportsEditing||"editingEnabled"in e&&!(0,s.c$)(e)||g(e))}const w=()=>s.n.getLogger("esri.support.basemapUtils");function k(){return{}}function T(e){for(const t in e){const r=e[t];(0,s.C)(r),delete e[t]}}function E(e,t){let r;if("string"==typeof e){const n=e in o.s,i=!n&&e.includes("/");if(!n&&!i){if(s.H.apiKey)w().warn(`Unable to find basemap definition for: ${e}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const t=Object.entries(o.s).filter((([e,t])=>t.classic||t.is3d)).map((([e])=>`"${e}"`)).sort().join(", ");w().warn(`Unable to find basemap definition for: ${e}. Try one of these: ${t}`)}return null}t&&(r=t[e]),r||(r=n?o.F.fromId(e):new o.F({style:{id:e}}),t&&(t[e]=r))}else r=(0,s.ef)(o.F,e);return r?.destroyed&&(w().warn("The provided basemap is already destroyed",{basemap:r}),r=null),r}const L={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function S(e){let t=null;if("string"==typeof e)if(e in L){const r=L[e];t=new f({resourceInfo:{data:{layers:[r]}}})}else s.n.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${e}. Try "world-elevation"`);else t=(0,s.ef)(f,e);return t}let A=class extends((0,u.n)((0,u.l)(s.bP.EventedMixin(s.aD)))){constructor(e){super(e),this.allLayers=new l.n({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:e=>"layers"in e?e.layers:null}),this.allTables=(0,u.t)(this),this.basemap=null,this.editableLayers=new l.n({getCollections:()=>[this.allLayers],itemFilterFunction:v}),this.ground=new f,this._basemapCache=k()}destroy(){T(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=(0,s.C)(this.basemap),(0,s.C)(this.ground),this._set("ground",null)}castBasemap(e){return E(e,this._basemapCache)}castGround(e){return S(e)??this._get("ground")}findLayerById(e){return this.allLayers.find((t=>t.id===e))}findTableById(e){return this.allTables.find((t=>t.id===e))}};(0,s.k)([(0,s.o)({readOnly:!0,dependsOn:[]})],A.prototype,"allLayers",void 0),(0,s.k)([(0,s.o)({readOnly:!0})],A.prototype,"allTables",void 0),(0,s.k)([(0,s.o)({type:o.F,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],A.prototype,"basemap",void 0),(0,s.k)([(0,s.by)("basemap")],A.prototype,"castBasemap",null),(0,s.k)([(0,s.o)({readOnly:!0})],A.prototype,"editableLayers",void 0),(0,s.k)([(0,s.o)({type:f,nonNullable:!0})],A.prototype,"ground",void 0),(0,s.k)([(0,s.by)("ground")],A.prototype,"castGround",null),(0,s.k)([(0,s.o)()],A.prototype,"undoRedo",void 0),A=(0,s.k)([(0,s.A)("esri.Map")],A);const D=A},50257:function(e,t,r){r.d(t,{i:function(){return i},m:function(){return l},o:function(){return o},p:function(){return y},r:function(){return s}});var n=r(98503);const s={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function o(e,t,r,s=n.dL){const o=new n.a6((0,n.dK)(s)),i=n.at.fromJSDate(e,{zone:o}),a="decades"===r||"centuries"===r?"year":u(r);return"decades"===r&&(t*=10),"centuries"===r&&(t*=100),i.plus({[a]:t}).toJSDate()}function i(e,t,r="milliseconds"){const n=e.getTime(),s=l(t,r,"milliseconds");return new Date(n+s)}function a(e,t,r=n.dL){const s=new n.a6((0,n.dK)(r)),o=n.at.fromJSDate(e,{zone:s});if("decades"===t||"centuries"===t){const e=o.startOf("year"),{year:r}=e,n=r-r%("decades"===t?10:100);return e.set({year:n}).toJSDate()}const i=u(t);return o.startOf(i).toJSDate()}function l(e,t,r){return 0===e?0:e*s[t]/s[r]}function u(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var d;let p=d=class extends n.v{static get allTime(){return c}static get empty(){return h}static fromArray(e){return new d({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(d.allTime)}get isEmpty(){return this.equals(d.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new d({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,s=e.end?.getTime()??e.end;return t===n&&r===s}expandTo(e,t=n.dL){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=a(r,e,t));let s=this.end;if(s){const r=a(s,e,t);s=s.getTime()===r.getTime()?r:o(r,1,e,t)}return new d({start:r,end:s})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return d.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,s=e.end?.getTime()??1/0;let o,i;return n>=t&&n<=r?o=n:t>=n&&t<=s&&(o=t),r>=n&&r<=s?i=r:s>=t&&s<=r&&(i=s),null==o||null==i||isNaN(o)||isNaN(i)?d.empty:new d({start:o===-1/0?null:new Date(o),end:i===1/0?null:new Date(i)})}offset(e,t,r=n.dL){if(this.isEmpty||this.isAllTime)return this.clone();const s=new d,{start:i,end:a}=this;return null!=i&&(s.start=o(i,e,t,r)),null!=a&&(s.end=o(a,e,t,r)),s}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return c.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new d({start:t,end:r})}};(0,n.k)([(0,n.o)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"end",void 0),(0,n.k)([(0,n.u)("end")],p.prototype,"readEnd",null),(0,n.k)([(0,n.q)("end")],p.prototype,"writeEnd",null),(0,n.k)([(0,n.o)({readOnly:!0,json:{read:!1}})],p.prototype,"isAllTime",null),(0,n.k)([(0,n.o)({readOnly:!0,json:{read:!1}})],p.prototype,"isEmpty",null),(0,n.k)([(0,n.o)({type:Date,json:{write:{allowNull:!0}}})],p.prototype,"start",void 0),(0,n.k)([(0,n.u)("start")],p.prototype,"readStart",null),(0,n.k)([(0,n.q)("start")],p.prototype,"writeStart",null),p=d=(0,n.k)([(0,n.A)("esri.time.TimeExtent")],p);const y=p,c=new p,h=new p({start:void 0,end:void 0})},49329:function(e,t,r){r.d(t,{n:function(){return n},o:function(){return s}});r(98503);function n(e){}function s(e){return()=>e}}}]);
//# sourceMappingURL=5396.462b6e95.js.map